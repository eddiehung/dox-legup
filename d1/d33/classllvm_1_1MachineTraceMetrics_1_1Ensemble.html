<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: llvm::MachineTraceMetrics::Ensemble Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">llvm::MachineTraceMetrics::Ensemble Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a375a21e590d51aec3ad8da2f2bbb895f"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a375a21e590d51aec3ad8da2f2bbb895f">~Ensemble</a> ()</td></tr>
<tr class="separator:a375a21e590d51aec3ad8da2f2bbb895f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eab1cd7d627152b0696bfd77a277ee2"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">getName</a> () <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> =0</td></tr>
<tr class="separator:a8eab1cd7d627152b0696bfd77a277ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b763dcb5d9f7fdf8aa51e1788ee6531"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a2b763dcb5d9f7fdf8aa51e1788ee6531">print</a> (<a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a2b763dcb5d9f7fdf8aa51e1788ee6531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063217bcbb8b81adfdc88feb1a52ddcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a063217bcbb8b81adfdc88feb1a52ddcb">invalidate</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB)</td></tr>
<tr class="memdesc:a063217bcbb8b81adfdc88feb1a52ddcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate traces through BadMBB.  <a href="#a063217bcbb8b81adfdc88feb1a52ddcb">More...</a><br/></td></tr>
<tr class="separator:a063217bcbb8b81adfdc88feb1a52ddcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab276508f4382772aa02513a739614ed1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ab276508f4382772aa02513a739614ed1">verify</a> () <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:ab276508f4382772aa02513a739614ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae48d29e7657ecdb05f44195870226d9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db5/classllvm_1_1MachineTraceMetrics_1_1Trace.html">Trace</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae48d29e7657ecdb05f44195870226d9a">getTrace</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB)</td></tr>
<tr class="separator:ae48d29e7657ecdb05f44195870226d9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a73b0295b2f37729d059fe500f2824255"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a73b0295b2f37729d059fe500f2824255">pickTracePred</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *)=0</td></tr>
<tr class="separator:a73b0295b2f37729d059fe500f2824255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76906d75d1c61ed285c2159520ea8da"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac76906d75d1c61ed285c2159520ea8da">pickTraceSucc</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *)=0</td></tr>
<tr class="separator:ac76906d75d1c61ed285c2159520ea8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c7f4353dd7cd3169ab1f8309a6ebbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a94c7f4353dd7cd3169ab1f8309a6ebbc">Ensemble</a> (<a class="el" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a> *)</td></tr>
<tr class="separator:a94c7f4353dd7cd3169ab1f8309a6ebbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed541d17fca88fb98326359e263a842a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../da/d0f/classllvm_1_1MachineLoop.html">MachineLoop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aed541d17fca88fb98326359e263a842a">getLoopFor</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:aed541d17fca88fb98326359e263a842a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682b90abb526c398e9e1bfc8e37f03b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">TraceBlockInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a682b90abb526c398e9e1bfc8e37f03b7">getDepthResources</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a682b90abb526c398e9e1bfc8e37f03b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ffdd1b319a37f5ff167054f949ac8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">TraceBlockInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a77ffdd1b319a37f5ff167054f949ac8a">getHeightResources</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a77ffdd1b319a37f5ff167054f949ac8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1da9b49331de45b4f64f72ebc857aa1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac1da9b49331de45b4f64f72ebc857aa1">getProcResourceDepths</a> (unsigned MBBNum) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:ac1da9b49331de45b4f64f72ebc857aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a457498d1f8b1cd21b192ac4429d12224"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a457498d1f8b1cd21b192ac4429d12224">getProcResourceHeights</a> (unsigned MBBNum) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a457498d1f8b1cd21b192ac4429d12224"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa60016dad618cf77f24d57fdd3e33112"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a></td></tr>
<tr class="separator:aa60016dad618cf77f24d57fdd3e33112"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab075e868be7eb6b477441f21d34ea2b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ab075e868be7eb6b477441f21d34ea2b8">computeTrace</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *)</td></tr>
<tr class="memdesc:ab075e868be7eb6b477441f21d34ea2b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the trace through MBB.  <a href="#ab075e868be7eb6b477441f21d34ea2b8">More...</a><br/></td></tr>
<tr class="separator:ab075e868be7eb6b477441f21d34ea2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3998744046fbc495d9fc57d1e71ec82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa3998744046fbc495d9fc57d1e71ec82">computeDepthResources</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *)</td></tr>
<tr class="separator:aa3998744046fbc495d9fc57d1e71ec82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe8df9259772d1b40b4be970772d1d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a9fe8df9259772d1b40b4be970772d1d2">computeHeightResources</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *)</td></tr>
<tr class="separator:a9fe8df9259772d1b40b4be970772d1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c03f81eaf866eeb818cbf2ddeb1ad5"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a40c03f81eaf866eeb818cbf2ddeb1ad5">computeCrossBlockCriticalPath</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">TraceBlockInfo</a> &amp;)</td></tr>
<tr class="separator:a40c03f81eaf866eeb818cbf2ddeb1ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb52a15415430cd95c4da167a9d14b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a1bb52a15415430cd95c4da167a9d14b6">computeInstrDepths</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *)</td></tr>
<tr class="separator:a1bb52a15415430cd95c4da167a9d14b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93e240b9069128294e6e38df21cf7d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ad93e240b9069128294e6e38df21cf7d8">computeInstrHeights</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *)</td></tr>
<tr class="separator:ad93e240b9069128294e6e38df21cf7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bcbe8947ce0b352e843e2f201fc3338"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3bcbe8947ce0b352e843e2f201fc3338">addLiveIns</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, unsigned DefOp, <a class="el" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> * &gt; <a class="el" href="../../de/db5/classllvm_1_1MachineTraceMetrics_1_1Trace.html">Trace</a>)</td></tr>
<tr class="separator:a3bcbe8947ce0b352e843e2f201fc3338"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3cd2bbd553ab66b2cab32b981cde5df7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">TraceBlockInfo</a>, 4 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a></td></tr>
<tr class="separator:a3cd2bbd553ab66b2cab32b981cde5df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa15ddfc64482e923393197cd39256676"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> <br class="typebreak"/>
*, <a class="el" href="../../da/dae/structllvm_1_1MachineTraceMetrics_1_1InstrCycles.html">InstrCycles</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">Cycles</a></td></tr>
<tr class="separator:aa15ddfc64482e923393197cd39256676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e089a094ba750d7a5742532937ddb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector</a>&lt; unsigned, 0 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">ProcResourceDepths</a></td></tr>
<tr class="separator:a44e089a094ba750d7a5742532937ddb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b2e10feb5d6a59d9d5e614861035b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector</a>&lt; unsigned, 0 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">ProcResourceHeights</a></td></tr>
<tr class="separator:ae8b2e10feb5d6a59d9d5e614861035b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a9a7aa541dbcfdac34b25b49217ec39d7"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a9a7aa541dbcfdac34b25b49217ec39d7">Trace</a></td></tr>
<tr class="separator:a9a7aa541dbcfdac34b25b49217ec39d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../d4/dc4/structA.html">A</a> trace ensemble is a collection of traces selected using the same strategy, for example 'minimum resource height'. There is one trace for every block in the function. </p>

<p>Definition at line <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html#l00294">294</a> of file <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a94c7f4353dd7cd3169ab1f8309a6ebbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MachineTraceMetrics::Ensemble::Ensemble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a> *&#160;</td>
          <td class="paramname"><em>ct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00147">147</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  : <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>(*ct) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>.resize(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7ae920af686dca854b7ff72e25fd20dc">BlockInfo</a>.size());</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordtype">unsigned</span> PRKinds = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">getNumProcResourceKinds</a>();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">ProcResourceDepths</a>.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">resize</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7ae920af686dca854b7ff72e25fd20dc">BlockInfo</a>.size() * PRKinds);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">ProcResourceHeights</a>.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">resize</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7ae920af686dca854b7ff72e25fd20dc">BlockInfo</a>.size() * PRKinds);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a44e089a094ba750d7a5742532937ddb5"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">llvm::MachineTraceMetrics::Ensemble::ProcResourceDepths</a></div><div class="ttdeci">SmallVector&lt; unsigned, 0 &gt; ProcResourceDepths</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00297">MachineTraceMetrics.h:297</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a7ae920af686dca854b7ff72e25fd20dc"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7ae920af686dca854b7ff72e25fd20dc">llvm::MachineTraceMetrics::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; FixedBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00358">MachineTraceMetrics.h:358</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_ab94cc47416556642bfac3da1face2e22"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">llvm::MachineTraceMetrics::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00073">MachineTraceMetrics.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a91cde5aac43dc88d6ec26c441b39b7c9"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">llvm::TargetSchedModel::getNumProcResourceKinds</a></div><div class="ttdeci">unsigned getNumProcResourceKinds() const </div><div class="ttdoc">Get the number of kinds of resources for this target. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00092">TargetSchedule.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ae8b2e10feb5d6a59d9d5e614861035b9"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">llvm::MachineTraceMetrics::Ensemble::ProcResourceHeights</a></div><div class="ttdeci">SmallVector&lt; unsigned, 0 &gt; ProcResourceHeights</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00298">MachineTraceMetrics.h:298</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a102d0ad36060677286c3aefb812e5512"><div class="ttname"><a href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00376">SmallVector.h:376</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a375a21e590d51aec3ad8da2f2bbb895f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MachineTraceMetrics::Ensemble::~Ensemble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00156">156</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3bcbe8947ce0b352e843e2f201fc3338"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::addLiveIns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> *&#160;</td>
          <td class="paramname"><em>DefMI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>DefOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> * &gt;&#160;</td>
          <td class="paramname"><em>Trace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Assuming that the virtual register defined by DefMI:DefOp was used by Trace.back(), add it to the live-in lists of all the blocks in <a class="el" href="../../de/db5/classllvm_1_1MachineTraceMetrics_1_1Trace.html">Trace</a>. Stop when reaching the block that contains DefMI. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00957">957</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                                                     {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(!Trace.<a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html#a3aa55c9d9145cd6b3b21c466b18abd80">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Trace should contain at least one block&quot;</span>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../df/db6/namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = DefMI-&gt;<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(DefOp).<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(Reg));</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *DefMBB = DefMI-&gt;<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">// Reg is live-in to all blocks in Trace that follow DefMBB.</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = Trace.<a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>(); i; --i) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = Trace[i-1];</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (MBB == DefMBB)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="comment">// Just add the register. The height will be updated later.</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    TBI.LiveIns.push_back(Reg);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ae62c5ea35b71f9020caa94340bc78f37"><div class="ttname"><a href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">llvm::TargetRegisterInfo::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d26/TargetRegisterInfo_8h_source.html#l00287">TargetRegisterInfo.h:287</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="../../df/db6/namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc3/X86DisassemblerDecoder_8h_source.html#l00429">X86DisassemblerDecoder.h:429</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a76878250107ee24ef7339870bdda4bcf"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the array size. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00109">ArrayRef.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00120">MachineInstr.h:120</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00276">MachineInstr.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a3aa55c9d9145cd6b3b21c466b18abd80"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html#a3aa55c9d9145cd6b3b21c466b18abd80">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">empty - Check if the array is empty. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00104">ArrayRef.h:104</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00264">MachineOperand.h:264</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40c03f81eaf866eeb818cbf2ddeb1ad5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned MachineTraceMetrics::Ensemble::computeCrossBlockCriticalPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">TraceBlockInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>TBI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The length of the critical path through a trace is the maximum of two path lengths:</p>
<ol type="1">
<li>The maximum height+depth over all instructions in the trace center block.</li>
<li>The longest cross-block dependency chain. For small blocks, it is possible that the critical path through the trace doesn't include any instructions in the block.</li>
</ol>
<p>This function computes the second number from the live-in list of the center block. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00761">761</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                                         {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(TBI.HasValidInstrDepths &amp;&amp; <span class="stringliteral">&quot;Missing depth info&quot;</span>);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(TBI.HasValidInstrHeights &amp;&amp; <span class="stringliteral">&quot;Missing height info&quot;</span>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordtype">unsigned</span> MaxLen = 0;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = TBI.LiveIns.size(); i != e; ++i) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keyword">const</span> LiveInReg &amp;LIR = TBI.LiveIns[i];</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(LIR.Reg))</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">MRI</a>-&gt;<a class="code" href="../../d8/db4/classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">getVRegDef</a>(LIR.Reg);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">// Ignore dependencies outside the current trace.</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keyword">const</span> TraceBlockInfo &amp;DefTBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[DefMI-&gt;<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (!DefTBI.isUsefulDominator(TBI))</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordtype">unsigned</span> Len = LIR.Height + <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">Cycles</a>[DefMI].Depth;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    MaxLen = std::max(MaxLen, Len);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">return</span> MaxLen;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a28195b77bd8b47e3ceebf9903e9d091d"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">llvm::MachineTraceMetrics::MRI</a></div><div class="ttdeci">const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00071">MachineTraceMetrics.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ae62c5ea35b71f9020caa94340bc78f37"><div class="ttname"><a href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">llvm::TargetRegisterInfo::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d26/TargetRegisterInfo_8h_source.html#l00287">TargetRegisterInfo.h:287</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00120">MachineInstr.h:120</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa15ddfc64482e923393197cd39256676"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">llvm::MachineTraceMetrics::Ensemble::Cycles</a></div><div class="ttdeci">DenseMap&lt; const MachineInstr *, InstrCycles &gt; Cycles</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00296">MachineTraceMetrics.h:296</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00051">MachineInstr.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_abf69f92f1977440a4e443a26baeb73c0"><div class="ttname"><a href="../../d8/db4/classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d02/MachineRegisterInfo_8cpp_source.html#l00301">MachineRegisterInfo.cpp:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3998744046fbc495d9fc57d1e71ec82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::computeDepthResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00166">166</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                                    {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  TraceBlockInfo *TBI = &amp;<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">unsigned</span> PRKinds = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">getNumProcResourceKinds</a>();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">unsigned</span> PROffset = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() * PRKinds;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Compute resources from trace above. The top block is simple.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (!TBI-&gt;Pred) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    TBI-&gt;InstrDepth = 0;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    TBI-&gt;Head = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    std::fill(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">ProcResourceDepths</a>.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>() + PROffset,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;              <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">ProcResourceDepths</a>.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>() + PROffset + PRKinds, 0);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// Compute from the block above. A post-order traversal ensures the</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// predecessor is always computed first.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordtype">unsigned</span> PredNum = TBI-&gt;Pred-&gt;getNumber();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  TraceBlockInfo *PredTBI = &amp;<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[PredNum];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(PredTBI-&gt;hasValidDepth() &amp;&amp; <span class="stringliteral">&quot;Trace above has not been computed yet&quot;</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keyword">const</span> FixedBlockInfo *PredFBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#acd5b92b97f3839e8483329915a2bd8a9">getResources</a>(TBI-&gt;Pred);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  TBI-&gt;InstrDepth = PredTBI-&gt;InstrDepth + PredFBI-&gt;<a class="code" href="../../df/d1b/structllvm_1_1MachineTraceMetrics_1_1FixedBlockInfo.html#a78836dd7449e76cb6d404ecf3b371778">InstrCount</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  TBI-&gt;Head = PredTBI-&gt;Head;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// Compute per-resource depths.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> PredPRDepths = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac1da9b49331de45b4f64f72ebc857aa1">getProcResourceDepths</a>(PredNum);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> PredPRCycles = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a266c379348503befb8d755b1f0713095">getProcResourceCycles</a>(PredNum);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> = 0; <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> != PRKinds; ++<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">ProcResourceDepths</a>[PROffset + <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>] = PredPRDepths[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>] + PredPRCycles[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>];</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ac1da9b49331de45b4f64f72ebc857aa1"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac1da9b49331de45b4f64f72ebc857aa1">llvm::MachineTraceMetrics::Ensemble::getProcResourceDepths</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getProcResourceDepths(unsigned MBBNum) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00256">MachineTraceMetrics.cpp:256</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a44e089a094ba750d7a5742532937ddb5"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">llvm::MachineTraceMetrics::Ensemble::ProcResourceDepths</a></div><div class="ttdeci">SmallVector&lt; unsigned, 0 &gt; ProcResourceDepths</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00297">MachineTraceMetrics.h:297</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="structllvm_1_1MachineTraceMetrics_1_1FixedBlockInfo_html_a78836dd7449e76cb6d404ecf3b371778"><div class="ttname"><a href="../../df/d1b/structllvm_1_1MachineTraceMetrics_1_1FixedBlockInfo.html#a78836dd7449e76cb6d404ecf3b371778">llvm::MachineTraceMetrics::FixedBlockInfo::InstrCount</a></div><div class="ttdeci">unsigned InstrCount</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00093">MachineTraceMetrics.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="namespacelegup_html_aea54401a540364c73b6f6c259cd1c135"><div class="ttname"><a href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">legup::K</a></div><div class="ttdeci">static RegisterPass&lt; ParallelAPI &gt; K(&quot;legup-parallel-api&quot;,&quot;Replace Pthread/OMP calls to LegUp functions&quot;)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_ab94cc47416556642bfac3da1face2e22"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">llvm::MachineTraceMetrics::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00073">MachineTraceMetrics.h:73</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_acd5b92b97f3839e8483329915a2bd8a9"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#acd5b92b97f3839e8483329915a2bd8a9">llvm::MachineTraceMetrics::getResources</a></div><div class="ttdeci">const FixedBlockInfo * getResources(const MachineBasicBlock *)</div><div class="ttdoc">Get the fixed resource information about MBB. Compute it on demand. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00086">MachineTraceMetrics.cpp:86</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a91cde5aac43dc88d6ec26c441b39b7c9"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">llvm::TargetSchedModel::getNumProcResourceKinds</a></div><div class="ttdeci">unsigned getNumProcResourceKinds() const </div><div class="ttdoc">Get the number of kinds of resources for this target. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00092">TargetSchedule.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00113">SmallVector.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a266c379348503befb8d755b1f0713095"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a266c379348503befb8d755b1f0713095">llvm::MachineTraceMetrics::getProcResourceCycles</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getProcResourceCycles(unsigned MBBNum) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00133">MachineTraceMetrics.cpp:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9fe8df9259772d1b40b4be970772d1d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::computeHeightResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00199">199</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                     {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  TraceBlockInfo *TBI = &amp;<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordtype">unsigned</span> PRKinds = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">getNumProcResourceKinds</a>();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">unsigned</span> PROffset = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() * PRKinds;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// Compute resources for the current block.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  TBI-&gt;InstrHeight = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#acd5b92b97f3839e8483329915a2bd8a9">getResources</a>(MBB)-&gt;<a class="code" href="../../df/d1b/structllvm_1_1MachineTraceMetrics_1_1FixedBlockInfo.html#a78836dd7449e76cb6d404ecf3b371778">InstrCount</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> PRCycles = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a266c379348503befb8d755b1f0713095">getProcResourceCycles</a>(MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>());</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// The trace tail is done.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span> (!TBI-&gt;Succ) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    TBI-&gt;Tail = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    std::copy(PRCycles.<a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>(), PRCycles.<a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>(),</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;              <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">ProcResourceHeights</a>.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>() + PROffset);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// Compute from the block below. A post-order traversal ensures the</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// predecessor is always computed first.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordtype">unsigned</span> SuccNum = TBI-&gt;Succ-&gt;getNumber();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  TraceBlockInfo *SuccTBI = &amp;<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[SuccNum];</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(SuccTBI-&gt;hasValidHeight() &amp;&amp; <span class="stringliteral">&quot;Trace below has not been computed yet&quot;</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  TBI-&gt;InstrHeight += SuccTBI-&gt;InstrHeight;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  TBI-&gt;Tail = SuccTBI-&gt;Tail;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Compute per-resource heights.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> SuccPRHeights = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a457498d1f8b1cd21b192ac4429d12224">getProcResourceHeights</a>(SuccNum);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> = 0; <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> != PRKinds; ++<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">ProcResourceHeights</a>[PROffset + <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>] = SuccPRHeights[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>] + PRCycles[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>];</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a38ed8cc3c342ad6910e8c869d3e2b9cf"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdoc">empty - Check if the array is empty. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00098">ArrayRef.h:98</a></div></div>
<div class="ttc" id="structllvm_1_1MachineTraceMetrics_1_1FixedBlockInfo_html_a78836dd7449e76cb6d404ecf3b371778"><div class="ttname"><a href="../../df/d1b/structllvm_1_1MachineTraceMetrics_1_1FixedBlockInfo.html#a78836dd7449e76cb6d404ecf3b371778">llvm::MachineTraceMetrics::FixedBlockInfo::InstrCount</a></div><div class="ttdeci">unsigned InstrCount</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00093">MachineTraceMetrics.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="namespacelegup_html_aea54401a540364c73b6f6c259cd1c135"><div class="ttname"><a href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">legup::K</a></div><div class="ttdeci">static RegisterPass&lt; ParallelAPI &gt; K(&quot;legup-parallel-api&quot;,&quot;Replace Pthread/OMP calls to LegUp functions&quot;)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_ab94cc47416556642bfac3da1face2e22"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">llvm::MachineTraceMetrics::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00073">MachineTraceMetrics.h:73</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a836367b39ed630bf14db99923c22740e"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdoc">empty - Check if the array is empty. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00097">ArrayRef.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_acd5b92b97f3839e8483329915a2bd8a9"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#acd5b92b97f3839e8483329915a2bd8a9">llvm::MachineTraceMetrics::getResources</a></div><div class="ttdeci">const FixedBlockInfo * getResources(const MachineBasicBlock *)</div><div class="ttdoc">Get the fixed resource information about MBB. Compute it on demand. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00086">MachineTraceMetrics.cpp:86</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a91cde5aac43dc88d6ec26c441b39b7c9"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">llvm::TargetSchedModel::getNumProcResourceKinds</a></div><div class="ttdeci">unsigned getNumProcResourceKinds() const </div><div class="ttdoc">Get the number of kinds of resources for this target. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00092">TargetSchedule.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a457498d1f8b1cd21b192ac4429d12224"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a457498d1f8b1cd21b192ac4429d12224">llvm::MachineTraceMetrics::Ensemble::getProcResourceHeights</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getProcResourceHeights(unsigned MBBNum) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00270">MachineTraceMetrics.cpp:270</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ae8b2e10feb5d6a59d9d5e614861035b9"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">llvm::MachineTraceMetrics::Ensemble::ProcResourceHeights</a></div><div class="ttdeci">SmallVector&lt; unsigned, 0 &gt; ProcResourceHeights</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00298">MachineTraceMetrics.h:298</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00113">SmallVector.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a266c379348503befb8d755b1f0713095"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a266c379348503befb8d755b1f0713095">llvm::MachineTraceMetrics::getProcResourceCycles</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getProcResourceCycles(unsigned MBBNum) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00133">MachineTraceMetrics.cpp:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1bb52a15415430cd95c4da167a9d14b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::computeInstrDepths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute instruction depths for all instructions above or in MBB in its trace. This assumes that the trace through MBB has already been computed. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00783">783</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                                                 {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// The top of the trace may already be computed, and HasValidInstrDepths</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// implies Head-&gt;HasValidInstrDepths, so we only need to start from the first</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// block in the trace that needs to be recomputed.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;const MachineBasicBlock*, 8&gt;</a> Stack;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(TBI.hasValidDepth() &amp;&amp; <span class="stringliteral">&quot;Incomplete trace&quot;</span>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">if</span> (TBI.HasValidInstrDepths)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    Stack.<a class="code" href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MBB);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    MBB = TBI.Pred;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  } <span class="keywordflow">while</span> (MBB);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="comment">// FIXME: If MBB is non-null at this point, it is the last pre-computed block</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// in the trace. We should track any live-out physregs that were defined in</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">// the trace. This is quite rare in SSA form, typically created by CSE</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">// hoisting a compare.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="../../da/d79/classllvm_1_1SparseSet.html">SparseSet&lt;LiveRegUnit&gt;</a> RegUnits;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  RegUnits.<a class="code" href="../../da/d79/classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">setUniverse</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a145ec29c4877a83205cd7d428edfeee4">TRI</a>-&gt;<a class="code" href="../../d1/dc7/classllvm_1_1MCRegisterInfo.html#aaf3dc2763e3a8855709d186966654062">getNumRegUnits</a>());</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="comment">// Go through trace blocks in top-down order, stopping after the center block.</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;DataDep, 8&gt;</a> Deps;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">while</span> (!Stack.<a class="code" href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    MBB = Stack.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nDepths for BB#&quot;</span> &lt;&lt; MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    TBI.HasValidInstrDepths = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    TBI.CriticalPath = 0;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// Print out resource depths here as well.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>({</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="../../d9/d4a/namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">format</a>(<span class="stringliteral">&quot;%7u Instructions\n&quot;</span>, TBI.InstrDepth);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> PRDepths = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac1da9b49331de45b4f64f72ebc857aa1">getProcResourceDepths</a>(MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>());</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> = 0; <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> != PRDepths.<a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>(); ++<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (PRDepths[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>]) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          <span class="keywordtype">unsigned</span> Factor = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#aa117767750c3ca738006fa1ab5c01345">getResourceFactor</a>(K);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="../../d9/d4a/namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">format</a>(<span class="stringliteral">&quot;%6uc @ &quot;</span>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#affe3d303f19b2e18ff796964c6343a0f">getCycles</a>(PRDepths[K]))</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                 &lt;&lt; <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#ade2f5f4d11c824fa37234f3077d25be3">getProcResource</a>(K)-&gt;<a class="code" href="../../d7/d41/structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">Name</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                 &lt;&lt; PRDepths[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>]/Factor &lt;&lt; <span class="stringliteral">&quot; ops x&quot;</span> &lt;&lt; Factor &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    });</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// Also compute the critical path length through MBB when possible.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span> (TBI.HasValidInstrHeights)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      TBI.CriticalPath = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a40c03f81eaf866eeb818cbf2ddeb1ad5">computeCrossBlockCriticalPath</a>(TBI);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;UseMI : *MBB) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="comment">// Collect all data dependencies.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      Deps.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keywordflow">if</span> (UseMI.isPHI())</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a5d1caba7f821bf6695f6d4e7ae27c26e">getPHIDeps</a>(&amp;UseMI, Deps, TBI.Pred, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">MRI</a>);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#aafc41863fbf5655579305bc6297d36ec">getDataDeps</a>(&amp;UseMI, Deps, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">MRI</a>))</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a6eb3ac91456a9880aecf25dc8e3cbaa5">updatePhysDepsDownwards</a>(&amp;UseMI, Deps, RegUnits, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a145ec29c4877a83205cd7d428edfeee4">TRI</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="comment">// Filter and process dependencies, computing the earliest issue cycle.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="keywordtype">unsigned</span> Cycle = 0;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Deps.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keyword">const</span> DataDep &amp;Dep = Deps[i];</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keyword">const</span> TraceBlockInfo&amp;DepTBI =</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;          <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[Dep.DefMI-&gt;getParent()-&gt;getNumber()];</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="comment">// Ignore dependencies from outside the current trace.</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">if</span> (!DepTBI.isUsefulDominator(TBI))</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(DepTBI.HasValidInstrDepths &amp;&amp; <span class="stringliteral">&quot;Inconsistent dependency&quot;</span>);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordtype">unsigned</span> DepCycle = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">Cycles</a>.lookup(Dep.DefMI).Depth;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="comment">// Add latency if DefMI is a real instruction. Transients get latency 0.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span> (!Dep.DefMI-&gt;isTransient())</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          DepCycle += <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            .<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">computeOperandLatency</a>(Dep.DefMI, Dep.DefOp, &amp;UseMI, Dep.UseOp);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        Cycle = std::max(Cycle, DepCycle);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="comment">// Remember the instruction depth.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      InstrCycles &amp;MICycles = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">Cycles</a>[&amp;UseMI];</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      MICycles.Depth = Cycle;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">if</span> (!TBI.HasValidInstrHeights) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Cycle &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; UseMI);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="comment">// Update critical path length.</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      TBI.CriticalPath = std::max(TBI.CriticalPath, Cycle + MICycles.Height);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; TBI.CriticalPath &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; Cycle &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; UseMI);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00128">SmallVector.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00225">SmallVector.h:225</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ac1da9b49331de45b4f64f72ebc857aa1"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac1da9b49331de45b4f64f72ebc857aa1">llvm::MachineTraceMetrics::Ensemble::getProcResourceDepths</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getProcResourceDepths(unsigned MBBNum) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00256">MachineTraceMetrics.cpp:256</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a28195b77bd8b47e3ceebf9903e9d091d"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">llvm::MachineTraceMetrics::MRI</a></div><div class="ttdeci">const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00071">MachineTraceMetrics.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a40c03f81eaf866eeb818cbf2ddeb1ad5"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a40c03f81eaf866eeb818cbf2ddeb1ad5">llvm::MachineTraceMetrics::Ensemble::computeCrossBlockCriticalPath</a></div><div class="ttdeci">unsigned computeCrossBlockCriticalPath(const TraceBlockInfo &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00761">MachineTraceMetrics.cpp:761</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_aa117767750c3ca738006fa1ab5c01345"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#aa117767750c3ca738006fa1ab5c01345">llvm::TargetSchedModel::getResourceFactor</a></div><div class="ttdeci">unsigned getResourceFactor(unsigned ResIdx) const </div><div class="ttdoc">Multiply the number of units consumed for a resource by this factor to normalize it relative to other...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00123">TargetSchedule.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a400eaca9881c8dcab97e9f42b1ab1815"><div class="ttname"><a href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T LLVM_ATTRIBUTE_UNUSED_RESULT pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00406">SmallVector.h:406</a></div></div>
<div class="ttc" id="namespacellvm_html_a69dc1b119f8cb95b7e36f586c5aeb372"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">llvm::format</a></div><div class="ttdeci">format_object1&lt; T &gt; format(const char *Fmt, const T &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddb/Format_8h_source.html#l00189">Format.h:189</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00057">SmallVector.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="MachineTraceMetrics_8cpp_html_aafc41863fbf5655579305bc6297d36ec"><div class="ttname"><a href="../../d6/d1b/MachineTraceMetrics_8cpp.html#aafc41863fbf5655579305bc6297d36ec">getDataDeps</a></div><div class="ttdeci">static bool getDataDeps(const MachineInstr *UseMI, SmallVectorImpl&lt; DataDep &gt; &amp;Deps, const MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00638">MachineTraceMetrics.cpp:638</a></div></div>
<div class="ttc" id="namespacelegup_html_aea54401a540364c73b6f6c259cd1c135"><div class="ttname"><a href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">legup::K</a></div><div class="ttdeci">static RegisterPass&lt; ParallelAPI &gt; K(&quot;legup-parallel-api&quot;,&quot;Replace Pthread/OMP calls to LegUp functions&quot;)</div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a76878250107ee24ef7339870bdda4bcf"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the array size. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00109">ArrayRef.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_ab94cc47416556642bfac3da1face2e22"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">llvm::MachineTraceMetrics::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00073">MachineTraceMetrics.h:73</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="../../da/d30/classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00371">SmallVector.h:371</a></div></div>
<div class="ttc" id="MachineTraceMetrics_8cpp_html_a5d1caba7f821bf6695f6d4e7ae27c26e"><div class="ttname"><a href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a5d1caba7f821bf6695f6d4e7ae27c26e">getPHIDeps</a></div><div class="ttdeci">static void getPHIDeps(const MachineInstr *UseMI, SmallVectorImpl&lt; DataDep &gt; &amp;Deps, const MachineBasicBlock *Pred, const MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00662">MachineTraceMetrics.cpp:662</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_ac5c4065b01268eb6764867041cd1d96c"><div class="ttname"><a href="../../da/d79/classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">llvm::SparseSet::setUniverse</a></div><div class="ttdeci">void setUniverse(unsigned U)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/SparseSet_8h_source.html#l00155">SparseSet.h:155</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa15ddfc64482e923393197cd39256676"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">llvm::MachineTraceMetrics::Ensemble::Cycles</a></div><div class="ttdeci">DenseMap&lt; const MachineInstr *, InstrCycles &gt; Cycles</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00296">MachineTraceMetrics.h:296</a></div></div>
<div class="ttc" id="structllvm_1_1MCProcResourceDesc_html_a51dc4747a7d39650884bcf19daaf5f54"><div class="ttname"><a href="../../d7/d41/structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">llvm::MCProcResourceDesc::Name</a></div><div class="ttdeci">const char * Name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/MCSchedule_8h_source.html#l00028">MCSchedule.h:28</a></div></div>
<div class="ttc" id="MachineTraceMetrics_8cpp_html_a6eb3ac91456a9880aecf25dc8e3cbaa5"><div class="ttname"><a href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a6eb3ac91456a9880aecf25dc8e3cbaa5">updatePhysDepsDownwards</a></div><div class="ttdeci">static void updatePhysDepsDownwards(const MachineInstr *UseMI, SmallVectorImpl&lt; DataDep &gt; &amp;Deps, SparseSet&lt; LiveRegUnit &gt; &amp;RegUnits, const TargetRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00698">MachineTraceMetrics.cpp:698</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_ade2f5f4d11c824fa37234f3077d25be3"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#ade2f5f4d11c824fa37234f3077d25be3">llvm::TargetSchedModel::getProcResource</a></div><div class="ttdeci">const MCProcResourceDesc * getProcResource(unsigned PIdx) const </div><div class="ttdoc">Get a processor resource by ID for convenience. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00097">TargetSchedule.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="../../d0/d78/classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00845">SmallVector.h:845</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_aaf3dc2763e3a8855709d186966654062"><div class="ttname"><a href="../../d1/dc7/classllvm_1_1MCRegisterInfo.html#aaf3dc2763e3a8855709d186966654062">llvm::MCRegisterInfo::getNumRegUnits</a></div><div class="ttdeci">unsigned getNumRegUnits() const </div><div class="ttdoc">Return the number of (native) register units in the target. Register units are numbered from 0 to get...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5f/MCRegisterInfo_8h_source.html#l00373">MCRegisterInfo.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a145ec29c4877a83205cd7d428edfeee4"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a145ec29c4877a83205cd7d428edfeee4">llvm::MachineTraceMetrics::TRI</a></div><div class="ttdeci">const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00070">MachineTraceMetrics.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html"><div class="ttname"><a href="../../da/d79/classllvm_1_1SparseSet.html">llvm::SparseSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/SparseSet_8h_source.html#l00120">SparseSet.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_affe3d303f19b2e18ff796964c6343a0f"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#affe3d303f19b2e18ff796964c6343a0f">llvm::MachineTraceMetrics::getCycles</a></div><div class="ttdeci">unsigned getCycles(unsigned Scaled)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00372">MachineTraceMetrics.h:372</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a62eff453556ab0541cb285741f7eec8d"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">llvm::TargetSchedModel::computeOperandLatency</a></div><div class="ttdeci">unsigned computeOperandLatency(const MachineInstr *DefMI, unsigned DefOperIdx, const MachineInstr *UseMI, unsigned UseOperIdx) const </div><div class="ttdoc">Compute operand latency based on the available machine model. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d44/TargetSchedule_8cpp_source.html#l00155">TargetSchedule.cpp:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad93e240b9069128294e6e38df21cf7d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::computeInstrHeights </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute instruction heights in the trace through MBB. This updates MBB and the blocks below it in the trace. It is assumed that the trace has already been computed. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00979">979</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                                                  {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// The bottom of the trace may already be computed.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// Find the blocks that need updating.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;const MachineBasicBlock*, 8&gt;</a> Stack;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(TBI.hasValidHeight() &amp;&amp; <span class="stringliteral">&quot;Incomplete trace&quot;</span>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (TBI.HasValidInstrHeights)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    Stack.<a class="code" href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MBB);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    TBI.LiveIns.clear();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    MBB = TBI.Succ;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  } <span class="keywordflow">while</span> (MBB);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">// As we move upwards in the trace, keep track of instructions that are</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="comment">// required by deeper trace instructions. Map MI -&gt; height required so far.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <a class="code" href="../../d5/d64/classllvm_1_1DenseMap.html">MIHeightMap</a> Heights;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// For physregs, the def isn&#39;t known when we see the use.</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">// Instead, keep track of the highest use of each regunit.</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <a class="code" href="../../da/d79/classllvm_1_1SparseSet.html">SparseSet&lt;LiveRegUnit&gt;</a> RegUnits;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  RegUnits.<a class="code" href="../../da/d79/classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">setUniverse</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a145ec29c4877a83205cd7d428edfeee4">TRI</a>-&gt;<a class="code" href="../../d1/dc7/classllvm_1_1MCRegisterInfo.html#aaf3dc2763e3a8855709d186966654062">getNumRegUnits</a>());</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">// If the bottom of the trace was already precomputed, initialize heights</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// from its live-in list.</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="comment">// MBB is the highest precomputed block in the trace.</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">if</span> (MBB) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = TBI.LiveIns.size(); i != e; ++i) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      LiveInReg <a class="code" href="../../d1/d64/LoopInfoImpl_8h.html#ab7b7f3fe4279386eae18cf924053d077">LI</a> = TBI.LiveIns[i];</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(LI.Reg)) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="comment">// For virtual registers, the def latency is included.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keywordtype">unsigned</span> &amp;Height = Heights[<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">MRI</a>-&gt;<a class="code" href="../../d8/db4/classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">getVRegDef</a>(LI.Reg)];</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">if</span> (Height &lt; LI.Height)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;          Height = LI.Height;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="comment">// For register units, the def latency is not included because we don&#39;t</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="comment">// know the def yet.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        RegUnits[LI.Reg].Cycle = LI.Height;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="comment">// Go through the trace blocks in bottom-up order.</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;DataDep, 8&gt;</a> Deps;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">for</span> (;!Stack.<a class="code" href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>(); Stack.<a class="code" href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>()) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    MBB = Stack.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>();</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Heights for BB#&quot;</span> &lt;&lt; MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    TBI.HasValidInstrHeights = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    TBI.CriticalPath = 0;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>({</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="../../d9/d4a/namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">format</a>(<span class="stringliteral">&quot;%7u Instructions\n&quot;</span>, TBI.InstrHeight);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> PRHeights = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a457498d1f8b1cd21b192ac4429d12224">getProcResourceHeights</a>(MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>());</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> = 0; <a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a> != PRHeights.<a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>(); ++<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">if</span> (PRHeights[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>]) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;          <span class="keywordtype">unsigned</span> Factor = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#aa117767750c3ca738006fa1ab5c01345">getResourceFactor</a>(K);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;          <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="../../d9/d4a/namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">format</a>(<span class="stringliteral">&quot;%6uc @ &quot;</span>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#affe3d303f19b2e18ff796964c6343a0f">getCycles</a>(PRHeights[K]))</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                 &lt;&lt; <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#ade2f5f4d11c824fa37234f3077d25be3">getProcResource</a>(K)-&gt;<a class="code" href="../../d7/d41/structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">Name</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                 &lt;&lt; PRHeights[<a class="code" href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">K</a>]/Factor &lt;&lt; <span class="stringliteral">&quot; ops x&quot;</span> &lt;&lt; Factor &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    });</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">// Get dependencies from PHIs in the trace successor.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Succ = TBI.Succ;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">// If MBB is the last block in the trace, and it has a back-edge to the</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// loop header, get loop-carried dependencies from PHIs in the header. For</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// that purpose, pretend that all the loop header PHIs have height 0.</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (!Succ)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="../../da/d0f/classllvm_1_1MachineLoop.html">MachineLoop</a> *<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aed541d17fca88fb98326359e263a842a">getLoopFor</a>(MBB))</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">if</span> (MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a57f25804288bc580d7b2e4016a38aec9">isSuccessor</a>(<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>()))</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;          Succ = <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>();</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> (Succ) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> : *Succ) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>.isPHI())</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        Deps.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a5d1caba7f821bf6695f6d4e7ae27c26e">getPHIDeps</a>(&amp;<a class="code" href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>, Deps, MBB, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">MRI</a>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">if</span> (!Deps.<a class="code" href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;          <span class="comment">// Loop header PHI heights are all 0.</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;          <span class="keywordtype">unsigned</span> Height = TBI.Succ ? <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">Cycles</a>.lookup(&amp;<a class="code" href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>).Height : 0;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;          <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;pred\t&quot;</span> &lt;&lt; Height &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; <a class="code" href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#ab5ed88df48b43f7b00b64339b371f960">pushDepHeight</a>(Deps.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">front</a>(), &amp;<a class="code" href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>, Height,</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                            Heights, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7a60183f70754adf72673b03afee416a">TII</a>))</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3bcbe8947ce0b352e843e2f201fc3338">addLiveIns</a>(Deps.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">front</a>().DefMI, Deps.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">front</a>().DefOp, Stack);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="comment">// Go through the block backwards.</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::const_iterator</a> BI = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(), BB = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;         BI != BB;) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">MI</a> = --BI;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="comment">// Find the MI height as determined by virtual register uses in the</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="comment">// trace below.</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <span class="keywordtype">unsigned</span> Cycle = 0;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <a class="code" href="../../d0/d17/classllvm_1_1DenseMapIterator.html">MIHeightMap::iterator</a> HeightI = Heights.<a class="code" href="../../d9/d72/classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(MI);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">if</span> (HeightI != Heights.<a class="code" href="../../d9/d72/classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        Cycle = HeightI-&gt;second;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="comment">// We won&#39;t be seeing any more MI uses.</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        Heights.<a class="code" href="../../d9/d72/classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(HeightI);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="comment">// Don&#39;t process PHI deps. They depend on the specific predecessor, and</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="comment">// we&#39;ll get them when visiting the predecessor.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      Deps.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <span class="keywordtype">bool</span> HasPhysRegs = !MI-&gt;<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#ad70025709baab4e42d5d9d83023bc402">isPHI</a>() &amp;&amp; <a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#aafc41863fbf5655579305bc6297d36ec">getDataDeps</a>(MI, Deps, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">MRI</a>);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="comment">// There may also be regunit dependencies to include in the height.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">if</span> (HasPhysRegs)</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        Cycle = <a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a6b0649bddffdfd2c95cba647d1b6bee4">updatePhysDepsUpwards</a>(MI, Cycle, RegUnits,</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                                      <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7a60183f70754adf72673b03afee416a">TII</a>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a145ec29c4877a83205cd7d428edfeee4">TRI</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="comment">// Update the required height of any virtual registers read by MI.</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Deps.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++i)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d1b/MachineTraceMetrics_8cpp.html#ab5ed88df48b43f7b00b64339b371f960">pushDepHeight</a>(Deps[i], MI, Cycle, Heights, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7a60183f70754adf72673b03afee416a">TII</a>))</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;          <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3bcbe8947ce0b352e843e2f201fc3338">addLiveIns</a>(Deps[i].DefMI, Deps[i].DefOp, Stack);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      InstrCycles &amp;MICycles = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">Cycles</a>[<a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">MI</a>];</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      MICycles.Height = Cycle;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keywordflow">if</span> (!TBI.HasValidInstrDepths) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Cycle &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; *MI);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="comment">// Update critical path length.</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      TBI.CriticalPath = std::max(TBI.CriticalPath, Cycle + MICycles.Depth);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; TBI.CriticalPath &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; Cycle &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; *MI);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// Update virtual live-in heights. They were added by addLiveIns() with a 0</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// height because the final height isn&#39;t known until now.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;BB#&quot;</span> &lt;&lt; MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() &lt;&lt;  <span class="stringliteral">&quot; Live-ins:&quot;</span>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = TBI.LiveIns.size(); i != e; ++i) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      LiveInReg &amp;LIR = TBI.LiveIns[i];</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">MRI</a>-&gt;<a class="code" href="../../d8/db4/classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">getVRegDef</a>(LIR.Reg);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      LIR.Height = Heights.<a class="code" href="../../d9/d72/classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">lookup</a>(DefMI);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code" href="../../d2/dc1/classllvm_1_1PrintReg.html">PrintReg</a>(LIR.Reg) &lt;&lt; <span class="charliteral">&#39;@&#39;</span> &lt;&lt; LIR.Height);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// Transfer the live regunits to the live-in list.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../da/d79/classllvm_1_1SparseSet.html#aba06572d6d4c79e9f7d84faa662288a8">SparseSet&lt;LiveRegUnit&gt;::const_iterator</a></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;         RI = RegUnits.<a class="code" href="../../da/d79/classllvm_1_1SparseSet.html#adf89ae764788137664ba65549e42b047">begin</a>(), RE = RegUnits.<a class="code" href="../../da/d79/classllvm_1_1SparseSet.html#a337ac3a574df74649d67cac686aaf580">end</a>(); RI != RE; ++RI) {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      TBI.LiveIns.push_back(LiveInReg(RI-&gt;RegUnit, RI-&gt;Cycle));</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code" href="../../d3/de4/classllvm_1_1PrintRegUnit.html">PrintRegUnit</a>(RI-&gt;RegUnit, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a145ec29c4877a83205cd7d428edfeee4">TRI</a>)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                   &lt;&lt; <span class="charliteral">&#39;@&#39;</span> &lt;&lt; RI-&gt;Cycle);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (!TBI.HasValidInstrDepths)</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">// Add live-ins to the critical path length.</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    TBI.CriticalPath = std::max(TBI.CriticalPath,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                                <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a40c03f81eaf866eeb818cbf2ddeb1ad5">computeCrossBlockCriticalPath</a>(TBI));</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Critical path: &quot;</span> &lt;&lt; TBI.CriticalPath &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00128">SmallVector.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00225">SmallVector.h:225</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_aba06572d6d4c79e9f7d84faa662288a8"><div class="ttname"><a href="../../da/d79/classllvm_1_1SparseSet.html#aba06572d6d4c79e9f7d84faa662288a8">llvm::SparseSet::const_iterator</a></div><div class="ttdeci">DenseT::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/SparseSet_8h_source.html#l00172">SparseSet.h:172</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a28195b77bd8b47e3ceebf9903e9d091d"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a28195b77bd8b47e3ceebf9903e9d091d">llvm::MachineTraceMetrics::MRI</a></div><div class="ttdeci">const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00071">MachineTraceMetrics.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a58dc840fc84420b7f0b773794b8101c1"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">llvm::SmallVectorTemplateCommon&lt; T &gt;::front</a></div><div class="ttdeci">reference front()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00149">SmallVector.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="../../d5/d64/classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00529">DenseMap.h:529</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ae62c5ea35b71f9020caa94340bc78f37"><div class="ttname"><a href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">llvm::TargetRegisterInfo::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d26/TargetRegisterInfo_8h_source.html#l00287">TargetRegisterInfo.h:287</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a40c03f81eaf866eeb818cbf2ddeb1ad5"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a40c03f81eaf866eeb818cbf2ddeb1ad5">llvm::MachineTraceMetrics::Ensemble::computeCrossBlockCriticalPath</a></div><div class="ttdeci">unsigned computeCrossBlockCriticalPath(const TraceBlockInfo &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00761">MachineTraceMetrics.cpp:761</a></div></div>
<div class="ttc" id="classllvm_1_1PrintRegUnit_html"><div class="ttname"><a href="../../d3/de4/classllvm_1_1PrintRegUnit.html">llvm::PrintRegUnit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d26/TargetRegisterInfo_8h_source.html#l00931">TargetRegisterInfo.h:931</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_aa117767750c3ca738006fa1ab5c01345"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#aa117767750c3ca738006fa1ab5c01345">llvm::TargetSchedModel::getResourceFactor</a></div><div class="ttdeci">unsigned getResourceFactor(unsigned ResIdx) const </div><div class="ttdoc">Multiply the number of units consumed for a resource by this factor to normalize it relative to other...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00123">TargetSchedule.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac0426a7b8a18e60c5c9d20f73973722b"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00098">LoopInfo.h:98</a></div></div>
<div class="ttc" id="LoopInfoImpl_8h_html_ab7b7f3fe4279386eae18cf924053d077"><div class="ttname"><a href="../../d1/d64/LoopInfoImpl_8h.html#ab7b7f3fe4279386eae18cf924053d077">LI</a></div><div class="ttdeci">LoopInfoBase&lt; BlockT, LoopT &gt; * LI</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00412">LoopInfoImpl.h:412</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ad70025709baab4e42d5d9d83023bc402"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#ad70025709baab4e42d5d9d83023bc402">llvm::MachineInstr::isPHI</a></div><div class="ttdeci">bool isPHI() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00703">MachineInstr.h:703</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aed541d17fca88fb98326359e263a842a"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aed541d17fca88fb98326359e263a842a">llvm::MachineTraceMetrics::Ensemble::getLoopFor</a></div><div class="ttdeci">const MachineLoop * getLoopFor(const MachineBasicBlock *) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00159">MachineTraceMetrics.cpp:159</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_a337ac3a574df74649d67cac686aaf580"><div class="ttname"><a href="../../da/d79/classllvm_1_1SparseSet.html#a337ac3a574df74649d67cac686aaf580">llvm::SparseSet::end</a></div><div class="ttdeci">const_iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/SparseSet_8h_source.html#l00175">SparseSet.h:175</a></div></div>
<div class="ttc" id="namespacellvm_html_a69dc1b119f8cb95b7e36f586c5aeb372"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">llvm::format</a></div><div class="ttdeci">format_object1&lt; T &gt; format(const char *Fmt, const T &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddb/Format_8h_source.html#l00189">Format.h:189</a></div></div>
<div class="ttc" id="classllvm_1_1PrintReg_html"><div class="ttname"><a href="../../d2/dc1/classllvm_1_1PrintReg.html">llvm::PrintReg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d26/TargetRegisterInfo_8h_source.html#l00906">TargetRegisterInfo.h:906</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00057">SmallVector.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoop_html"><div class="ttname"><a href="../../da/d0f/classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4e/MachineLoopInfo_8h_source.html#l00045">MachineLoopInfo.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="MachineTraceMetrics_8cpp_html_aafc41863fbf5655579305bc6297d36ec"><div class="ttname"><a href="../../d6/d1b/MachineTraceMetrics_8cpp.html#aafc41863fbf5655579305bc6297d36ec">getDataDeps</a></div><div class="ttdeci">static bool getDataDeps(const MachineInstr *UseMI, SmallVectorImpl&lt; DataDep &gt; &amp;Deps, const MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00638">MachineTraceMetrics.cpp:638</a></div></div>
<div class="ttc" id="namespacelegup_html_aea54401a540364c73b6f6c259cd1c135"><div class="ttname"><a href="../../da/d91/namespacelegup.html#aea54401a540364c73b6f6c259cd1c135">legup::K</a></div><div class="ttdeci">static RegisterPass&lt; ParallelAPI &gt; K(&quot;legup-parallel-api&quot;,&quot;Replace Pthread/OMP calls to LegUp functions&quot;)</div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a76878250107ee24ef7339870bdda4bcf"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the array size. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00109">ArrayRef.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_ab94cc47416556642bfac3da1face2e22"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">llvm::MachineTraceMetrics::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00073">MachineTraceMetrics.h:73</a></div></div>
<div class="ttc" id="MachineTraceMetrics_8cpp_html_a6b0649bddffdfd2c95cba647d1b6bee4"><div class="ttname"><a href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a6b0649bddffdfd2c95cba647d1b6bee4">updatePhysDepsUpwards</a></div><div class="ttdeci">static unsigned updatePhysDepsUpwards(const MachineInstr *MI, unsigned Height, SparseSet&lt; LiveRegUnit &gt; &amp;RegUnits, const TargetSchedModel &amp;SchedModel, const TargetInstrInfo *TII, const TargetRegisterInfo *TRI)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00873">MachineTraceMetrics.cpp:873</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon&lt; T &gt;::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00158">SmallVector.h:158</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="../../da/d30/classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00371">SmallVector.h:371</a></div></div>
<div class="ttc" id="MachineTraceMetrics_8cpp_html_a5d1caba7f821bf6695f6d4e7ae27c26e"><div class="ttname"><a href="../../d6/d1b/MachineTraceMetrics_8cpp.html#a5d1caba7f821bf6695f6d4e7ae27c26e">getPHIDeps</a></div><div class="ttdeci">static void getPHIDeps(const MachineInstr *UseMI, SmallVectorImpl&lt; DataDep &gt; &amp;Deps, const MachineBasicBlock *Pred, const MachineRegisterInfo *MRI)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00662">MachineTraceMetrics.cpp:662</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a7a60183f70754adf72673b03afee416a"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a7a60183f70754adf72673b03afee416a">llvm::MachineTraceMetrics::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00069">MachineTraceMetrics.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="../../d9/d72/classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00058">DenseMap.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_ac5c4065b01268eb6764867041cd1d96c"><div class="ttname"><a href="../../da/d79/classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">llvm::SparseSet::setUniverse</a></div><div class="ttdeci">void setUniverse(unsigned U)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/SparseSet_8h_source.html#l00155">SparseSet.h:155</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa15ddfc64482e923393197cd39256676"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">llvm::MachineTraceMetrics::Ensemble::Cycles</a></div><div class="ttdeci">DenseMap&lt; const MachineInstr *, InstrCycles &gt; Cycles</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00296">MachineTraceMetrics.h:296</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3bcbe8947ce0b352e843e2f201fc3338"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3bcbe8947ce0b352e843e2f201fc3338">llvm::MachineTraceMetrics::Ensemble::addLiveIns</a></div><div class="ttdeci">void addLiveIns(const MachineInstr *DefMI, unsigned DefOp, ArrayRef&lt; const MachineBasicBlock * &gt; Trace)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00957">MachineTraceMetrics.cpp:957</a></div></div>
<div class="ttc" id="structllvm_1_1MCProcResourceDesc_html_a51dc4747a7d39650884bcf19daaf5f54"><div class="ttname"><a href="../../d7/d41/structllvm_1_1MCProcResourceDesc.html#a51dc4747a7d39650884bcf19daaf5f54">llvm::MCProcResourceDesc::Name</a></div><div class="ttdeci">const char * Name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/MCSchedule_8h_source.html#l00028">MCSchedule.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_adf89ae764788137664ba65549e42b047"><div class="ttname"><a href="../../da/d79/classllvm_1_1SparseSet.html#adf89ae764788137664ba65549e42b047">llvm::SparseSet::begin</a></div><div class="ttdeci">const_iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/SparseSet_8h_source.html#l00174">SparseSet.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a457498d1f8b1cd21b192ac4429d12224"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a457498d1f8b1cd21b192ac4429d12224">llvm::MachineTraceMetrics::Ensemble::getProcResourceHeights</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getProcResourceHeights(unsigned MBBNum) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00270">MachineTraceMetrics.cpp:270</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_ade2f5f4d11c824fa37234f3077d25be3"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#ade2f5f4d11c824fa37234f3077d25be3">llvm::TargetSchedModel::getProcResource</a></div><div class="ttdeci">const MCProcResourceDesc * getProcResource(unsigned PIdx) const </div><div class="ttdoc">Get a processor resource by ID for convenience. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00097">TargetSchedule.h:97</a></div></div>
<div class="ttc" id="MachineTraceMetrics_8cpp_html_ab5ed88df48b43f7b00b64339b371f960"><div class="ttname"><a href="../../d6/d1b/MachineTraceMetrics_8cpp.html#ab5ed88df48b43f7b00b64339b371f960">pushDepHeight</a></div><div class="ttdeci">static bool pushDepHeight(const DataDep &amp;Dep, const MachineInstr *UseMI, unsigned UseHeight, MIHeightMap &amp;Heights, const TargetSchedModel &amp;SchedModel, const TargetInstrInfo *TII)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00930">MachineTraceMetrics.cpp:930</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="../../d0/d78/classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00845">SmallVector.h:845</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a269c7b8adcd29645a4f901196fc08806"><div class="ttname"><a href="../../d9/d72/classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">llvm::DenseMapBase::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00189">DenseMap.h:189</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a57f25804288bc580d7b2e4016a38aec9"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a57f25804288bc580d7b2e4016a38aec9">llvm::MachineBasicBlock::isSuccessor</a></div><div class="ttdeci">bool isSuccessor(const MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/MachineBasicBlock_8cpp_source.html#l00625">MachineBasicBlock.cpp:625</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_aaf3dc2763e3a8855709d186966654062"><div class="ttname"><a href="../../d1/dc7/classllvm_1_1MCRegisterInfo.html#aaf3dc2763e3a8855709d186966654062">llvm::MCRegisterInfo::getNumRegUnits</a></div><div class="ttdeci">unsigned getNumRegUnits() const </div><div class="ttdoc">Return the number of (native) register units in the target. Register units are numbered from 0 to get...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5f/MCRegisterInfo_8h_source.html#l00373">MCRegisterInfo.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00051">MachineInstr.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a145ec29c4877a83205cd7d428edfeee4"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a145ec29c4877a83205cd7d428edfeee4">llvm::MachineTraceMetrics::TRI</a></div><div class="ttdeci">const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00070">MachineTraceMetrics.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html"><div class="ttname"><a href="../../da/d79/classllvm_1_1SparseSet.html">llvm::SparseSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/SparseSet_8h_source.html#l00120">SparseSet.h:120</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00"><div class="ttname"><a href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">llvm::AArch64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc0/AArch64BaseInfo_8h_source.html#l00197">AArch64BaseInfo.h:197</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="../../d7/ddf/classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00353">LoopInfo.h:353</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00239">SmallVector.h:239</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_affe3d303f19b2e18ff796964c6343a0f"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#affe3d303f19b2e18ff796964c6343a0f">llvm::MachineTraceMetrics::getCycles</a></div><div class="ttdeci">unsigned getCycles(unsigned Scaled)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00372">MachineTraceMetrics.h:372</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_abf69f92f1977440a4e443a26baeb73c0"><div class="ttname"><a href="../../d8/db4/classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d02/MachineRegisterInfo_8cpp_source.html#l00301">MachineRegisterInfo.cpp:301</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="../../d0/d17/classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00037">DenseMap.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_acfd7cc74125222a81c02b4097ed5166c"><div class="ttname"><a href="../../d9/d72/classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">llvm::DenseMapBase::lookup</a></div><div class="ttdeci">ValueT lookup(const KeyT &amp;Val) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00144">DenseMap.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="../../d9/d72/classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00109">DenseMap.h:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab075e868be7eb6b477441f21d34ea2b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::computeTrace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the trace through MBB. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00461">461</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                                                           {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Computing &quot;</span> &lt;&lt; <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">getName</a>() &lt;&lt; <span class="stringliteral">&quot; trace through BB#&quot;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;               &lt;&lt; MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Set up loop bounds for the backwards post-order traversal.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  LoopBounds Bounds(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#afe795f440b3be5bd00a6494bcc57e7f2">Loops</a>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// Run an upwards post-order search for the trace start.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  Bounds.Downward = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  Bounds.Visited.clear();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="../../d9/d1f/structllvm_1_1ipo__ext__iterator.html">ipo_ext_iterator&lt;const MachineBasicBlock*, LoopBounds&gt;</a> UpwardPO;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">for</span> (UpwardPO <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="../../d9/d4a/namespacellvm.html#aa0ac2b3a0d13de656a4274b8ea262db5">ipo_ext_begin</a>(MBB, Bounds), E = <a class="code" href="../../d9/d4a/namespacellvm.html#a7713977bef24a5dae3aa800ecee5502e">ipo_ext_end</a>(MBB, Bounds);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;       <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  pred for BB#&quot;</span> &lt;&lt; <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumber() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumber()];</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// All the predecessors have been visited, pick the preferred one.</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    TBI.Pred = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a73b0295b2f37729d059fe500f2824255">pickTracePred</a>(*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>({</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">if</span> (TBI.Pred)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;BB#&quot;</span> &lt;&lt; TBI.Pred-&gt;getNumber() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;null\n&quot;</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    });</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// The trace leading to I is now known, compute the depth resources.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa3998744046fbc495d9fc57d1e71ec82">computeDepthResources</a>(*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">// Run a downwards post-order search for the trace end.</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  Bounds.Downward = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  Bounds.Visited.clear();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="../../d9/d3e/structllvm_1_1po__ext__iterator.html">po_ext_iterator&lt;const MachineBasicBlock*, LoopBounds&gt;</a> DownwardPO;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">for</span> (DownwardPO <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="../../d9/d4a/namespacellvm.html#a8a44b47a55b1045e5732d178cc371966">po_ext_begin</a>(MBB, Bounds), E = <a class="code" href="../../d9/d4a/namespacellvm.html#a9a82b9706ddf56377f4bfea5e61fc951">po_ext_end</a>(MBB, Bounds);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;       <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  succ for BB#&quot;</span> &lt;&lt; <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumber() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumber()];</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// All the successors have been visited, pick the preferred one.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    TBI.Succ = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac76906d75d1c61ed285c2159520ea8da">pickTraceSucc</a>(*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>({</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">if</span> (TBI.Succ)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;BB#&quot;</span> &lt;&lt; TBI.Succ-&gt;getNumber() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;null\n&quot;</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    });</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// The trace leaving I is now known, compute the height resources.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a9fe8df9259772d1b40b4be970772d1d2">computeHeightResources</a>(*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="ttc" id="namespacellvm_html_a9a82b9706ddf56377f4bfea5e61fc951"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a9a82b9706ddf56377f4bfea5e61fc951">llvm::po_ext_end</a></div><div class="ttdeci">po_ext_iterator&lt; T, SetType &gt; po_ext_end(T G, SetType &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00192">PostOrderIterator.h:192</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_afe795f440b3be5bd00a6494bcc57e7f2"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#afe795f440b3be5bd00a6494bcc57e7f2">llvm::MachineTraceMetrics::Loops</a></div><div class="ttdeci">const MachineLoopInfo * Loops</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00072">MachineTraceMetrics.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ac76906d75d1c61ed285c2159520ea8da"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ac76906d75d1c61ed285c2159520ea8da">llvm::MachineTraceMetrics::Ensemble::pickTraceSucc</a></div><div class="ttdeci">virtual const MachineBasicBlock * pickTraceSucc(const MachineBasicBlock *)=0</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a9fe8df9259772d1b40b4be970772d1d2"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a9fe8df9259772d1b40b4be970772d1d2">llvm::MachineTraceMetrics::Ensemble::computeHeightResources</a></div><div class="ttdeci">void computeHeightResources(const MachineBasicBlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00199">MachineTraceMetrics.cpp:199</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa3998744046fbc495d9fc57d1e71ec82"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa3998744046fbc495d9fc57d1e71ec82">llvm::MachineTraceMetrics::Ensemble::computeDepthResources</a></div><div class="ttdeci">void computeDepthResources(const MachineBasicBlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00166">MachineTraceMetrics.cpp:166</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="structllvm_1_1po__ext__iterator_html"><div class="ttname"><a href="../../d9/d3e/structllvm_1_1po__ext__iterator.html">llvm::po_ext_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00181">PostOrderIterator.h:181</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a8eab1cd7d627152b0696bfd77a277ee2"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">llvm::MachineTraceMetrics::Ensemble::getName</a></div><div class="ttdeci">virtual const char * getName() const =0</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a73b0295b2f37729d059fe500f2824255"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a73b0295b2f37729d059fe500f2824255">llvm::MachineTraceMetrics::Ensemble::pickTracePred</a></div><div class="ttdeci">virtual const MachineBasicBlock * pickTracePred(const MachineBasicBlock *)=0</div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="namespacellvm_html_aa0ac2b3a0d13de656a4274b8ea262db5"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#aa0ac2b3a0d13de656a4274b8ea262db5">llvm::ipo_ext_begin</a></div><div class="ttdeci">ipo_ext_iterator&lt; T, SetType &gt; ipo_ext_begin(T G, SetType &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00226">PostOrderIterator.h:226</a></div></div>
<div class="ttc" id="namespacellvm_html_a7713977bef24a5dae3aa800ecee5502e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7713977bef24a5dae3aa800ecee5502e">llvm::ipo_ext_end</a></div><div class="ttdeci">ipo_ext_iterator&lt; T, SetType &gt; ipo_ext_end(T G, SetType &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00231">PostOrderIterator.h:231</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="namespacellvm_html_a8a44b47a55b1045e5732d178cc371966"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a8a44b47a55b1045e5732d178cc371966">llvm::po_ext_begin</a></div><div class="ttdeci">po_ext_iterator&lt; T, SetType &gt; po_ext_begin(T G, SetType &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00187">PostOrderIterator.h:187</a></div></div>
<div class="ttc" id="structllvm_1_1ipo__ext__iterator_html"><div class="ttname"><a href="../../d9/d1f/structllvm_1_1ipo__ext__iterator.html">llvm::ipo_ext_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00218">PostOrderIterator.h:218</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a682b90abb526c398e9e1bfc8e37f03b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">MachineTraceMetrics::TraceBlockInfo</a> * MachineTraceMetrics::Ensemble::getDepthResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00234">234</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                                      {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keyword">const</span> TraceBlockInfo *TBI = &amp;<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">return</span> TBI-&gt;hasValidDepth() ? TBI : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a77ffdd1b319a37f5ff167054f949ac8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">MachineTraceMetrics::TraceBlockInfo</a> * MachineTraceMetrics::Ensemble::getHeightResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00243">243</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                                       {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">const</span> TraceBlockInfo *TBI = &amp;<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()];</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">return</span> TBI-&gt;hasValidHeight() ? TBI : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed541d17fca88fb98326359e263a842a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../da/d0f/classllvm_1_1MachineLoop.html">MachineLoop</a> * MachineTraceMetrics::Ensemble::getLoopFor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00159">159</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                                                          {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#afe795f440b3be5bd00a6494bcc57e7f2">Loops</a>-&gt;<a class="code" href="../../dd/d77/classllvm_1_1MachineLoopInfo.html#a6fd27da145ca5d0d4b72b763092f3aed">getLoopFor</a>(MBB);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_afe795f440b3be5bd00a6494bcc57e7f2"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#afe795f440b3be5bd00a6494bcc57e7f2">llvm::MachineTraceMetrics::Loops</a></div><div class="ttdeci">const MachineLoopInfo * Loops</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00072">MachineTraceMetrics.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoopInfo_html_a6fd27da145ca5d0d4b72b763092f3aed"><div class="ttname"><a href="../../dd/d77/classllvm_1_1MachineLoopInfo.html#a6fd27da145ca5d0d4b72b763092f3aed">llvm::MachineLoopInfo::getLoopFor</a></div><div class="ttdeci">MachineLoop * getLoopFor(const MachineBasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4e/MachineLoopInfo_8h_source.html#l00100">MachineLoopInfo.h:100</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8eab1cd7d627152b0696bfd77a277ee2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> char* llvm::MachineTraceMetrics::Ensemble::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1da9b49331de45b4f64f72ebc857aa1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; unsigned &gt; MachineTraceMetrics::Ensemble::getProcResourceDepths </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>MBBNum</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get an array of processor resource depths for MBB. Indexed by processor resource kind, this array contains the scaled processor resources consumed by all blocks preceding MBB in its trace. It does not include instructions in MBB.</p>
<p>Compare <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html#a05783617bfead544a66a41fb304756f2">TraceBlockInfo::InstrDepth</a>. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00256">256</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                             {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordtype">unsigned</span> PRKinds = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">getNumProcResourceKinds</a>();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>((MBBNum+1) * PRKinds &lt;= <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">ProcResourceDepths</a>.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">ProcResourceDepths</a>.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">data</a>() + MBBNum * PRKinds,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                            PRKinds);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00128">SmallVector.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a44e089a094ba750d7a5742532937ddb5"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a44e089a094ba750d7a5742532937ddb5">llvm::MachineTraceMetrics::Ensemble::ProcResourceDepths</a></div><div class="ttdeci">SmallVector&lt; unsigned, 0 &gt; ProcResourceDepths</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00297">MachineTraceMetrics.h:297</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_ab94cc47416556642bfac3da1face2e22"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">llvm::MachineTraceMetrics::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00073">MachineTraceMetrics.h:73</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a91cde5aac43dc88d6ec26c441b39b7c9"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">llvm::TargetSchedModel::getNumProcResourceKinds</a></div><div class="ttdeci">unsigned getNumProcResourceKinds() const </div><div class="ttdoc">Get the number of kinds of resources for this target. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00092">TargetSchedule.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a7b68be12c974b6b70bc86062f221a344"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">llvm::SmallVectorTemplateCommon::data</a></div><div class="ttdeci">pointer data()</div><div class="ttdoc">data - Return a pointer to the vector&#39;s buffer, even if empty(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00136">SmallVector.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a457498d1f8b1cd21b192ac4429d12224"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; unsigned &gt; MachineTraceMetrics::Ensemble::getProcResourceHeights </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>MBBNum</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get an array of processor resource heights for MBB. Indexed by processor resource kind, this array contains the scaled processor resources consumed by this block and all blocks following it in its trace.</p>
<p>Compare <a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html#a2bee15b953c70ea17198d4d8b60aefed">TraceBlockInfo::InstrHeight</a>. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00270">270</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                              {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordtype">unsigned</span> PRKinds = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">SchedModel</a>.<a class="code" href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">getNumProcResourceKinds</a>();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>((MBBNum+1) * PRKinds &lt;= <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">ProcResourceHeights</a>.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/de5/classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">ProcResourceHeights</a>.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">data</a>() + MBBNum * PRKinds,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                            PRKinds);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00128">SmallVector.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="../../d1/de5/classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da8/ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_ab94cc47416556642bfac3da1face2e22"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#ab94cc47416556642bfac3da1face2e22">llvm::MachineTraceMetrics::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00073">MachineTraceMetrics.h:73</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a91cde5aac43dc88d6ec26c441b39b7c9"><div class="ttname"><a href="../../d6/dbb/classllvm_1_1TargetSchedModel.html#a91cde5aac43dc88d6ec26c441b39b7c9">llvm::TargetSchedModel::getNumProcResourceKinds</a></div><div class="ttdeci">unsigned getNumProcResourceKinds() const </div><div class="ttdoc">Get the number of kinds of resources for this target. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d65/TargetSchedule_8h_source.html#l00092">TargetSchedule.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ae8b2e10feb5d6a59d9d5e614861035b9"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ae8b2e10feb5d6a59d9d5e614861035b9">llvm::MachineTraceMetrics::Ensemble::ProcResourceHeights</a></div><div class="ttdeci">SmallVector&lt; unsigned, 0 &gt; ProcResourceHeights</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00298">MachineTraceMetrics.h:298</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a7b68be12c974b6b70bc86062f221a344"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">llvm::SmallVectorTemplateCommon::data</a></div><div class="ttdeci">pointer data()</div><div class="ttdoc">data - Return a pointer to the vector&#39;s buffer, even if empty(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00136">SmallVector.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae48d29e7657ecdb05f44195870226d9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db5/classllvm_1_1MachineTraceMetrics_1_1Trace.html">MachineTraceMetrics::Trace</a> MachineTraceMetrics::Ensemble::getTrace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the trace that passes through MBB. The trace is computed on demand. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l01140">1140</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                                                                  {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="comment">// FIXME: Check cache tags, recompute as needed.</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ab075e868be7eb6b477441f21d34ea2b8">computeTrace</a>(MBB);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a1bb52a15415430cd95c4da167a9d14b6">computeInstrDepths</a>(MBB);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ad93e240b9069128294e6e38df21cf7d8">computeInstrHeights</a>(MBB);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a9a7aa541dbcfdac34b25b49217ec39d7">Trace</a>(*<span class="keyword">this</span>, <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()]);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ad93e240b9069128294e6e38df21cf7d8"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ad93e240b9069128294e6e38df21cf7d8">llvm::MachineTraceMetrics::Ensemble::computeInstrHeights</a></div><div class="ttdeci">void computeInstrHeights(const MachineBasicBlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00979">MachineTraceMetrics.cpp:979</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a1bb52a15415430cd95c4da167a9d14b6"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a1bb52a15415430cd95c4da167a9d14b6">llvm::MachineTraceMetrics::Ensemble::computeInstrDepths</a></div><div class="ttdeci">void computeInstrDepths(const MachineBasicBlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00783">MachineTraceMetrics.cpp:783</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_ab075e868be7eb6b477441f21d34ea2b8"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#ab075e868be7eb6b477441f21d34ea2b8">llvm::MachineTraceMetrics::Ensemble::computeTrace</a></div><div class="ttdeci">void computeTrace(const MachineBasicBlock *)</div><div class="ttdoc">Compute the trace through MBB. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00461">MachineTraceMetrics.cpp:461</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a9a7aa541dbcfdac34b25b49217ec39d7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a9a7aa541dbcfdac34b25b49217ec39d7">llvm::MachineTraceMetrics::Ensemble::Trace</a></div><div class="ttdeci">friend class Trace</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00299">MachineTraceMetrics.h:299</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a063217bcbb8b81adfdc88feb1a52ddcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::invalidate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invalidate traces through BadMBB. </p>

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00510">510</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                                                       {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;const MachineBasicBlock*, 16&gt;</a> WorkList;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  TraceBlockInfo &amp;BadTBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[BadMBB-&gt;getNumber()];</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// Invalidate height resources of blocks above MBB.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (BadTBI.hasValidHeight()) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    BadTBI.invalidateHeight();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    WorkList.<a class="code" href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(BadMBB);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = WorkList.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Invalidate BB#&quot;</span> &lt;&lt; MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">getName</a>()</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; height.\n&quot;</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="comment">// Find any MBB predecessors that have MBB as their preferred successor.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="comment">// They are the only ones that need to be invalidated.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a502516f71f7824d46325d30ea41f34ba">MachineBasicBlock::const_pred_iterator</a></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;           <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">pred_begin</a>(), E = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a0359a738e0412c5a7ea55d61175e0661">pred_end</a>(); <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[(*I)-&gt;getNumber()];</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (!TBI.hasValidHeight())</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">if</span> (TBI.Succ == MBB) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          TBI.invalidateHeight();</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          WorkList.<a class="code" href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="comment">// Verify that TBI.Succ is actually a *I successor.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>((!TBI.Succ || (*I)-&gt;isSuccessor(TBI.Succ)) &amp;&amp; <span class="stringliteral">&quot;CFG changed&quot;</span>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    } <span class="keywordflow">while</span> (!WorkList.<a class="code" href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// Invalidate depth resources of blocks below MBB.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">if</span> (BadTBI.hasValidDepth()) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    BadTBI.invalidateDepth();</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    WorkList.<a class="code" href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(BadMBB);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = WorkList.<a class="code" href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Invalidate BB#&quot;</span> &lt;&lt; MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">getName</a>()</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; depth.\n&quot;</span>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="comment">// Find any MBB successors that have MBB as their preferred predecessor.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="comment">// They are the only ones that need to be invalidated.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6198e2abdd4f41355b1a0931affde1a6">MachineBasicBlock::const_succ_iterator</a></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;           <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">succ_begin</a>(), E = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">succ_end</a>(); <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[(*I)-&gt;getNumber()];</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">if</span> (!TBI.hasValidDepth())</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> (TBI.Pred == MBB) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          TBI.invalidateDepth();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          WorkList.<a class="code" href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment">// Verify that TBI.Pred is actually a *I predecessor.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>((!TBI.Pred || (*I)-&gt;isPredecessor(TBI.Pred)) &amp;&amp; <span class="stringliteral">&quot;CFG changed&quot;</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    } <span class="keywordflow">while</span> (!WorkList.<a class="code" href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// Clear any per-instruction data. We only have to do this for BadMBB itself</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// because the instructions in that block may change. Other blocks may be</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// invalidated, but their instructions will stay the same, so there is no</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// need to erase the Cycle entries. They will be overwritten when we</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// recompute.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *BadMBB)</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">Cycles</a>.erase(&amp;<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="../../d8/d71/classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00225">SmallVector.h:225</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a3ddd708642d60c1661992ff8ba1b215d"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">llvm::MachineBasicBlock::succ_end</a></div><div class="ttdeci">succ_iterator succ_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00288">MachineBasicBlock.h:288</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a400eaca9881c8dcab97e9f42b1ab1815"><div class="ttname"><a href="../../da/d30/classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T LLVM_ATTRIBUTE_UNUSED_RESULT pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00406">SmallVector.h:406</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00057">SmallVector.h:57</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a0359a738e0412c5a7ea55d61175e0661"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a0359a738e0412c5a7ea55d61175e0661">llvm::MachineBasicBlock::pred_end</a></div><div class="ttdeci">pred_iterator pred_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00272">MachineBasicBlock.h:272</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6321b189ea8fd5058663f8a87d6c23e9"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">llvm::MachineBasicBlock::succ_begin</a></div><div class="ttdeci">succ_iterator succ_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00286">MachineBasicBlock.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a8eab1cd7d627152b0696bfd77a277ee2"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">llvm::MachineTraceMetrics::Ensemble::getName</a></div><div class="ttdeci">virtual const char * getName() const =0</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa15ddfc64482e923393197cd39256676"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa15ddfc64482e923393197cd39256676">llvm::MachineTraceMetrics::Ensemble::Cycles</a></div><div class="ttdeci">DenseMap&lt; const MachineInstr *, InstrCycles &gt; Cycles</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00296">MachineTraceMetrics.h:296</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab644fcf07a4c2708333cf66276282357"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">llvm::MachineBasicBlock::pred_begin</a></div><div class="ttdeci">pred_iterator pred_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00270">MachineBasicBlock.h:270</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a502516f71f7824d46325d30ea41f34ba"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a502516f71f7824d46325d30ea41f34ba">llvm::MachineBasicBlock::const_pred_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::const_iterator const_pred_iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00259">MachineBasicBlock.h:259</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="../../d0/d78/classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00845">SmallVector.h:845</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6198e2abdd4f41355b1a0931affde1a6"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6198e2abdd4f41355b1a0931affde1a6">llvm::MachineBasicBlock::const_succ_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::const_iterator const_succ_iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00261">MachineBasicBlock.h:261</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73b0295b2f37729d059fe500f2824255"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>* llvm::MachineTraceMetrics::Ensemble::pickTracePred </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac76906d75d1c61ed285c2159520ea8da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>* llvm::MachineTraceMetrics::Ensemble::pickTraceSucc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2b763dcb5d9f7fdf8aa51e1788ee6531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l01235">1235</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                                             {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  OS &lt;&lt; <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">getName</a>() &lt;&lt; <span class="stringliteral">&quot; ensemble:\n&quot;</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>.size(); i != e; ++i) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;  BB#&quot;</span> &lt;&lt; i &lt;&lt; <span class="charliteral">&#39;\t&#39;</span>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[i].print(OS);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    OS &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a8eab1cd7d627152b0696bfd77a277ee2"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a8eab1cd7d627152b0696bfd77a277ee2">llvm::MachineTraceMetrics::Ensemble::getName</a></div><div class="ttdeci">virtual const char * getName() const =0</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab276508f4382772aa02513a739614ed1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MachineTraceMetrics::Ensemble::verify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00575">575</a> of file <a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                               {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor"></span>  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>.size() == <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a3219de5cf9fad875a7fdd9ce4bf0e0f8">MF</a>-&gt;<a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html#aef96789028634643aa76d32d0d2ac6c4">getNumBlockIDs</a>() &amp;&amp;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;         <span class="stringliteral">&quot;Outdated BlockInfo size&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Num = 0, e = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>.size(); Num != e; ++Num) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keyword">const</span> TraceBlockInfo &amp;TBI = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[Num];</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (TBI.hasValidDepth() &amp;&amp; TBI.Pred) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a3219de5cf9fad875a7fdd9ce4bf0e0f8">MF</a>-&gt;<a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html#a62c75a04c3f91f17d382c86cde4d3858">getBlockNumbered</a>(Num);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a7a60cbf0b62e6d73972a58a4d33539d9">isPredecessor</a>(TBI.Pred) &amp;&amp; <span class="stringliteral">&quot;CFG doesn&#39;t match trace&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[TBI.Pred-&gt;getNumber()].hasValidDepth() &amp;&amp;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;             <span class="stringliteral">&quot;Trace is broken, depth should have been invalidated.&quot;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../da/d0f/classllvm_1_1MachineLoop.html">MachineLoop</a> *<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aed541d17fca88fb98326359e263a842a">getLoopFor</a>(MBB);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(!(Loop &amp;&amp; MBB == Loop-&gt;getHeader()) &amp;&amp; <span class="stringliteral">&quot;Trace contains backedge&quot;</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (TBI.hasValidHeight() &amp;&amp; TBI.Succ) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">MTM</a>.<a class="code" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a3219de5cf9fad875a7fdd9ce4bf0e0f8">MF</a>-&gt;<a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html#a62c75a04c3f91f17d382c86cde4d3858">getBlockNumbered</a>(Num);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a57f25804288bc580d7b2e4016a38aec9">isSuccessor</a>(TBI.Succ) &amp;&amp; <span class="stringliteral">&quot;CFG doesn&#39;t match trace&quot;</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">BlockInfo</a>[TBI.Succ-&gt;getNumber()].hasValidHeight() &amp;&amp;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;             <span class="stringliteral">&quot;Trace is broken, height should have been invalidated.&quot;</span>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../da/d0f/classllvm_1_1MachineLoop.html">MachineLoop</a> *Loop = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aed541d17fca88fb98326359e263a842a">getLoopFor</a>(MBB);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../da/d0f/classllvm_1_1MachineLoop.html">MachineLoop</a> *SuccLoop = <a class="code" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aed541d17fca88fb98326359e263a842a">getLoopFor</a>(TBI.Succ);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(!(Loop &amp;&amp; Loop == SuccLoop &amp;&amp; TBI.Succ == Loop-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>()) &amp;&amp;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;             <span class="stringliteral">&quot;Trace contains backedge&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_a3cd2bbd553ab66b2cab32b981cde5df7"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#a3cd2bbd553ab66b2cab32b981cde5df7">llvm::MachineTraceMetrics::Ensemble::BlockInfo</a></div><div class="ttdeci">SmallVector&lt; TraceBlockInfo, 4 &gt; BlockInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">MachineTraceMetrics.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac0426a7b8a18e60c5c9d20f73973722b"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00098">LoopInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_aef96789028634643aa76d32d0d2ac6c4"><div class="ttname"><a href="../../d5/d77/classllvm_1_1MachineFunction.html#aef96789028634643aa76d32d0d2ac6c4">llvm::MachineFunction::getNumBlockIDs</a></div><div class="ttdeci">unsigned getNumBlockIDs() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1c/MachineFunction_8h_source.html#l00262">MachineFunction.h:262</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aed541d17fca88fb98326359e263a842a"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aed541d17fca88fb98326359e263a842a">llvm::MachineTraceMetrics::Ensemble::getLoopFor</a></div><div class="ttdeci">const MachineLoop * getLoopFor(const MachineBasicBlock *) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html#l00159">MachineTraceMetrics.cpp:159</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoop_html"><div class="ttname"><a href="../../da/d0f/classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4e/MachineLoopInfo_8h_source.html#l00045">MachineLoopInfo.h:45</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_1_1Ensemble_html_aa60016dad618cf77f24d57fdd3e33112"><div class="ttname"><a href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html#aa60016dad618cf77f24d57fdd3e33112">llvm::MachineTraceMetrics::Ensemble::MTM</a></div><div class="ttdeci">MachineTraceMetrics &amp; MTM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">MachineTraceMetrics.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1MachineTraceMetrics_html_a3219de5cf9fad875a7fdd9ce4bf0e0f8"><div class="ttname"><a href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html#a3219de5cf9fad875a7fdd9ce4bf0e0f8">llvm::MachineTraceMetrics::MF</a></div><div class="ttdeci">const MachineFunction * MF</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/MachineTraceMetrics_8h_source.html#l00068">MachineTraceMetrics.h:68</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a62c75a04c3f91f17d382c86cde4d3858"><div class="ttname"><a href="../../d5/d77/classllvm_1_1MachineFunction.html#a62c75a04c3f91f17d382c86cde4d3858">llvm::MachineFunction::getBlockNumbered</a></div><div class="ttdeci">MachineBasicBlock * getBlockNumbered(unsigned N) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1c/MachineFunction_8h_source.html#l00251">MachineFunction.h:251</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a57f25804288bc580d7b2e4016a38aec9"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a57f25804288bc580d7b2e4016a38aec9">llvm::MachineBasicBlock::isSuccessor</a></div><div class="ttdeci">bool isSuccessor(const MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/MachineBasicBlock_8cpp_source.html#l00625">MachineBasicBlock.cpp:625</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="../../d7/ddf/classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00353">LoopInfo.h:353</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a7a60cbf0b62e6d73972a58a4d33539d9"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a7a60cbf0b62e6d73972a58a4d33539d9">llvm::MachineBasicBlock::isPredecessor</a></div><div class="ttdeci">bool isPredecessor(const MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/MachineBasicBlock_8cpp_source.html#l00621">MachineBasicBlock.cpp:621</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a9a7aa541dbcfdac34b25b49217ec39d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../de/db5/classllvm_1_1MachineTraceMetrics_1_1Trace.html">Trace</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html#l00299">299</a> of file <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a3cd2bbd553ab66b2cab32b981cde5df7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector</a>&lt;<a class="el" href="../../d1/d29/structllvm_1_1MachineTraceMetrics_1_1TraceBlockInfo.html">TraceBlockInfo</a>, 4&gt; llvm::MachineTraceMetrics::Ensemble::BlockInfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html#l00295">295</a> of file <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa15ddfc64482e923393197cd39256676"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a>*, <a class="el" href="../../da/dae/structllvm_1_1MachineTraceMetrics_1_1InstrCycles.html">InstrCycles</a>&gt; llvm::MachineTraceMetrics::Ensemble::Cycles</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html#l00296">296</a> of file <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa60016dad618cf77f24d57fdd3e33112"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a>&amp; llvm::MachineTraceMetrics::Ensemble::MTM</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html#l00311">311</a> of file <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>.</p>

</div>
</div>
<a class="anchor" id="a44e089a094ba750d7a5742532937ddb5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector</a>&lt;unsigned, 0&gt; llvm::MachineTraceMetrics::Ensemble::ProcResourceDepths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html#l00297">297</a> of file <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8b2e10feb5d6a59d9d5e614861035b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector</a>&lt;unsigned, 0&gt; llvm::MachineTraceMetrics::Ensemble::ProcResourceHeights</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html#l00298">298</a> of file <a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../db/d54/MachineTraceMetrics_8h_source.html">MachineTraceMetrics.h</a></li>
<li><a class="el" href="../../d6/d1b/MachineTraceMetrics_8cpp_source.html">MachineTraceMetrics.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d4a/namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="../../d3/d39/classllvm_1_1MachineTraceMetrics.html">MachineTraceMetrics</a></li><li class="navelem"><a class="el" href="../../d1/d33/classllvm_1_1MachineTraceMetrics_1_1Ensemble.html">Ensemble</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:51:13 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
