<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: IndVarSimplify.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/d16/IndVarSimplify_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">IndVarSimplify.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../dc/dd6/Transforms_2Scalar_8h_source.html">llvm/Transforms/Scalar.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dc/d73/DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d33/SmallVector_8h_source.html">llvm/ADT/SmallVector.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d5f/Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/d09/LoopInfo_8h_source.html">llvm/Analysis/LoopInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/d22/LoopPass_8h_source.html">llvm/Analysis/LoopPass.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d42/ScalarEvolutionExpander_8h_source.html">llvm/Analysis/ScalarEvolutionExpander.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d3/d6b/BasicBlock_8h_source.html">llvm/IR/BasicBlock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d4b/IR_2CFG_8h_source.html">llvm/IR/CFG.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/d45/Constants_8h_source.html">llvm/IR/Constants.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d19/DataLayout_8h_source.html">llvm/IR/DataLayout.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d50/Dominators_8h_source.html">llvm/IR/Dominators.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/dd5/Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/dfe/IntrinsicInst_8h_source.html">llvm/IR/IntrinsicInst.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/d6b/LLVMContext_8h_source.html">llvm/IR/LLVMContext.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/db7/Type_8h_source.html">llvm/IR/Type.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d41/CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d82/raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dc/d1a/TargetLibraryInfo_8h_source.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d18/BasicBlockUtils_8h_source.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d6f/Local_8h_source.html">llvm/Transforms/Utils/Local.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d94/SimplifyIndVar_8h_source.html">llvm/Transforms/Utils/SimplifyIndVar.h</a>&quot;</code><br/>
</div>
<p><a href="../../d1/d16/IndVarSimplify_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;indvars&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aba556f596da7fa80d6e9bb43b7d2c1f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#aba556f596da7fa80d6e9bb43b7d2c1f5">STATISTIC</a> (NumWidened,&quot;Number of <a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a566d8ea0c046e39ce95437e5c8390b8f">indvars</a> widened&quot;)</td></tr>
<tr class="separator:aba556f596da7fa80d6e9bb43b7d2c1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed8f24cb39bb67631dcee3ccec455e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a5ed8f24cb39bb67631dcee3ccec455e7">STATISTIC</a> (NumReplaced,&quot;Number of exit values replaced&quot;)</td></tr>
<tr class="separator:a5ed8f24cb39bb67631dcee3ccec455e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22cecb871b85b23082be7baa18d9fea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#ab22cecb871b85b23082be7baa18d9fea">STATISTIC</a> (NumLFTR,&quot;Number of loop exit tests replaced&quot;)</td></tr>
<tr class="separator:ab22cecb871b85b23082be7baa18d9fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c0f5f7ec83ee3de0037493b0c61026"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a83c0f5f7ec83ee3de0037493b0c61026">STATISTIC</a> (NumElimExt,&quot;Number of IV sign/<a class="el" href="../../da/d01/yaml2elf_8cpp.html#aa15f84f0499130c4cec8c17e7f7376ce">zero</a> extends eliminated&quot;)</td></tr>
<tr class="separator:a83c0f5f7ec83ee3de0037493b0c61026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb61c2860da4fc2f8163c2d86a4c4c6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#acb61c2860da4fc2f8163c2d86a4c4c6f">STATISTIC</a> (NumElimIV,&quot;Number of congruent IVs eliminated&quot;)</td></tr>
<tr class="separator:acb61c2860da4fc2f8163c2d86a4c4c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9625ac60c2f0bcc7b6aadbb73f57b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#ace9625ac60c2f0bcc7b6aadbb73f57b6">INITIALIZE_PASS_BEGIN</a> (IndVarSimplify,&quot;indvars&quot;,&quot;Induction Variable <a class="el" href="../../d3/d9e/IndVarSimplify2_8cpp.html#ab5371a4f4e29460339200c446c423284">Simplification</a>&quot;, false, <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>) <a class="el" href="../../dc/d6f/JumpInstrTables_8cpp.html#afdca0f03e5390cb037c356a5e4ab4363">INITIALIZE_PASS_END</a>(IndVarSimplify</td></tr>
<tr class="separator:ace9625ac60c2f0bcc7b6aadbb73f57b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2831ebb1b1d686d2841c7bb2aeed5ade"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a2831ebb1b1d686d2841c7bb2aeed5ade">getInsertPointForUses</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="el" href="../../d6/d1b/classllvm_1_1User.html">User</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Def, <a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *DT)</td></tr>
<tr class="separator:a2831ebb1b1d686d2841c7bb2aeed5ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af945460922a5750a0d075b6344608e27"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#af945460922a5750a0d075b6344608e27">ConvertToSInt</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../df/d77/classllvm_1_1APFloat.html">APFloat</a> &amp;APF, int64_t &amp;IntVal)</td></tr>
<tr class="memdesc:af945460922a5750a0d075b6344608e27"><td class="mdescLeft">&#160;</td><td class="mdescRight">ConvertToSInt - Convert APF to an integer, if possible.  <a href="#af945460922a5750a0d075b6344608e27">More...</a><br/></td></tr>
<tr class="separator:af945460922a5750a0d075b6344608e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a479b0ee2d4562e27ffe13b7d467b9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#ad0a479b0ee2d4562e27ffe13b7d467b9">visitIVCast</a> (<a class="el" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *Cast, WideIVInfo &amp;WI, <a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3a/classllvm_1_1DataLayout.html">DataLayout</a> *<a class="el" href="../../df/dca/GlobalMerge_8cpp.html#a7f7b8906dab43d37c78e10eafe4c424f">DL</a>)</td></tr>
<tr class="separator:ad0a479b0ee2d4562e27ffe13b7d467b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcaa9ef0e14174b7e78a1ba5e83093d7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *V, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *L, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *DT)</td></tr>
<tr class="separator:afcaa9ef0e14174b7e78a1ba5e83093d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af520aab61262c138a0963ebce2b521c2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#af520aab61262c138a0963ebce2b521c2">truncateIVUse</a> (NarrowIVDefUse DU, <a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *DT)</td></tr>
<tr class="separator:af520aab61262c138a0963ebce2b521c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd69f4b50f751466f1a674b2cf6078c5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#afd69f4b50f751466f1a674b2cf6078c5">isHighCostExpansion</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *<a class="el" href="../../d1/d6a/structS.html">S</a>, <a class="el" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a> *BI, <a class="el" href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt; <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *, 8 &gt; &amp;Processed, <a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)</td></tr>
<tr class="separator:afd69f4b50f751466f1a674b2cf6078c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d60699222d90683b12445041df2872"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a06d60699222d90683b12445041df2872">canExpandBackedgeTakenCount</a> (<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *L, <a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)</td></tr>
<tr class="separator:a06d60699222d90683b12445041df2872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd6c95e6ba0f368e0745c65bfe5b6ed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *IncV, <a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *L, <a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *DT)</td></tr>
<tr class="separator:abfd6c95e6ba0f368e0745c65bfe5b6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8c8177d7d5249583164b7f01ce379c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a8f8c8177d7d5249583164b7f01ce379c">getLoopTest</a> (<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *L)</td></tr>
<tr class="memdesc:a8f8c8177d7d5249583164b7f01ce379c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the compare guarding the loop latch, or NULL for unrecognized tests.  <a href="#a8f8c8177d7d5249583164b7f01ce379c">More...</a><br/></td></tr>
<tr class="separator:a8f8c8177d7d5249583164b7f01ce379c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a24a27c50a6c4bc285bef2de8a5e908"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a5a24a27c50a6c4bc285bef2de8a5e908">needsLFTR</a> (<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *L, <a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *DT)</td></tr>
<tr class="separator:a5a24a27c50a6c4bc285bef2de8a5e908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27572260ed728be1d7fc7ce1659ea2f6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a27572260ed728be1d7fc7ce1659ea2f6">hasConcreteDefImpl</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *V, <a class="el" href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt; <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *, 8 &gt; &amp;Visited, unsigned Depth)</td></tr>
<tr class="separator:a27572260ed728be1d7fc7ce1659ea2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc6c5ed9edaa15e526e2a5ad24d1413"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a9cc6c5ed9edaa15e526e2a5ad24d1413">hasConcreteDef</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *V)</td></tr>
<tr class="separator:a9cc6c5ed9edaa15e526e2a5ad24d1413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a861b0a771b2125e6e9affb1b6f7a2003"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a861b0a771b2125e6e9affb1b6f7a2003">AlmostDeadIV</a> (<a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *Phi, <a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *LatchBlock, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Cond)</td></tr>
<tr class="separator:a861b0a771b2125e6e9affb1b6f7a2003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f6a6c0d4162029430135290a31913c5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a0f6a6c0d4162029430135290a31913c5">FindLoopCounter</a> (<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *L, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *BECount, <a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *DT, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3a/classllvm_1_1DataLayout.html">DataLayout</a> *<a class="el" href="../../df/dca/GlobalMerge_8cpp.html#a7f7b8906dab43d37c78e10eafe4c424f">DL</a>)</td></tr>
<tr class="separator:a0f6a6c0d4162029430135290a31913c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf86ad66e16c57783ecd95531fa505d0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#adf86ad66e16c57783ecd95531fa505d0">genLoopLimit</a> (<a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *IndVar, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *IVCount, <a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *L, <a class="el" href="../../d8/de7/classllvm_1_1SCEVExpander.html">SCEVExpander</a> &amp;<a class="el" href="../../d8/dc6/VirtRegMap_8cpp.html#a1ad52109a2ff430460c8776286b97b2e">Rewriter</a>, <a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)</td></tr>
<tr class="separator:adf86ad66e16c57783ecd95531fa505d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7dd1919a4d3379a4810f52ee7bbcd3c8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a7dd1919a4d3379a4810f52ee7bbcd3c8">VerifyIndvars</a> (&quot;verify-<a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a566d8ea0c046e39ce95437e5c8390b8f">indvars</a>&quot;, cl::Hidden, <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Verify the <a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> result after running <a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a566d8ea0c046e39ce95437e5c8390b8f">indvars</a>&quot;))</td></tr>
<tr class="separator:a7dd1919a4d3379a4810f52ee7bbcd3c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed4847626758de7c16cb8c0d956d2b1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a3ed4847626758de7c16cb8c0d956d2b1">ReduceLiveIVs</a> (&quot;liv-<a class="el" href="../../d5/d50/LoopStrengthReduce_8cpp.html#a6d827fc34f1b4371a0b7183d3ca5bcac">reduce</a>&quot;, cl::Hidden, <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Reduce live induction variables.&quot;))</td></tr>
<tr class="separator:a3ed4847626758de7c16cb8c0d956d2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566d8ea0c046e39ce95437e5c8390b8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a566d8ea0c046e39ce95437e5c8390b8f">indvars</a></td></tr>
<tr class="separator:a566d8ea0c046e39ce95437e5c8390b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5371a4f4e29460339200c446c423284"><td class="memItemLeft" align="right" valign="top">Induction Variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#ab5371a4f4e29460339200c446c423284">Simplification</a></td></tr>
<tr class="separator:ab5371a4f4e29460339200c446c423284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29415dc488ced924246223037589dc9f"><td class="memItemLeft" align="right" valign="top">Induction Variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a29415dc488ced924246223037589dc9f">false</a></td></tr>
<tr class="separator:a29415dc488ced924246223037589dc9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;indvars&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00052">52</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a861b0a771b2125e6e9affb1b6f7a2003"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool AlmostDeadIV </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *&#160;</td>
          <td class="paramname"><em>Phi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>LatchBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>Cond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>AlmostDeadIV - Return true if this IV has any uses other than the (soon to be rewritten) loop exit test. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01417">1417</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                                                                            {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordtype">int</span> LatchIdx = Phi-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#a5c2b7d7f19aac93b27b845858a7eb73e">getBasicBlockIndex</a>(LatchBlock);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *IncV = Phi-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(LatchIdx);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> *U : Phi-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>())</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">if</span> (U != Cond &amp;&amp; U != IncV) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> *U : IncV-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>())</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (U != Cond &amp;&amp; U != Phi) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00035">User.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02158">Instructions.h:2158</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00273">Value.h:273</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a5c2b7d7f19aac93b27b845858a7eb73e"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#a5c2b7d7f19aac93b27b845858a7eb73e">llvm::PHINode::getBasicBlockIndex</a></div><div class="ttdeci">int getBasicBlockIndex(const BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02230">Instructions.h:2230</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06d60699222d90683b12445041df2872"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool canExpandBackedgeTakenCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>canExpandBackedgeTakenCount - Return true if this loop's backedge taken count expression can be safely and cheaply expanded into an instruction sequence that can be used by LinearFunctionTestReplace.</p>
<p>TODO: This fails for pointer-type loop counters with greater than one byte strides, consequently preventing LFTR from running. For the purpose of LFTR we could skip this check in the case that the LFTR loop counter (chosen by FindLoopCounter) is also pointer type. Instead, we could directly convert the loop test to an inequality test by checking the target data's alignment of element types (given that the initial pointer value originates from or is used by ABI constrained operation, as opposed to inttoptr/ptrtoint). However, we don't yet have a strong motivation for converting loop tests into inequality tests. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01261">1261</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                                                      {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *BackedgeTakenCount = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">getBackedgeTakenCount</a>(L);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(BackedgeTakenCount) ||</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      BackedgeTakenCount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">isZero</a>())</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">getExitingBlock</a>())</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="comment">// Can&#39;t rewrite non-branch yet.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a> *BI = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a>&gt;(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">getExitingBlock</a>()-&gt;getTerminator());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">if</span> (!BI)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <a class="code" href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SCEV*, 8&gt;</a> Processed;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#afd69f4b50f751466f1a674b2cf6078c5">isHighCostExpansion</a>(BackedgeTakenCount, BI, Processed, SE))</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SCEV_html_a3f76d2fd4788225548dc36ef9e417030"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">llvm::SCEV::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00273">ScalarEvolution.cpp:273</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_afd69f4b50f751466f1a674b2cf6078c5"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#afd69f4b50f751466f1a674b2cf6078c5">isHighCostExpansion</a></div><div class="ttdeci">static bool isHighCostExpansion(const SCEV *S, BranchInst *BI, SmallPtrSet&lt; const SCEV *, 8 &gt; &amp;Processed, ScalarEvolution *SE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01202">IndVarSimplify.cpp:1202</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="../../dc/de7/classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02450">Instructions.h:2450</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_acaec68a759bb05d3be2ed7dd47e25171"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">llvm::LoopBase::getExitingBlock</a></div><div class="ttdeci">BlockT * getExitingBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00051">LoopInfoImpl.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/SmallPtrSet_8h_source.html#l00292">SmallPtrSet.h:292</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/db4/ScalarEvolution_8h_source.html#l00057">ScalarEvolution.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aecd7aba4460358813feef37d71d5024e"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">llvm::ScalarEvolution::getBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getBackedgeTakenCount(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l04169">ScalarEvolution.cpp:4169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af945460922a5750a0d075b6344608e27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ConvertToSInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../df/d77/classllvm_1_1APFloat.html">APFloat</a> &amp;&#160;</td>
          <td class="paramname"><em>APF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t &amp;&#160;</td>
          <td class="paramname"><em>IntVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ConvertToSInt - Convert APF to an integer, if possible. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00225">225</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                                               {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">bool</span> isExact = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// See if we can convert this to an int64_t</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  uint64_t UIntVal;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (APF.<a class="code" href="../../df/d77/classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6">convertToInteger</a>(&amp;UIntVal, 64, <span class="keyword">true</span>, APFloat::rmTowardZero,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                           &amp;isExact) != APFloat::opOK || !isExact)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="../../db/d20/namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">IntVal</a> = UIntVal;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1APFloat_html_a796301cd33da892bb1971f3d03e36cb6"><div class="ttname"><a href="../../df/d77/classllvm_1_1APFloat.html#a796301cd33da892bb1971f3d03e36cb6">llvm::APFloat::convertToInteger</a></div><div class="ttdeci">opStatus convertToInteger(integerPart *, unsigned int, bool, roundingMode, bool *) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dab/APFloat_8cpp_source.html#l02177">APFloat.cpp:2177</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac"><div class="ttname"><a href="../../db/d20/namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">llvm::tgtok::IntVal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/TGLexer_8h_source.html#l00054">TGLexer.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f6a6c0d4162029430135290a31913c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a>* FindLoopCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *&#160;</td>
          <td class="paramname"><em>BECount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3a/classllvm_1_1DataLayout.html">DataLayout</a> *&#160;</td>
          <td class="paramname"><em>DL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>FindLoopCounter - Find an affine IV in canonical form.</p>
<p>BECount may be an i8* pointer type. The pointer difference is already valid count without scaling the address stride, so it remains a pointer expression as far as SCEV is concerned.</p>
<p>Currently only valid for LFTR. See the comments on hasConcreteDef below.</p>
<p>FIXME: Accept -1 stride and set IVLimit = IVInit - BECount</p>
<p>FIXME: Accept non-unit stride as long as SCEV can reduce BECount * Stride. This is difficult in general for SCEV because of potential overflow. But we could at least handle constant BECounts. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01443">1443</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                                                                              {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  uint64_t BCWidth = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(BECount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Cond =</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    cast&lt;BranchInst&gt;(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">getExitingBlock</a>()-&gt;getTerminator())-&gt;getCondition();</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// Loop over all of the PHI nodes, looking for a simple counter.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *BestPhi = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *BestInit = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *LatchBlock = L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">getLoopLatch</a>();</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(LatchBlock &amp;&amp; <span class="stringliteral">&quot;needsLFTR should guarantee a loop latch&quot;</span>);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>()-&gt;begin(); isa&lt;PHINode&gt;(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>); ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *Phi = cast&lt;PHINode&gt;(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">if</span> (!SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd">isSCEVable</a>(Phi-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="comment">// Avoid comparing an integer IV against a pointer Limit.</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">if</span> (BECount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp; !Phi-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(Phi));</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">if</span> (!AR || AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>() != L || !AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>())</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="comment">// AR may be a pointer type, while BECount is an integer type.</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">// AR may be wider than BECount. With eq/ne tests overflow is immaterial.</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">// AR may not be a narrower type, or we may never exit.</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    uint64_t PhiWidth = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(AR-&gt;<a class="code" href="../../d5/de1/classllvm_1_1SCEVNAryExpr.html#aed1b1d3b764c76210c67dd1b4a6be2f2">getType</a>());</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordflow">if</span> (PhiWidth &lt; BCWidth || (DL &amp;&amp; !DL-&gt;<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#a96f1e9abd65fef355bd8f15f9360c871">isLegalInteger</a>(PhiWidth)))</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *Step = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d5/deb/classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">getStepRecurrence</a>(*SE));</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">if</span> (!Step || !Step-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">isOne</a>())</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordtype">int</span> LatchIdx = Phi-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#a5c2b7d7f19aac93b27b845858a7eb73e">getBasicBlockIndex</a>(LatchBlock);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *IncV = Phi-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(LatchIdx);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a>(IncV, L, DT) != Phi)</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="comment">// Avoid reusing a potentially undef value to compute other values that may</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="comment">// have originally had a concrete definition.</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a9cc6c5ed9edaa15e526e2a5ad24d1413">hasConcreteDef</a>(Phi)) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="comment">// We explicitly allow unknown phis as long as they are already used by</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="comment">// the loop test. In this case we assume that performing LFTR could not</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="comment">// increase the number of undef users.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *Cond = <a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a8f8c8177d7d5249583164b7f01ce379c">getLoopTest</a>(L)) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">if</span> (Phi != <a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a>(Cond-&gt;getOperand(0), L, DT)</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            &amp;&amp; Phi != <a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a>(Cond-&gt;getOperand(1), L, DT)) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        }</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="../../df/d88/classllvm_1_1Init.html">Init</a> = AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span> (BestPhi &amp;&amp; !<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a861b0a771b2125e6e9affb1b6f7a2003">AlmostDeadIV</a>(BestPhi, LatchBlock, Cond)) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="comment">// Don&#39;t force a live loop counter if another IV can be used.</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a861b0a771b2125e6e9affb1b6f7a2003">AlmostDeadIV</a>(Phi, LatchBlock, Cond))</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="comment">// Prefer to count-from-zero. This is a more &quot;canonical&quot; counter form. It</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <span class="comment">// also prefers integer to pointer IVs.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <span class="keywordflow">if</span> (BestInit-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">isZero</a>() != Init-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">isZero</a>()) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">if</span> (BestInit-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">isZero</a>())</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      }</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <span class="comment">// If two IVs both count from zero or both count from nonzero then the</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <span class="comment">// narrower is likely a dead phi that has been widened. Use the wider phi</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="comment">// to allow the other to be eliminated.</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PhiWidth &lt;= SE-&gt;getTypeSizeInBits(BestPhi-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    BestPhi = Phi;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    BestInit = Init;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">return</span> BestPhi;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SCEV_html_a3935a9de0ebdf3dc625cfb28e35bd009"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">llvm::SCEV::isOne</a></div><div class="ttdeci">bool isOne() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00279">ScalarEvolution.cpp:279</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a3f76d2fd4788225548dc36ef9e417030"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">llvm::SCEV::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00273">ScalarEvolution.cpp:273</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02076">Instructions.h:2076</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a443e9130cd9f3e3baaa1b566e6aa5060"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">llvm::SCEVAddRecExpr::getStepRecurrence</a></div><div class="ttdeci">const SCEV * getStepRecurrence(ScalarEvolution &amp;SE) const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00305">ScalarEvolutionExpressions.h:305</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_a9cc6c5ed9edaa15e526e2a5ad24d1413"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#a9cc6c5ed9edaa15e526e2a5ad24d1413">hasConcreteDef</a></div><div class="ttdeci">static bool hasConcreteDef(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01409">IndVarSimplify.cpp:1409</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac0426a7b8a18e60c5c9d20f73973722b"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00098">LoopInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a0d53a749bd858b270d322b34b8d7e1e5"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">llvm::SCEVAddRecExpr::getStart</a></div><div class="ttdeci">const SCEV * getStart() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00298">ScalarEvolutionExpressions.h:298</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a8917d359fc92f25eb0117386588c6f1c"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00156">LoopInfoImpl.h:156</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a983dbdce6af7840357ed33a20c8f30bb"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">llvm::ScalarEvolution::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02767">ScalarEvolution.cpp:2767</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html">llvm::SCEVAddRecExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00288">ScalarEvolutionExpressions.h:288</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_aed1b1d3b764c76210c67dd1b4a6be2f2"><div class="ttname"><a href="../../d5/de1/classllvm_1_1SCEVNAryExpr.html#aed1b1d3b764c76210c67dd1b4a6be2f2">llvm::SCEVNAryExpr::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00162">ScalarEvolutionExpressions.h:162</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a88f514461ddb0af0fc59ac4639f644bc"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">llvm::SCEVAddRecExpr::isAffine</a></div><div class="ttdeci">bool isAffine() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00314">ScalarEvolutionExpressions.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ae9623974341419bfd1d185cfdc65bedd"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd">llvm::ScalarEvolution::isSCEVable</a></div><div class="ttdeci">bool isSCEVable(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02760">ScalarEvolution.cpp:2760</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a9a16f1241255a605fc8debc1e26eaa4c"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">llvm::SCEV::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00248">ScalarEvolution.cpp:248</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="../../d5/dcb/classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l00977">Instructions.h:977</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_acaec68a759bb05d3be2ed7dd47e25171"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">llvm::LoopBase::getExitingBlock</a></div><div class="ttdeci">BlockT * getExitingBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00051">LoopInfoImpl.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00217">Type.h:217</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_a8f8c8177d7d5249583164b7f01ce379c"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#a8f8c8177d7d5249583164b7f01ce379c">getLoopTest</a></div><div class="ttdeci">static ICmpInst * getLoopTest(Loop *L)</div><div class="ttdoc">Return the compare guarding the loop latch, or NULL for unrecognized tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01320">IndVarSimplify.cpp:1320</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02158">Instructions.h:2158</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_abfd6c95e6ba0f368e0745c65bfe5b6ed"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a></div><div class="ttdeci">static PHINode * getLoopPhiForCounter(Value *IncV, Loop *L, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01284">IndVarSimplify.cpp:1284</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/db4/ScalarEvolution_8h_source.html#l00057">ScalarEvolution.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a96f1e9abd65fef355bd8f15f9360c871"><div class="ttname"><a href="../../de/d3a/classllvm_1_1DataLayout.html#a96f1e9abd65fef355bd8f15f9360c871">llvm::DataLayout::isLegalInteger</a></div><div class="ttdeci">bool isLegalInteger(unsigned Width) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d19/DataLayout_8h_source.html#l00224">DataLayout.h:224</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a7fcbbc51eef313e675a2442bb2053ae9"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">llvm::SCEVAddRecExpr::getLoop</a></div><div class="ttdeci">const Loop * getLoop() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00299">ScalarEvolutionExpressions.h:299</a></div></div>
<div class="ttc" id="classllvm_1_1Init_html"><div class="ttname"><a href="../../df/d88/classllvm_1_1Init.html">llvm::Init</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/Record_8h_source.html#l00418">Record.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02843">ScalarEvolution.cpp:2843</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_a861b0a771b2125e6e9affb1b6f7a2003"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#a861b0a771b2125e6e9affb1b6f7a2003">AlmostDeadIV</a></div><div class="ttdeci">static bool AlmostDeadIV(PHINode *Phi, BasicBlock *LatchBlock, Value *Cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01417">IndVarSimplify.cpp:1417</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a5c2b7d7f19aac93b27b845858a7eb73e"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#a5c2b7d7f19aac93b27b845858a7eb73e">llvm::PHINode::getBasicBlockIndex</a></div><div class="ttdeci">int getBasicBlockIndex(const BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02230">Instructions.h:2230</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVConstant_html"><div class="ttname"><a href="../../d5/deb/classllvm_1_1SCEVConstant.html">llvm::SCEVConstant</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00038">ScalarEvolutionExpressions.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf86ad66e16c57783ecd95531fa505d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* genLoopLimit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *&#160;</td>
          <td class="paramname"><em>IndVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *&#160;</td>
          <td class="paramname"><em>IVCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/de7/classllvm_1_1SCEVExpander.html">SCEVExpander</a> &amp;&#160;</td>
          <td class="paramname"><em>Rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>genLoopLimit - Help LinearFunctionTestReplace by generating a value that holds the RHS of the new loop test. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01525">1525</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                                                                        {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(IndVar));</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(AR &amp;&amp; AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>() == L &amp;&amp; AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>() &amp;&amp; <span class="stringliteral">&quot;bad loop counter&quot;</span>);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *IVInit = AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// IVInit may be a pointer while IVCount is an integer when FindLoopCounter</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">// finds a valid pointer IV. Sign extend BECount in order to materialize a</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="comment">// GEP. Avoid running SCEVExpander on a new pointer value, instead reusing</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="comment">// the existing GEPs whenever possible.</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">if</span> (IndVar-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      &amp;&amp; !IVCount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// IVOffset will be the new GEP offset that is interpreted by GEP as a</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="comment">// signed value. IVCount on the other hand represents the loop trip count,</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="comment">// which is an unsigned value. FindLoopCounter only allows induction</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="comment">// variables that have a positive unit stride of one. This means we don&#39;t</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="comment">// have to handle the case of negative offsets (yet) and just need to zero</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="comment">// extend IVCount.</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *OfsTy = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27">getEffectiveSCEVType</a>(IVInit-&gt;getType());</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *IVOffset = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">getTruncateOrZeroExtend</a>(IVCount, OfsTy);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="comment">// Expand the code for the iteration count.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(IVOffset, L) &amp;&amp;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;           <span class="stringliteral">&quot;Computed iteration count is not loop invariant!&quot;</span>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">getExitingBlock</a>()-&gt;getTerminator());</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *GEPOffset = Rewriter.<a class="code" href="../../d8/de7/classllvm_1_1SCEVExpander.html#a583d3ca95f83216d632a4d1ae0330dd0">expandCodeFor</a>(IVOffset, OfsTy, BI);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *GEPBase = IndVar-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#a21960167f529265a1cb02ac1e8ad10f6">getIncomingValueForBlock</a>(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#a1bc74c76b876ad387293ecde0f21ed45">getLoopPreheader</a>());</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>() == SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(GEPBase) &amp;&amp; <span class="stringliteral">&quot;bad loop counter&quot;</span>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="comment">// We could handle pointer IVs other than i8*, but we need to compensate for</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="comment">// gep index scaling. See canExpandBackedgeTakenCount comments.</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">getSizeOfExpr</a>(IntegerType::getInt64Ty(IndVar-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()),</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;             cast&lt;PointerType&gt;(GEPBase-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;getElementType())-&gt;isOne()</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;           &amp;&amp; <span class="stringliteral">&quot;unit stride pointer IV must be i8*&quot;</span>);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#a1bc74c76b876ad387293ecde0f21ed45">getLoopPreheader</a>()-&gt;getTerminator());</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>.<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(GEPBase, GEPOffset, <span class="stringliteral">&quot;lftr.limit&quot;</span>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// In any other case, convert both IVInit and IVCount to integers before</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">// comparing. This may result in SCEV expension of pointers, but in practice</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="comment">// SCEV will fold the pointer arithmetic away as such:</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="comment">// BECount = (IVEnd - IVInit - 1) =&gt; IVLimit = IVInit (postinc).</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="comment">// Valid Cases: (1) both integers is most common; (2) both may be pointers</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="comment">// for simple memset-style loops.</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="comment">// IVInit integer and IVCount pointer would only occur if a canonical IV</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="comment">// were generated on top of case #2, which is not expected.</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *IVLimit = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="comment">// For unit stride, IVCount = Start + BECount with 2&#39;s complement overflow.</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="comment">// For non-zero Start, compute IVCount here.</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>()-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">isZero</a>())</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      IVLimit = IVCount;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">getStepRecurrence</a>(*SE)-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">isOne</a>() &amp;&amp; <span class="stringliteral">&quot;only handles unit stride&quot;</span>);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *IVInit = AR-&gt;<a class="code" href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <span class="comment">// For integer IVs, truncate the IV before computing IVInit + BECount.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(IVInit-&gt;getType())</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;          &gt; SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(IVCount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()))</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        IVInit = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a8344b86f018c5c78a986fb97e1eaf20b">getTruncateExpr</a>(IVInit, IVCount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      IVLimit = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(IVInit, IVCount);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="comment">// Expand the code for the iteration count.</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">getExitingBlock</a>()-&gt;getTerminator());</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>(BI);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(IVLimit, L) &amp;&amp;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;           <span class="stringliteral">&quot;Computed iteration count is not loop invariant!&quot;</span>);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="comment">// Ensure that we generate the same type as IndVar, or a smaller integer</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="comment">// type. In the presence of null pointer values, we have an integer type</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="comment">// SCEV expression (IVInit) for a pointer type IV value (IndVar).</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *LimitTy = IVCount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() ?</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      IndVar-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() : IVCount-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">return</span> Rewriter.<a class="code" href="../../d8/de7/classllvm_1_1SCEVExpander.html#a583d3ca95f83216d632a4d1ae0330dd0">expandCodeFor</a>(IVLimit, LimitTy, BI);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_ac46176b523c8a76a9ccdb5683279db94"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">llvm::IRBuilder::CreateGEP</a></div><div class="ttdeci">Value * CreateGEP(Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00957">IRBuilder.h:957</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a3935a9de0ebdf3dc625cfb28e35bd009"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">llvm::SCEV::isOne</a></div><div class="ttdeci">bool isOne() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00279">ScalarEvolution.cpp:279</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a3f76d2fd4788225548dc36ef9e417030"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">llvm::SCEV::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00273">ScalarEvolution.cpp:273</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a443e9130cd9f3e3baaa1b566e6aa5060"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">llvm::SCEVAddRecExpr::getStepRecurrence</a></div><div class="ttdeci">const SCEV * getStepRecurrence(ScalarEvolution &amp;SE) const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00305">ScalarEvolutionExpressions.h:305</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a5a19768af81df7e5fe571bc08dcd48b3"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">llvm::ScalarEvolution::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const SCEV *S, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l07870">ScalarEvolution.cpp:7870</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a0d53a749bd858b270d322b34b8d7e1e5"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">llvm::SCEVAddRecExpr::getStart</a></div><div class="ttdeci">const SCEV * getStart() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00298">ScalarEvolutionExpressions.h:298</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00437">IRBuilder.h:437</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a983dbdce6af7840357ed33a20c8f30bb"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">llvm::ScalarEvolution::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02767">ScalarEvolution.cpp:2767</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html">llvm::SCEVAddRecExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00288">ScalarEvolutionExpressions.h:288</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a5b01f1061607731f6d2953b935649570"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">llvm::ScalarEvolution::getSizeOfExpr</a></div><div class="ttdeci">const SCEV * getSizeOfExpr(Type *IntTy, Type *AllocTy)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02694">ScalarEvolution.cpp:2694</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_abb976145b00ae108c1d6b98c4f099d27"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27">llvm::ScalarEvolution::getEffectiveSCEVType</a></div><div class="ttdeci">Type * getEffectiveSCEVType(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02788">ScalarEvolution.cpp:2788</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a88f514461ddb0af0fc59ac4639f644bc"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">llvm::SCEVAddRecExpr::isAffine</a></div><div class="ttdeci">bool isAffine() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00314">ScalarEvolutionExpressions.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a1bc74c76b876ad387293ecde0f21ed45"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#a1bc74c76b876ad387293ecde0f21ed45">llvm::LoopBase::getLoopPreheader</a></div><div class="ttdeci">BlockT * getLoopPreheader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00108">LoopInfoImpl.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a9a16f1241255a605fc8debc1e26eaa4c"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">llvm::SCEV::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00248">ScalarEvolution.cpp:248</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="../../dc/de7/classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02450">Instructions.h:2450</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVExpander_html_a583d3ca95f83216d632a4d1ae0330dd0"><div class="ttname"><a href="../../d8/de7/classllvm_1_1SCEVExpander.html#a583d3ca95f83216d632a4d1ae0330dd0">llvm::SCEVExpander::expandCodeFor</a></div><div class="ttdeci">Value * expandCodeFor(const SCEV *SH, Type *Ty, Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d53/ScalarEvolutionExpander_8cpp_source.html#l01582">ScalarEvolutionExpander.cpp:1582</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_acaec68a759bb05d3be2ed7dd47e25171"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">llvm::LoopBase::getExitingBlock</a></div><div class="ttdeci">BlockT * getExitingBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00051">LoopInfoImpl.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00217">Type.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00615">Value.cpp:615</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a8344b86f018c5c78a986fb97e1eaf20b"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a8344b86f018c5c78a986fb97e1eaf20b">llvm::ScalarEvolution::getTruncateExpr</a></div><div class="ttdeci">const SCEV * getTruncateExpr(const SCEV *Op, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00821">ScalarEvolution.cpp:821</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a21960167f529265a1cb02ac1e8ad10f6"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#a21960167f529265a1cb02ac1e8ad10f6">llvm::PHINode::getIncomingValueForBlock</a></div><div class="ttdeci">Value * getIncomingValueForBlock(const BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02237">Instructions.h:2237</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a23541ecba66207184eaf2279a70c5b12"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">llvm::ScalarEvolution::getAddExpr</a></div><div class="ttdeci">const SCEV * getAddExpr(SmallVectorImpl&lt; const SCEV * &gt; &amp;Ops, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l01491">ScalarEvolution.cpp:1491</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/db4/ScalarEvolution_8h_source.html#l00057">ScalarEvolution.h:57</a></div></div>
<div class="ttc" id="Chapter3_2toy_8cpp_html_a273f780131bbe21658cfc4d34210ff4b"><div class="ttname"><a href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a></div><div class="ttdeci">static IRBuilder Builder(getGlobalContext())</div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a7fcbbc51eef313e675a2442bb2053ae9"><div class="ttname"><a href="../../dd/d87/classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">llvm::SCEVAddRecExpr::getLoop</a></div><div class="ttdeci">const Loop * getLoop() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00299">ScalarEvolutionExpressions.h:299</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02843">ScalarEvolution.cpp:2843</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a32dd2633bd4f1c5243c9704a30db22d8"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">llvm::ScalarEvolution::getTruncateOrZeroExtend</a></div><div class="ttdeci">const SCEV * getTruncateOrZeroExtend(const SCEV *V, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02907">ScalarEvolution.cpp:2907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2831ebb1b1d686d2841c7bb2aeed5ade"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>* getInsertPointForUses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>User</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>Def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine the insertion point for this user. By default, insert immediately before the user. SCEVExpander or LICM will hoist loop invariants out of the loop. For PHI nodes, there may be multiple uses, so compute the nearest common dominator for the incoming blocks. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00194">194</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                                             {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a>&gt;(User);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">if</span> (!PHI)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> User;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *InsertPt = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = PHI-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (PHI-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(i) != <a class="code" href="../../db/d20/namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *InsertBB = PHI-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">getIncomingBlock</a>(i);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (!InsertPt) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      InsertPt = InsertBB-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    InsertBB = DT-&gt;<a class="code" href="../../d2/d7b/classllvm_1_1DominatorTreeBase.html#a7b35f5c9add7ed3d63112ad468400e87">findNearestCommonDominator</a>(InsertPt-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>(), InsertBB);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    InsertPt = InsertBB-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(InsertPt &amp;&amp; <span class="stringliteral">&quot;Missing phi operand&quot;</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>((!isa&lt;Instruction&gt;(Def) ||</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          DT-&gt;<a class="code" href="../../d3/d13/classllvm_1_1DominatorTree.html#a81b28228f9e96d15ff17869edfb08ff5">dominates</a>(cast&lt;Instruction&gt;(Def), InsertPt)) &amp;&amp;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;         <span class="stringliteral">&quot;def does not dominate all uses&quot;</span>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">return</span> InsertPt;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02076">Instructions.h:2076</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aa45f6c0433576e3858a6209a43750ad4"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02154">Instructions.h:2154</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="../../db/d20/namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a4c25b6c00c4867281779c81ab64d2081"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02173">Instructions.h:2173</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTreeBase_html_a7b35f5c9add7ed3d63112ad468400e87"><div class="ttname"><a href="../../d2/d7b/classllvm_1_1DominatorTreeBase.html#a7b35f5c9add7ed3d63112ad468400e87">llvm::DominatorTreeBase::findNearestCommonDominator</a></div><div class="ttdeci">NodeT * findNearestCommonDominator(NodeT *A, NodeT *B)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da1/GenericDomTree_8h_source.html#l00437">GenericDomTree.h:437</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html_a81b28228f9e96d15ff17869edfb08ff5"><div class="ttname"><a href="../../d3/d13/classllvm_1_1DominatorTree.html#a81b28228f9e96d15ff17869edfb08ff5">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const Instruction *Def, const Use &amp;U) const </div><div class="ttdoc">Return true if Def dominates a use in User. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5a/Dominators_8cpp_source.html#l00217">Dominators.cpp:217</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02158">Instructions.h:2158</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="../../d0/dea/namespacellvm_1_1TargetOpcode.html#af471f4e1c42e2028cc668e6f61883e43ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d56/TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5cb76a65b6524dba1493dd2b9dc3abbe"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">TerminatorInst * getTerminator()</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d69/BasicBlock_8cpp_source.html#l00124">BasicBlock.cpp:124</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abfd6c95e6ba0f368e0745c65bfe5b6ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a>* getLoopPhiForCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>IncV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>getLoopPhiForCounter - Return the loop header phi IFF IncV adds a loop invariant value to the phi. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01284">1284</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                                                                              {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *IncI = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>&gt;(IncV);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">if</span> (!IncI)</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">switch</span> (IncI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keywordflow">case</span> Instruction::Add:</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">// An IV counter must preserve its type.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordflow">if</span> (IncI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>() == 2)</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *Phi = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a>&gt;(IncI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keywordflow">if</span> (Phi &amp;&amp; Phi-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>()) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(IncI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), L, DT))</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="keywordflow">return</span> Phi;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">if</span> (IncI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>() == Instruction::GetElementPtr)</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="comment">// Allow add/sub to be commuted.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  Phi = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a>&gt;(IncI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="keywordflow">if</span> (Phi &amp;&amp; Phi-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>()) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(IncI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), L, DT))</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">return</span> Phi;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;}</div>
<div class="ttc" id="IndVarSimplify_8cpp_html_afcaa9ef0e14174b7e78a1ba5e83093d7"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a></div><div class="ttdeci">static bool isLoopInvariant(Value *V, const Loop *L, const DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00769">IndVarSimplify.cpp:769</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2f81e0c1fc6554df7ad2eafabf5fc5a5"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00110">User.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02076">Instructions.h:2076</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac0426a7b8a18e60c5c9d20f73973722b"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00098">LoopInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00086">Instruction.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8f8c8177d7d5249583164b7f01ce379c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a>* getLoopTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the compare guarding the loop latch, or NULL for unrecognized tests. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01320">1320</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                                      {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">getExitingBlock</a>() &amp;&amp; <span class="stringliteral">&quot;expected loop exit&quot;</span>);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *LatchBlock = L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">getLoopLatch</a>();</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="comment">// Don&#39;t bother with LFTR if the loop is not properly simplified.</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordflow">if</span> (!LatchBlock)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a> *BI = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a>&gt;(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">getExitingBlock</a>()-&gt;getTerminator());</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(BI &amp;&amp; <span class="stringliteral">&quot;expected exit branch&quot;</span>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a>&gt;(BI-&gt;<a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>());</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a8917d359fc92f25eb0117386588c6f1c"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00156">LoopInfoImpl.h:156</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="../../dc/de7/classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02450">Instructions.h:2450</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="../../d5/dcb/classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l00977">Instructions.h:977</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_acaec68a759bb05d3be2ed7dd47e25171"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#acaec68a759bb05d3be2ed7dd47e25171">llvm::LoopBase::getExitingBlock</a></div><div class="ttdeci">BlockT * getExitingBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00051">LoopInfoImpl.h:51</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a84309bb8c34c8bc5694ec5d48dd8668f"><div class="ttname"><a href="../../dc/de7/classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02495">Instructions.h:2495</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9cc6c5ed9edaa15e526e2a5ad24d1413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool hasConcreteDef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if the given value is concrete. We must prove that undef can never reach it.</p>
<p>TODO: If we decide that this is a good approach to checking for undef, we may factor it into a common location. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01409">1409</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                                     {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <a class="code" href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value*, 8&gt;</a> Visited;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  Visited.<a class="code" href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">insert</a>(V);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a27572260ed728be1d7fc7ce1659ea2f6">hasConcreteDefImpl</a>(V, Visited, 0);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_ae39454c85a776d45d248e38f98a620c6"><div class="ttname"><a href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/SmallPtrSet_8h_source.html#l00256">SmallPtrSet.h:256</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_a27572260ed728be1d7fc7ce1659ea2f6"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#a27572260ed728be1d7fc7ce1659ea2f6">hasConcreteDefImpl</a></div><div class="ttdeci">static bool hasConcreteDefImpl(Value *V, SmallPtrSet&lt; Value *, 8 &gt; &amp;Visited, unsigned Depth)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01376">IndVarSimplify.cpp:1376</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/SmallPtrSet_8h_source.html#l00292">SmallPtrSet.h:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27572260ed728be1d7fc7ce1659ea2f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool hasConcreteDefImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt; <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *, 8 &gt; &amp;&#160;</td>
          <td class="paramname"><em>Visited</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>Depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Recursive helper for <a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a9cc6c5ed9edaa15e526e2a5ad24d1413">hasConcreteDef()</a>. Unfortunately, this currently boils down to checking that all operands are constant and listing instructions that may hide undef. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01376">1376</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                                               {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Constant&gt;(V))</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">return</span> !isa&lt;UndefValue&gt;(V);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="keywordflow">if</span> (Depth &gt;= 6)</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="comment">// Conservatively handle non-constant non-instructions. For example, Arguments</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">// may be undef.</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>&gt;(V);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">if</span> (!I)</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="comment">// Load and return values may be undef.</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordflow">if</span>(I-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a0fd8d3c26bf5cd614b0e6a9b8886a5d0">mayReadFromMemory</a>() || isa&lt;CallInst&gt;(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;InvokeInst&gt;(I))</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// Optimistically handle other instructions.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/d66/classllvm_1_1Use.html">User::op_iterator</a> OI = I-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>(), E = I-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>(); OI != E; ++OI) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">insert</a>(*OI))</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a27572260ed728be1d7fc7ce1659ea2f6">hasConcreteDefImpl</a>(*OI, Visited, Depth+1))</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_ae39454c85a776d45d248e38f98a620c6"><div class="ttname"><a href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/SmallPtrSet_8h_source.html#l00256">SmallPtrSet.h:256</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00120">User.h:120</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_a27572260ed728be1d7fc7ce1659ea2f6"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#a27572260ed728be1d7fc7ce1659ea2f6">hasConcreteDefImpl</a></div><div class="ttdeci">static bool hasConcreteDefImpl(Value *V, SmallPtrSet&lt; Value *, 8 &gt; &amp;Visited, unsigned Depth)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01376">IndVarSimplify.cpp:1376</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="../../d0/d66/classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/Use_8h_source.html#l00069">Use.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a0fd8d3c26bf5cd614b0e6a9b8886a5d0"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a0fd8d3c26bf5cd614b0e6a9b8886a5d0">llvm::Instruction::mayReadFromMemory</a></div><div class="ttdeci">bool mayReadFromMemory() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/Instruction_8cpp_source.html#l00403">Instruction.cpp:403</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_af41f58e730804d10b91fcff39b035f74"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">llvm::User::op_end</a></div><div class="ttdeci">op_iterator op_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00122">User.h:122</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ace9625ac60c2f0bcc7b6aadbb73f57b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">IndVarSimplify&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;indvars&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Induction Variable <a class="el" href="../../d3/d9e/IndVarSimplify2_8cpp.html#ab5371a4f4e29460339200c446c423284">Simplification</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afd69f4b50f751466f1a674b2cf6078c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isHighCostExpansion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de7/classllvm_1_1BranchInst.html">BranchInst</a> *&#160;</td>
          <td class="paramname"><em>BI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt; <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *, 8 &gt; &amp;&#160;</td>
          <td class="paramname"><em>Processed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="../../d8/d2b/namespaceCheck.html">Check</a> for expressions that ScalarEvolution generates to compute BackedgeTakenInfo. If these expressions have not been reduced, then expanding them may incur additional cost (albeit in the loop preheader). </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01202">1202</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                                     {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">if</span> (!Processed.<a class="code" href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">insert</a>(S))</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="comment">// If the backedge-taken count is a UDiv, it&#39;s very likely a UDiv that</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="comment">// ScalarEvolution&#39;s HowFarToZero or HowManyLessThans produced to compute a</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">// precise expression, rather than a UDiv from the user&#39;s code. If we can&#39;t</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="comment">// find a UDiv in the code with some simple searching, assume the former and</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="comment">// forego rewriting the loop.</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVUDivExpr&gt;(S)) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *OrigCond = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a>&gt;(BI-&gt;<a class="code" href="../../dc/de7/classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>());</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">if</span> (!OrigCond) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *R = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(OrigCond-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    R = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">getMinusSCEV</a>(R, SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(R-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1));</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">if</span> (R != S) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d2/d70/classllvm_1_1SCEV.html">SCEV</a> *L = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(OrigCond-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      L = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">getMinusSCEV</a>(L, SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(L-&gt;<a class="code" href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1));</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">if</span> (L != S)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// Recurse past add expressions, which commonly occur in the</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// BackedgeTakenCount. They may already exist in program code, and if not,</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="comment">// they are not too expensive rematerialize.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="../../d2/df0/classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(S)) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">for</span> (SCEVAddExpr::op_iterator <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Add-&gt;op_begin(), E = Add-&gt;op_end();</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;         <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#afd69f4b50f751466f1a674b2cf6078c5">isHighCostExpansion</a>(*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, BI, Processed, SE))</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// HowManyLessThans uses a Max expression whenever the loop is not guarded by</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">// the exit condition.</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVSMaxExpr&gt;(S) || isa&lt;SCEVUMaxExpr&gt;(S))</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// If we haven&#39;t recognized an expensive SCEV pattern, assume it&#39;s an</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="comment">// expression produced by program code.</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a2eb94d079d8416118f4aaed865ab05d7"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">llvm::ScalarEvolution::getConstant</a></div><div class="ttdeci">const SCEV * getConstant(ConstantInt *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00312">ScalarEvolution.cpp:312</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_ae39454c85a776d45d248e38f98a620c6"><div class="ttname"><a href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/SmallPtrSet_8h_source.html#l00256">SmallPtrSet.h:256</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_afd69f4b50f751466f1a674b2cf6078c5"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#afd69f4b50f751466f1a674b2cf6078c5">isHighCostExpansion</a></div><div class="ttdeci">static bool isHighCostExpansion(const SCEV *S, BranchInst *BI, SmallPtrSet&lt; const SCEV *, 8 &gt; &amp;Processed, ScalarEvolution *SE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01202">IndVarSimplify.cpp:1202</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a9a16f1241255a605fc8debc1e26eaa4c"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">llvm::SCEV::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l00248">ScalarEvolution.cpp:248</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="../../d5/dcb/classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l00977">Instructions.h:977</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aa888e3661c809163273aca85ded4d846"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">llvm::ScalarEvolution::getMinusSCEV</a></div><div class="ttdeci">const SCEV * getMinusSCEV(const SCEV *LHS, const SCEV *RHS, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap)</div><div class="ttdoc">getMinusSCEV - Return LHS-RHS. Minus is represented in SCEV as A+B*-1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02891">ScalarEvolution.cpp:2891</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddExpr_html"><div class="ttname"><a href="../../d2/df0/classllvm_1_1SCEVAddExpr.html">llvm::SCEVAddExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d60/ScalarEvolutionExpressions_8h_source.html#l00207">ScalarEvolutionExpressions.h:207</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a84309bb8c34c8bc5694ec5d48dd8668f"><div class="ttname"><a href="../../dc/de7/classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02495">Instructions.h:2495</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html"><div class="ttname"><a href="../../d2/d70/classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/db4/ScalarEvolution_8h_source.html#l00057">ScalarEvolution.h:57</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02843">ScalarEvolution.cpp:2843</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afcaa9ef0e14174b7e78a1ba5e83093d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isLoopInvariant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>isLoopInvariant - Perform a quick domtree based check for loop invariance assuming that V is used within the loop. LoopInfo::isLoopInvariant() seems gratuitous for this purpose. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00769">769</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                                                              {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *Inst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>&gt;(V);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">if</span> (!Inst)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">return</span> DT-&gt;<a class="code" href="../../d2/d7b/classllvm_1_1DominatorTreeBase.html#afa6e474ddb5643c59cdee31c6bbdd223">properlyDominates</a>(Inst-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>(), L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>());</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1DominatorTreeBase_html_afa6e474ddb5643c59cdee31c6bbdd223"><div class="ttname"><a href="../../d2/d7b/classllvm_1_1DominatorTreeBase.html#afa6e474ddb5643c59cdee31c6bbdd223">llvm::DominatorTreeBase::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const DomTreeNodeBase&lt; NodeT &gt; *A, const DomTreeNodeBase&lt; NodeT &gt; *B) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da1/GenericDomTree_8h_source.html#l00366">GenericDomTree.h:366</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac0426a7b8a18e60c5c9d20f73973722b"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00098">LoopInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5a24a27c50a6c4bc285bef2de8a5e908"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool needsLFTR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>needsLFTR - LinearFunctionTestReplace policy. Return true unless we can show that the current exit test is already sufficiently canonical. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01336">1336</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                                  {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// Do LFTR to simplify the exit condition to an ICMP.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <a class="code" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *Cond = <a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a8f8c8177d7d5249583164b7f01ce379c">getLoopTest</a>(L);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span> (!Cond)</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// Do LFTR to simplify the exit ICMP to EQ/NE</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <a class="code" href="../../d4/d19/namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">ICmpInst::Predicate</a> Pred = Cond-&gt;<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>();</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">if</span> (Pred != ICmpInst::ICMP_NE &amp;&amp; Pred != ICmpInst::ICMP_EQ)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// Look for a loop invariant RHS</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *LHS = Cond-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *RHS = Cond-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(RHS, L, DT)) {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(LHS, L, DT))</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="../../d8/dcc/namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="comment">// Look for a simple IV counter LHS</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *Phi = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a>&gt;(LHS);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordflow">if</span> (!Phi)</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    Phi = <a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a>(LHS, L, DT);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">if</span> (!Phi)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="comment">// Do LFTR if PHI node is defined in the loop, but is *not* a counter.</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordtype">int</span> Idx = Phi-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#a5c2b7d7f19aac93b27b845858a7eb73e">getBasicBlockIndex</a>(L-&gt;<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">getLoopLatch</a>());</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; 0)</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="comment">// Do LFTR if the exit condition&#39;s IV is *not* a simple counter.</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *IncV = Phi-&gt;<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(Idx);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="keywordflow">return</span> Phi != <a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a>(IncV, L, DT);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;}</div>
<div class="ttc" id="IndVarSimplify_8cpp_html_afcaa9ef0e14174b7e78a1ba5e83093d7"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a></div><div class="ttdeci">static bool isLoopInvariant(Value *V, const Loop *L, const DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00769">IndVarSimplify.cpp:769</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02076">Instructions.h:2076</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a8917d359fc92f25eb0117386588c6f1c"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/LoopInfoImpl_8h_source.html#l00156">LoopInfoImpl.h:156</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="../../d5/dcb/classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l00977">Instructions.h:977</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00735">InstrTypes.h:735</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_a8f8c8177d7d5249583164b7f01ce379c"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#a8f8c8177d7d5249583164b7f01ce379c">getLoopTest</a></div><div class="ttdeci">static ICmpInst * getLoopTest(Loop *L)</div><div class="ttdoc">Return the compare guarding the loop latch, or NULL for unrecognized tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01320">IndVarSimplify.cpp:1320</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02158">Instructions.h:2158</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="../../d4/d19/namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2a/PPCPredicates_8h_source.html#l00027">PPCPredicates.h:27</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_abfd6c95e6ba0f368e0745c65bfe5b6ed"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#abfd6c95e6ba0f368e0745c65bfe5b6ed">getLoopPhiForCounter</a></div><div class="ttdeci">static PHINode * getLoopPhiForCounter(Value *IncV, Loop *L, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l01284">IndVarSimplify.cpp:1284</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="../../d8/dcc/namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d95/BitVector_8h_source.html#l00590">BitVector.h:590</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a5c2b7d7f19aac93b27b845858a7eb73e"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html#a5c2b7d7f19aac93b27b845858a7eb73e">llvm::PHINode::getBasicBlockIndex</a></div><div class="ttdeci">int getBasicBlockIndex(const BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02230">Instructions.h:2230</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba556f596da7fa80d6e9bb43b7d2c1f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumWidened&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a566d8ea0c046e39ce95437e5c8390b8f">indvars</a> widened&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5ed8f24cb39bb67631dcee3ccec455e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumReplaced&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of exit values replaced&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab22cecb871b85b23082be7baa18d9fea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumLFTR&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of loop exit tests replaced&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a83c0f5f7ec83ee3de0037493b0c61026"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumElimExt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of IV sign/<a class="el" href="../../da/d01/yaml2elf_8cpp.html#aa15f84f0499130c4cec8c17e7f7376ce">zero</a> extends eliminated&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acb61c2860da4fc2f8163c2d86a4c4c6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumElimIV&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of congruent IVs eliminated&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af520aab61262c138a0963ebce2b521c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void truncateIVUse </td>
          <td>(</td>
          <td class="paramtype">NarrowIVDefUse&#160;</td>
          <td class="paramname"><em>DU</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d13/classllvm_1_1DominatorTree.html">DominatorTree</a> *&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This IV user cannot be widen. Replace this use of the original narrow IV with a truncation of the new wide IV to isolate and eliminate the narrow IV. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00903">903</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                                                                {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;INDVARS: Truncate IV &quot;</span> &lt;&lt; *DU.WideDef</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; for user &quot;</span> &lt;&lt; *DU.NarrowUse &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> <a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>(<a class="code" href="../../d1/d16/IndVarSimplify_8cpp.html#a2831ebb1b1d686d2841c7bb2aeed5ade">getInsertPointForUses</a>(DU.NarrowUse, DU.NarrowDef, DT));</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Trunc = <a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>.<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">CreateTrunc</a>(DU.WideDef, DU.NarrowDef-&gt;getType());</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  DU.NarrowUse-&gt;replaceUsesOfWith(DU.NarrowDef, Trunc);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;}</div>
<div class="ttc" id="IndVarSimplify_8cpp_html_a2831ebb1b1d686d2841c7bb2aeed5ade"><div class="ttname"><a href="../../d1/d16/IndVarSimplify_8cpp.html#a2831ebb1b1d686d2841c7bb2aeed5ade">getInsertPointForUses</a></div><div class="ttdeci">static Instruction * getInsertPointForUses(Instruction *User, Value *Def, DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00194">IndVarSimplify.cpp:194</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00437">IRBuilder.h:437</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="Chapter3_2toy_8cpp_html_a273f780131bbe21658cfc4d34210ff4b"><div class="ttname"><a href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a></div><div class="ttdeci">static IRBuilder Builder(getGlobalContext())</div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_aa933549689e79685bb67de64dddc9f7c"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">llvm::IRBuilder::CreateTrunc</a></div><div class="ttdeci">Value * CreateTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01094">IRBuilder.h:1094</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0a479b0ee2d4562e27ffe13b7d467b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void visitIVCast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *&#160;</td>
          <td class="paramname"><em>Cast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WideIVInfo &amp;&#160;</td>
          <td class="paramname"><em>WI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *&#160;</td>
          <td class="paramname"><em>SE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3a/classllvm_1_1DataLayout.html">DataLayout</a> *&#160;</td>
          <td class="paramname"><em>DL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>visitCast - Update information about the induction variable that is extended by this sign or zero extend operation. This is used to determine the final width of the IV before actually widening it. </p>

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00663">663</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                              {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordtype">bool</span> IsSigned = Cast-&gt;<a class="code" href="../../de/dcc/classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">getOpcode</a>() == Instruction::SExt;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">if</span> (!IsSigned &amp;&amp; Cast-&gt;<a class="code" href="../../de/dcc/classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">getOpcode</a>() != Instruction::ZExt)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *Ty = Cast-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  uint64_t Width = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(Ty);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">if</span> (DL &amp;&amp; !DL-&gt;<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#a96f1e9abd65fef355bd8f15f9360c871">isLegalInteger</a>(Width))</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">if</span> (!WI.WidestNativeType) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    WI.WidestNativeType = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    WI.IsSigned = IsSigned;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// We extend the IV to satisfy the sign of its first user, arbitrarily.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">if</span> (WI.IsSigned != IsSigned)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">if</span> (Width &gt; SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(WI.WidestNativeType))</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    WI.WidestNativeType = SE-&gt;<a class="code" href="../../dc/d09/classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27">getEffectiveSCEVType</a>(Ty);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1CastInst_html_adc3489e61d5f37a0e4c5589859fbccc2"><div class="ttname"><a href="../../de/dcc/classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">llvm::CastInst::getOpcode</a></div><div class="ttdeci">Instruction::CastOps getOpcode() const </div><div class="ttdoc">Return the opcode of this CastInst. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00624">InstrTypes.h:624</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a983dbdce6af7840357ed33a20c8f30bb"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">llvm::ScalarEvolution::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02767">ScalarEvolution.cpp:2767</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_abb976145b00ae108c1d6b98c4f099d27"><div class="ttname"><a href="../../dc/d09/classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27">llvm::ScalarEvolution::getEffectiveSCEVType</a></div><div class="ttdeci">Type * getEffectiveSCEVType(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/ScalarEvolution_8cpp_source.html#l02788">ScalarEvolution.cpp:2788</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a96f1e9abd65fef355bd8f15f9360c871"><div class="ttname"><a href="../../de/d3a/classllvm_1_1DataLayout.html#a96f1e9abd65fef355bd8f15f9360c871">llvm::DataLayout::isLegalInteger</a></div><div class="ttdeci">bool isLegalInteger(unsigned Width) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d19/DataLayout_8h_source.html#l00224">DataLayout.h:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a29415dc488ced924246223037589dc9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Induction Variable false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00131">131</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a566d8ea0c046e39ce95437e5c8390b8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">indvars</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00131">131</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3ed4847626758de7c16cb8c0d956d2b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; ReduceLiveIVs(&quot;liv-<a class="el" href="../../d5/d50/LoopStrengthReduce_8cpp.html#a6d827fc34f1b4371a0b7183d3ca5bcac">reduce</a>&quot;, cl::Hidden, <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Reduce live induction variables.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab5371a4f4e29460339200c446c423284"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Induction Variable Simplification</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html#l00131">131</a> of file <a class="el" href="../../d1/d16/IndVarSimplify_8cpp_source.html">IndVarSimplify.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7dd1919a4d3379a4810f52ee7bbcd3c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; VerifyIndvars(&quot;verify-<a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a566d8ea0c046e39ce95437e5c8390b8f">indvars</a>&quot;, cl::Hidden, <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Verify the <a class="el" href="../../dc/d09/classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> result after running <a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html#a566d8ea0c046e39ce95437e5c8390b8f">indvars</a>&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_211fb134ce6a4c3329568c5b3817f0ae.html">llvm</a></li><li class="navelem"><a class="el" href="../../dir_68ef2609279916640dd02c22eb347286.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_5c496d779f2cb0b9e39446f1a293372b.html">Transforms</a></li><li class="navelem"><a class="el" href="../../dir_f536250b88bf40822ad9f2d04ff3a034.html">Scalar</a></li><li class="navelem"><a class="el" href="../../d1/d16/IndVarSimplify_8cpp.html">IndVarSimplify.cpp</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:43:52 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
