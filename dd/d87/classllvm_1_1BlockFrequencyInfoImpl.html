<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: llvm::BlockFrequencyInfoImpl&lt; BlockT &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">llvm::BlockFrequencyInfoImpl&lt; BlockT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Shared implementation for block frequency analysis.  
 <a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../de/d53/BlockFrequencyInfo_8h_source.html">BlockFrequencyInfo.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.png" usemap="#llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;_map" alt=""/>
  <map id="llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;_map" name="llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;_map">
<area href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html" title="Base class for BlockFrequencyInfoImpl. " alt="llvm::BlockFrequencyInfoImplBase" shape="rect" coords="0,0,237,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afea78107bcd0a88f9af1a4ca7c6c241c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#afea78107bcd0a88f9af1a4ca7c6c241c">getFunction</a> () <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:afea78107bcd0a88f9af1a4ca7c6c241c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c8d8fd76a5942f15c006233b3d9812"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad3c8d8fd76a5942f15c006233b3d9812">doFunction</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a> *<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a> *<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">BPI</a>, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a> *<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">LI</a>)</td></tr>
<tr class="separator:ad3c8d8fd76a5942f15c006233b3d9812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6509249da94f9dc32084fc6a875a8175"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a6509249da94f9dc32084fc6a875a8175">BlockFrequencyInfoImpl</a> ()</td></tr>
<tr class="separator:a6509249da94f9dc32084fc6a875a8175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17bb2f407d7ce2aa1c473e2e5c13c15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/de9/classllvm_1_1BlockFrequency.html">BlockFrequency</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab17bb2f407d7ce2aa1c473e2e5c13c15">getBlockFreq</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *BB) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:ab17bb2f407d7ce2aa1c473e2e5c13c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbf8247453d48812517581c0b1a4180"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a1cbf8247453d48812517581c0b1a4180">getFloatingBlockFreq</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *BB) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a1cbf8247453d48812517581c0b1a4180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05ed8871c23e9c87114b754bc6098ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad05ed8871c23e9c87114b754bc6098ab">print</a> (<a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> override</td></tr>
<tr class="memdesc:ad05ed8871c23e9c87114b754bc6098ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the frequencies for the current function.  <a href="#ad05ed8871c23e9c87114b754bc6098ab">More...</a><br/></td></tr>
<tr class="separator:ad05ed8871c23e9c87114b754bc6098ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f4d4b4cdbbb3817200b372b6fcabae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#af2f4d4b4cdbbb3817200b372b6fcabae">printBlockFreq</a> (<a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *BB) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:af2f4d4b4cdbbb3817200b372b6fcabae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a3092515a29ef375186c406ecebf084c1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a><br class="typebreak"/>
&lt; BT &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a></td></tr>
<tr class="separator:a3092515a29ef375186c406ecebf084c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebab2afa6873dbc7b6b3358452869560"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a><br class="typebreak"/>
&lt; BT &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a></td></tr>
<tr class="separator:aebab2afa6873dbc7b6b3358452869560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a24f4d22583333b219a1ffff36ad23"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a><br class="typebreak"/>
&lt; BT &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a></td></tr>
<tr class="separator:a55a24f4d22583333b219a1ffff36ad23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7988dba753a66e83845e74a9858e706"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a><br class="typebreak"/>
&lt; BT &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a></td></tr>
<tr class="separator:ab7988dba753a66e83845e74a9858e706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64515bf669e2a145c865fdf5d3992c10"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a><br class="typebreak"/>
&lt; BT &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a></td></tr>
<tr class="separator:a64515bf669e2a145c865fdf5d3992c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c85265aa064dbe1ca48d0bedddf75cc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d2/d13/structllvm_1_1GraphTraits.html">GraphTraits</a>&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <br class="typebreak"/>
<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a7c85265aa064dbe1ca48d0bedddf75cc">Successor</a></td></tr>
<tr class="separator:a7c85265aa064dbe1ca48d0bedddf75cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ca38cb8bd92f36175ba7ff245326fc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d2/d13/structllvm_1_1GraphTraits.html">GraphTraits</a>&lt; <a class="el" href="../../d3/d26/structllvm_1_1Inverse.html">Inverse</a><br class="typebreak"/>
&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a14ca38cb8bd92f36175ba7ff245326fc">Predecessor</a></td></tr>
<tr class="separator:a14ca38cb8bd92f36175ba7ff245326fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb8a1089b47e389af8bb3a809b68850"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <br class="typebreak"/>
<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> * &gt;::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a></td></tr>
<tr class="separator:a9cb8a1089b47e389af8bb3a809b68850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f26fcabd49eaca3cc1aa86d2afed7dc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d2/d4f/classllvm_1_1ScaledNumber.html">ScaledNumber</a>&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a></td></tr>
<tr class="separator:a2f26fcabd49eaca3cc1aa86d2afed7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19c72715d3b34bb26eb0ecb7ec82715"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">bfi_detail::BlockMass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aa19c72715d3b34bb26eb0ecb7ec82715">BlockMass</a></td></tr>
<tr class="separator:aa19c72715d3b34bb26eb0ecb7ec82715"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a831898aac3ad8c7e9f4e93bc0031d8a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a831898aac3ad8c7e9f4e93bc0031d8a3">rpot_begin</a> () <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a831898aac3ad8c7e9f4e93bc0031d8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59c93992e3573cfa6d73a73566aafce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad59c93992e3573cfa6d73a73566aafce">rpot_end</a> () <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:ad59c93992e3573cfa6d73a73566aafce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44c6a25dff9125049a0baae34735161"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad44c6a25dff9125049a0baae34735161">getIndex</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:ad44c6a25dff9125049a0baae34735161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c055952d9ff07ecfb4aa8ef93b896c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a66c055952d9ff07ecfb4aa8ef93b896c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9a7f609cc8cc7ec0efda9b39222656"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a0a9a7f609cc8cc7ec0efda9b39222656">getNode</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *BB) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a0a9a7f609cc8cc7ec0efda9b39222656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919becaef692a4417e7f938eeaeb3012"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a919becaef692a4417e7f938eeaeb3012">getBlock</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="el" href="../../d8/d49/structNode.html">Node</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a919becaef692a4417e7f938eeaeb3012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259150377dc3002214222187d49f177e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a259150377dc3002214222187d49f177e">initializeRPOT</a> ()</td></tr>
<tr class="memdesc:a259150377dc3002214222187d49f177e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run (and save) a post-order traversal.  <a href="#a259150377dc3002214222187d49f177e">More...</a><br/></td></tr>
<tr class="separator:a259150377dc3002214222187d49f177e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75098bc034c0ae157a1a37df681c7b75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a75098bc034c0ae157a1a37df681c7b75">initializeLoops</a> ()</td></tr>
<tr class="memdesc:a75098bc034c0ae157a1a37df681c7b75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize loop data.  <a href="#a75098bc034c0ae157a1a37df681c7b75">More...</a><br/></td></tr>
<tr class="separator:a75098bc034c0ae157a1a37df681c7b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15566d562fb0f6fbe2f94b26460527b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a15566d562fb0f6fbe2f94b26460527b3">propagateMassToSuccessors</a> (<a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="el" href="../../d8/d49/structNode.html">Node</a>)</td></tr>
<tr class="memdesc:a15566d562fb0f6fbe2f94b26460527b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate to a block's successors.  <a href="#a15566d562fb0f6fbe2f94b26460527b3">More...</a><br/></td></tr>
<tr class="separator:a15566d562fb0f6fbe2f94b26460527b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71d30c415d508f5307a134b2dc1caa5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5">computeMassInLoop</a> (<a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>)</td></tr>
<tr class="memdesc:ab71d30c415d508f5307a134b2dc1caa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute mass in a particular loop.  <a href="#ab71d30c415d508f5307a134b2dc1caa5">More...</a><br/></td></tr>
<tr class="separator:ab71d30c415d508f5307a134b2dc1caa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b2af989057016a00ad528f8866543e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a65b2af989057016a00ad528f8866543e">tryToComputeMassInFunction</a> ()</td></tr>
<tr class="memdesc:a65b2af989057016a00ad528f8866543e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to compute mass in the top-level function.  <a href="#a65b2af989057016a00ad528f8866543e">More...</a><br/></td></tr>
<tr class="separator:a65b2af989057016a00ad528f8866543e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfed064f9311e92066de09b1da0d9dc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#abfed064f9311e92066de09b1da0d9dc3">computeIrreducibleMass</a> (<a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, std::list&lt; <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &gt;::iterator Insert)</td></tr>
<tr class="memdesc:abfed064f9311e92066de09b1da0d9dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute mass in (and package up) irreducible SCCs.  <a href="#abfed064f9311e92066de09b1da0d9dc3">More...</a><br/></td></tr>
<tr class="separator:abfed064f9311e92066de09b1da0d9dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d61bc22e0b838b765469a441f4060c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a41d61bc22e0b838b765469a441f4060c">computeMassInLoops</a> ()</td></tr>
<tr class="memdesc:a41d61bc22e0b838b765469a441f4060c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute mass in all loops.  <a href="#a41d61bc22e0b838b765469a441f4060c">More...</a><br/></td></tr>
<tr class="separator:a41d61bc22e0b838b765469a441f4060c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd407cc4cfb807fd7a9f0d34f6ca7cf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#afd407cc4cfb807fd7a9f0d34f6ca7cf3">computeMassInFunction</a> ()</td></tr>
<tr class="memdesc:afd407cc4cfb807fd7a9f0d34f6ca7cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute mass in the top-level function.  <a href="#afd407cc4cfb807fd7a9f0d34f6ca7cf3">More...</a><br/></td></tr>
<tr class="separator:afd407cc4cfb807fd7a9f0d34f6ca7cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c9c697d414b872461facb0ef36439e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">getBlockName</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="el" href="../../d8/d49/structNode.html">Node</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> override</td></tr>
<tr class="separator:a25c9c697d414b872461facb0ef36439e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ea5a32fdaf85d4aa83b1e2d8473fdc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">addLoopSuccessorsToDist</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>, <a class="el" href="../../d6/dd3/structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist)</td></tr>
<tr class="memdesc:a41ea5a32fdaf85d4aa83b1e2d8473fdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add all edges out of a packaged loop to the distribution.  <a href="#a41ea5a32fdaf85d4aa83b1e2d8473fdc">More...</a><br/></td></tr>
<tr class="separator:a41ea5a32fdaf85d4aa83b1e2d8473fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac32cd773a37b10c8f835459a23ac606"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">addToDist</a> (<a class="el" href="../../d6/dd3/structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Pred, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Succ, uint64_t <a class="el" href="../../d8/dc4/structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>)</td></tr>
<tr class="memdesc:aac32cd773a37b10c8f835459a23ac606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an edge to the distribution.  <a href="#aac32cd773a37b10c8f835459a23ac606">More...</a><br/></td></tr>
<tr class="separator:aac32cd773a37b10c8f835459a23ac606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd448370c2ece9ae14e767409d68e99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#addd448370c2ece9ae14e767409d68e99">getLoopPackage</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Head)</td></tr>
<tr class="separator:addd448370c2ece9ae14e767409d68e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc6780051353310f8899f9cc5283337"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dfa/classllvm_1_1iterator__range.html">iterator_range</a>&lt; std::list<br class="typebreak"/>
&lt; <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &gt;::iterator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">analyzeIrreducible</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d8/dd2/structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">bfi_detail::IrreducibleGraph</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>, <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, std::list&lt; <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &gt;::iterator Insert)</td></tr>
<tr class="memdesc:aabc6780051353310f8899f9cc5283337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze irreducible SCCs.  <a href="#aabc6780051353310f8899f9cc5283337">More...</a><br/></td></tr>
<tr class="separator:aabc6780051353310f8899f9cc5283337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fcc33897ff2ea4ebc874792c49497ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">updateLoopWithIrreducible</a> (<a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;OuterLoop)</td></tr>
<tr class="memdesc:a8fcc33897ff2ea4ebc874792c49497ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a loop after packaging irreducible SCCs inside of it.  <a href="#a8fcc33897ff2ea4ebc874792c49497ef">More...</a><br/></td></tr>
<tr class="separator:a8fcc33897ff2ea4ebc874792c49497ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda9f21a68ad40aac3ee4e0bf3afa31d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">distributeMass</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Source, <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, <a class="el" href="../../d6/dd3/structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist)</td></tr>
<tr class="memdesc:adda9f21a68ad40aac3ee4e0bf3afa31d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distribute mass according to a distribution.  <a href="#adda9f21a68ad40aac3ee4e0bf3afa31d">More...</a><br/></td></tr>
<tr class="separator:adda9f21a68ad40aac3ee4e0bf3afa31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aca67ed248d1eb55621f38869372c65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">computeLoopScale</a> (<a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>)</td></tr>
<tr class="memdesc:a6aca67ed248d1eb55621f38869372c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the loop scale for a loop.  <a href="#a6aca67ed248d1eb55621f38869372c65">More...</a><br/></td></tr>
<tr class="separator:a6aca67ed248d1eb55621f38869372c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a0d1f4a55f5756a4ef8e59662a7621"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">packageLoop</a> (<a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>)</td></tr>
<tr class="memdesc:a72a0d1f4a55f5756a4ef8e59662a7621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Package up a loop.  <a href="#a72a0d1f4a55f5756a4ef8e59662a7621">More...</a><br/></td></tr>
<tr class="separator:a72a0d1f4a55f5756a4ef8e59662a7621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e1554fca8ef98622714e55215db4a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">unwrapLoops</a> ()</td></tr>
<tr class="memdesc:ab4e1554fca8ef98622714e55215db4a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unwrap loops.  <a href="#ab4e1554fca8ef98622714e55215db4a9">More...</a><br/></td></tr>
<tr class="separator:ab4e1554fca8ef98622714e55215db4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8381abddeccf17690f4533ba6ecce36b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">finalizeMetrics</a> ()</td></tr>
<tr class="memdesc:a8381abddeccf17690f4533ba6ecce36b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize frequency metrics.  <a href="#a8381abddeccf17690f4533ba6ecce36b">More...</a><br/></td></tr>
<tr class="separator:a8381abddeccf17690f4533ba6ecce36b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90cc95ac676cd6751e696d9a683745c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">clear</a> ()</td></tr>
<tr class="memdesc:a90cc95ac676cd6751e696d9a683745c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all memory.  <a href="#a90cc95ac676cd6751e696d9a683745c0">More...</a><br/></td></tr>
<tr class="separator:a90cc95ac676cd6751e696d9a683745c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44de4910df6963fd98abfdc1175a604f"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">getBlockName</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="el" href="../../d8/d49/structNode.html">Node</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a44de4910df6963fd98abfdc1175a604f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e66c3921dc35e5f337e1259db56f9e6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">getLoopName</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a7e66c3921dc35e5f337e1259db56f9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c34b347204fd10df27090341b4127e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8c34b347204fd10df27090341b4127e4">dump</a> () <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a8c34b347204fd10df27090341b4127e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc8ca9c011c63bbbde375098196be72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#afbc8ca9c011c63bbbde375098196be72">getFloatingBlockFreq</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="el" href="../../d8/d49/structNode.html">Node</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:afbc8ca9c011c63bbbde375098196be72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abadd78b1ae6c91dd923a5d5f0b7c955f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/de9/classllvm_1_1BlockFrequency.html">BlockFrequency</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#abadd78b1ae6c91dd923a5d5f0b7c955f">getBlockFreq</a> (<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="el" href="../../d8/d49/structNode.html">Node</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:abadd78b1ae6c91dd923a5d5f0b7c955f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac681206f263bb82b1e8237cb5905c01e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#ac681206f263bb82b1e8237cb5905c01e">printBlockFreq</a> (<a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="el" href="../../d8/d49/structNode.html">Node</a>) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:ac681206f263bb82b1e8237cb5905c01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb24b802b5828e9178fe8acb827648a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2eb24b802b5828e9178fe8acb827648a">printBlockFreq</a> (<a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d7/de9/classllvm_1_1BlockFrequency.html">BlockFrequency</a> &amp;Freq) <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:a2eb24b802b5828e9178fe8acb827648a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb588f24e7fea2f3cdc9f87e15a59ae"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aecb588f24e7fea2f3cdc9f87e15a59ae">getEntryFreq</a> () <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> </td></tr>
<tr class="separator:aecb588f24e7fea2f3cdc9f87e15a59ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ada16ed5dc731b3ed8ef39e0a86755e95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">BPI</a></td></tr>
<tr class="separator:ada16ed5dc731b3ed8ef39e0a86755e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373176199136ded5ed5629628b0d0906"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">LI</a></td></tr>
<tr class="separator:a373176199136ded5ed5629628b0d0906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45222e0a2a5669a998379bdadb6211a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a></td></tr>
<tr class="separator:aa45222e0a2a5669a998379bdadb6211a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158c2c60a6edd3d6e3ec87a6a08b1f58"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a></td></tr>
<tr class="separator:a158c2c60a6edd3d6e3ec87a6a08b1f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31068af2d632245ecbd0619d473395da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> <br class="typebreak"/>
*, <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a31068af2d632245ecbd0619d473395da">Nodes</a></td></tr>
<tr class="separator:a31068af2d632245ecbd0619d473395da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee96d15a297893d47f2d5fb50eac90d6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d2/d0a/structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html">FrequencyData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a></td></tr>
<tr class="memdesc:aee96d15a297893d47f2d5fb50eac90d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data about each block. This is used downstream.  <a href="#aee96d15a297893d47f2d5fb50eac90d6">More...</a><br/></td></tr>
<tr class="separator:aee96d15a297893d47f2d5fb50eac90d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0270fc5b1a979417e696f5d8b655812d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d8/ddc/structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html">WorkingData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a></td></tr>
<tr class="memdesc:a0270fc5b1a979417e696f5d8b655812d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> data: see initializeLoops().  <a href="#a0270fc5b1a979417e696f5d8b655812d">More...</a><br/></td></tr>
<tr class="separator:a0270fc5b1a979417e696f5d8b655812d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cce18fa64430b89b255227a997d7dac"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a></td></tr>
<tr class="memdesc:a0cce18fa64430b89b255227a997d7dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indexed information about loops.  <a href="#a0cce18fa64430b89b255227a997d7dac">More...</a><br/></td></tr>
<tr class="separator:a0cce18fa64430b89b255227a997d7dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad948898612d08c1b750614d573ce2d92"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad948898612d08c1b750614d573ce2d92">bfi_detail::BlockEdgesAdder&lt; BT &gt;</a></td></tr>
<tr class="separator:ad948898612d08c1b750614d573ce2d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class BlockT&gt;<br/>
class llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;</h3>

<p>Shared implementation for block frequency analysis. </p>
<p>This is a shared implementation of <a class="el" href="../../d2/d80/classllvm_1_1BlockFrequencyInfo.html">BlockFrequencyInfo</a> and <a class="el" href="../../dc/d6c/classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>, and calculates the relative frequencies of blocks.</p>
<p><a class="el" href="../../d6/d7d/classllvm_1_1LoopInfo.html">LoopInfo</a> defines a loop as a "non-trivial" SCC dominated by a single block, which is called the header. <a class="el" href="../../d4/dc4/structA.html">A</a> given loop, L, can have sub-loops, which are loops within the subgraph of L that exclude its header. (<a class="el" href="../../d4/dc4/structA.html">A</a> "trivial" SCC consists of a single block that does not have a self-edge.)</p>
<p>In addition to loops, this algorithm has limited support for irreducible SCCs, which are SCCs with multiple entry blocks. Irreducible SCCs are discovered on they fly, and modelled as loops with multiple headers.</p>
<p>The headers of irreducible sub-SCCs consist of its entry blocks and all nodes that are targets of a backedge within it (excluding backedges within true sub-loops). Block frequency calculations act as if a block is inserted that intercepts all the edges to the headers. All backedges and entries point to this block. Its successors are the headers, which split the frequency evenly.</p>
<p>This algorithm leverages BlockMass and <a class="el" href="../../d2/d4f/classllvm_1_1ScaledNumber.html" title="Simple representation of a scaled number. ">ScaledNumber</a> to maintain precision, separates mass distribution from loop scaling, and dithers to eliminate probability mass loss.</p>
<p>The implementation is split between <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html" title="Shared implementation for block frequency analysis. ">BlockFrequencyInfoImpl</a>, which knows the type of graph being modelled (<a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html" title="LLVM Basic Block Representation. ">BasicBlock</a> vs. <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>), and <a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html" title="Base class for BlockFrequencyInfoImpl. ">BlockFrequencyInfoImplBase</a>, which doesn't. The base class uses <em>BlockNode</em>, a wrapper around a uint32_t. BlockNode is numbered from 0 in reverse-post order. This gives two advantages: it's easy to compare the relative ordering of two nodes, and maps keyed on BlockT can be represented by vectors.</p>
<p>This algorithm is O(V+E), unless there is irreducible control flow, in which case it's O(V*E) in the worst case.</p>
<p>These are the main stages:</p>
<p>0. Reverse post-order traversal (<em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a259150377dc3002214222187d49f177e" title="Run (and save) a post-order traversal. ">initializeRPOT()</a></em>).</p>
<p>Run a single post-order traversal and save it (in reverse) in RPOT. All other stages make use of this ordering. Save a lookup from BlockT to BlockNode (the index into RPOT) in Nodes.</p>
<ol type="1">
<li><p class="startli"><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> initialization (<em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a75098bc034c0ae157a1a37df681c7b75" title="Initialize loop data. ">initializeLoops()</a></em>).</p>
<p class="startli">Translate LoopInfo/MachineLoopInfo into a form suitable for the rest of the algorithm. In particular, store the immediate members of each loop in reverse post-order.</p>
</li>
<li><p class="startli">Calculate mass and scale in loops (<em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a41d61bc22e0b838b765469a441f4060c" title="Compute mass in all loops. ">computeMassInLoops()</a></em>).</p>
<p class="startli">For each loop (bottom-up), distribute mass through the DAG resulting from ignoring backedges and treating sub-loops as a single pseudo-node. Track the backedge mass distributed to the loop header, and use it to calculate the loop scale (number of loop iterations). Immediate members that represent sub-loops will already have been visited and packaged into a pseudo-node.</p>
<p class="startli">Distributing mass in a loop is a reverse-post-order traversal through the loop. Start by assigning full mass to the <a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> header. For each node in the loop: </p>
<pre class="fragment">- Fetch and categorize the weight distribution for its successors.
  If this is a packaged-subloop, the weight distribution is stored
  in \a LoopData::Exits.  Otherwise, fetch it from
  BranchProbabilityInfo.

- Each successor is categorized as \a Weight::Local, a local edge
  within the current loop, \a Weight::Backedge, a backedge to the
  loop header, or \a Weight::Exit, any successor outside the loop.
  The weight, the successor, and its category are stored in \a
  Distribution.  There can be multiple edges to each successor.

- If there's a backedge to a non-header, there's an irreducible SCC.
  The usual flow is temporarily aborted.  \a
  computeIrreducibleMass() finds the irreducible SCCs within the
  loop, packages them up, and restarts the flow.

- Normalize the distribution:  scale weights down so that their sum
  is 32-bits, and coalesce multiple edges to the same node.

- Distribute the mass accordingly, dithering to minimize mass loss,
  as described in \a distributeMass().
</pre><p class="startli">Finally, calculate the loop scale from the accumulated backedge mass.</p>
</li>
<li><p class="startli">Distribute mass in the function (<em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#afd407cc4cfb807fd7a9f0d34f6ca7cf3" title="Compute mass in the top-level function. ">computeMassInFunction()</a></em>).</p>
<p class="startli">Finally, distribute mass through the DAG resulting from packaging all loops in the function. This uses the same algorithm as distributing mass in a loop, except that there are no exit or backedge edges.</p>
</li>
<li><p class="startli">Unpackage loops (<em><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9" title="Unwrap loops. ">unwrapLoops()</a></em>).</p>
<p class="startli">Initialize each block's frequency to a floating point representation of its mass.</p>
<p class="startli">Visit loops top-down, scaling the frequencies of its immediate members by the loop's pseudo-node's frequency.</p>
</li>
<li><p class="startli">Convert frequencies to a 64-bit range (<em><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b" title="Finalize frequency metrics. ">finalizeMetrics()</a></em>).</p>
<p class="startli">Using the min and max frequencies as a guide, translate floating point frequencies to an appropriate range in uint64_t.</p>
</li>
</ol>
<p>It has some known flaws.</p>
<ul>
<li><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> scale is limited to 4096 per loop (2^12) to avoid exhausting <a class="el" href="../../d7/de9/classllvm_1_1BlockFrequency.html">BlockFrequency</a>'s 64-bit integer precision.</li>
<li><p class="startli">The model of irreducible control flow is a rough approximation.</p>
<p class="startli">Modelling irreducible control flow exactly involves setting up and solving a group of infinite geometric series. Such precision is unlikely to be worthwhile, since most of our algorithms give up on irreducible control flow anyway.</p>
<p class="startli">Nevertheless, we might find that we need to get closer. Here's a sort of TODO list for the model with diminishing returns, to be completed as necessary.</p>
<ul>
<li>The headers for the <em>LoopData</em> representing an irreducible SCC include non-entry blocks. When these extra blocks exist, they indicate a self-contained irreducible sub-SCC. We could treat them as sub-loops, rather than arbitrarily shoving the problematic blocks into the headers of the main irreducible SCC.</li>
<li>Backedge frequencies are assumed to be evenly split between the headers of a given irreducible SCC. Instead, we could track the backedge mass separately for each header, and adjust their relative frequencies.</li>
<li>Entry frequencies are assumed to be evenly split between the headers of a given irreducible SCC, which is the only option if we need to compute mass in the SCC before its parent loop. Instead, we could partially compute mass in the parent loop, and stop when we get to the SCC. Here, we have the correct ratio of entry masses, which we can use to adjust their relative frequencies. Compute mass in the SCC, and then continue propagation in the parent.</li>
<li>We can propagate mass iteratively through the SCC, for some fixed number of iterations. Each iteration starts by assigning the entry blocks their backedge mass from the prior iteration. The final mass for each block (and each exit, and the total backedge mass used for computing loop scale) is the sum of all iterations. (Running this until fixed point would "solve" the geometric series by simulation.) </li>
</ul>
</li>
</ul>

<p>Definition at line <a class="el" href="../../de/d53/BlockFrequencyInfo_8h_source.html#l00024">24</a> of file <a class="el" href="../../de/d53/BlockFrequencyInfo_8h_source.html">BlockFrequencyInfo.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="aa19c72715d3b34bb26eb0ecb7ec82715"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">bfi_detail::BlockMass</a> <a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aa19c72715d3b34bb26eb0ecb7ec82715">llvm::BlockFrequencyInfoImplBase::BlockMass</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00159">159</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3092515a29ef375186c406ecebf084c1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a>&lt;BT&gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00763">763</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a55a24f4d22583333b219a1ffff36ad23"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a>&lt;BT&gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00766">766</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="aebab2afa6873dbc7b6b3358452869560"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a>&lt;BT&gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00764">764</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a64515bf669e2a145c865fdf5d3992c10"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a>&lt;BT&gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00768">768</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab7988dba753a66e83845e74a9858e706"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d7/d66/structllvm_1_1bfi__detail_1_1TypeMap.html">bfi_detail::TypeMap</a>&lt;BT&gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00767">767</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a14ca38cb8bd92f36175ba7ff245326fc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d2/d13/structllvm_1_1GraphTraits.html">GraphTraits</a>&lt;<a class="el" href="../../d3/d26/structllvm_1_1Inverse.html">Inverse</a>&lt;<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&gt; &gt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a14ca38cb8bd92f36175ba7ff245326fc">Predecessor</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00774">774</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9cb8a1089b47e389af8bb3a809b68850"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&gt;::const_iterator <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00784">784</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2f26fcabd49eaca3cc1aa86d2afed7dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d2/d4f/classllvm_1_1ScaledNumber.html">ScaledNumber</a>&lt;uint64_t&gt; <a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">llvm::BlockFrequencyInfoImplBase::Scaled64</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00158">158</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7c85265aa064dbe1ca48d0bedddf75cc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d2/d13/structllvm_1_1GraphTraits.html">GraphTraits</a>&lt;<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&gt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a7c85265aa064dbe1ca48d0bedddf75cc">Successor</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00773">773</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6509249da94f9dc32084fc6a875a8175"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::<a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00886">886</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;: <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">BPI</a>(<span class="keyword">nullptr</span>), <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">LI</a>(<span class="keyword">nullptr</span>), <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>(<span class="keyword">nullptr</span>) {}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ada16ed5dc731b3ed8ef39e0a86755e95"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">llvm::BlockFrequencyInfoImpl::BPI</a></div><div class="ttdeci">const BranchProbabilityInfoT * BPI</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00776">BlockFrequencyInfoImpl.h:776</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_aa45222e0a2a5669a998379bdadb6211a"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">llvm::BlockFrequencyInfoImpl::F</a></div><div class="ttdeci">const FunctionT * F</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00778">BlockFrequencyInfoImpl.h:778</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a373176199136ded5ed5629628b0d0906"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">llvm::BlockFrequencyInfoImpl::LI</a></div><div class="ttdeci">const LoopInfoT * LI</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00777">BlockFrequencyInfoImpl.h:777</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a41ea5a32fdaf85d4aa83b1e2d8473fdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BlockFrequencyInfoImplBase::addLoopSuccessorsToDist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *&#160;</td>
          <td class="paramname"><em>OuterLoop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;&#160;</td>
          <td class="paramname"><em>Loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dd3/structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;&#160;</td>
          <td class="paramname"><em>Dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add all edges out of a packaged loop to the distribution. </p>
<p>Adds all edges from LocalLoopHead to Dist. Calls <a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606" title="Add an edge to the distribution. ">addToDist()</a> to add each successor edge.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> unless there's an irreducible backedge. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00310">310</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                                                   {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// Copy the exit map into Dist.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.Exits)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">addToDist</a>(Dist, OuterLoop, <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>(), <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                   <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.getMass()))</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac0426a7b8a18e60c5c9d20f73973722b"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00098">LoopInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aac32cd773a37b10c8f835459a23ac606"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">llvm::BlockFrequencyInfoImplBase::addToDist</a></div><div class="ttdeci">bool addToDist(Distribution &amp;Dist, const LoopData *OuterLoop, const BlockNode &amp;Pred, const BlockNode &amp;Succ, uint64_t Weight)</div><div class="ttdoc">Add an edge to the distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00248">BlockFrequencyInfoImpl.cpp:248</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="../../d7/ddf/classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00353">LoopInfo.h:353</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac32cd773a37b10c8f835459a23ac606"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BlockFrequencyInfoImplBase::addToDist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dd3/structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;&#160;</td>
          <td class="paramname"><em>Dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *&#160;</td>
          <td class="paramname"><em>OuterLoop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Succ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>Weight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an edge to the distribution. </p>
<p>Adds an edge to Succ to Dist. If <code>LoopHead.isValid()</code>, then whether the edge is local/exit/backedge is in the context of LoopHead. Otherwise, every edge should be a local edge (since all the loops are packaged up).</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> unless aborted due to an irreducible backedge. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00248">248</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                            {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">if</span> (!Weight)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    Weight = 1;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keyword">auto</span> isLoopHeader = [&amp;OuterLoop](<span class="keyword">const</span> BlockNode &amp;<a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> OuterLoop &amp;&amp; OuterLoop-&gt;isHeader(<a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  };</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  BlockNode Resolved = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Succ.Index].getResolvedNode();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor"></span>  <span class="keyword">auto</span> debugSuccessor = [&amp;](<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d18/COFFYAML_8cpp.html#aaee24fbaa9b8a1db722aa227c2635f0b">Type</a>) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt;&quot;</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> &lt;&lt; <span class="stringliteral">&quot;] weight = &quot;</span> &lt;&lt; Weight;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (!isLoopHeader(Resolved))</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, succ = &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">getBlockName</a>(Succ);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (Resolved != Succ)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, resolved = &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">getBlockName</a>(Resolved);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  };</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  (void)debugSuccessor;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> (isLoopHeader(Resolved)) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot;backedge&quot;</span>));</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    Dist.addBackedge(OuterLoop-&gt;getHeader(), Weight);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Resolved.Index].getContainingLoop() != OuterLoop) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot;  exit  &quot;</span>));</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    Dist.addExit(Resolved, Weight);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span> (Resolved &lt; Pred) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (!isLoopHeader(Pred)) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="comment">// If OuterLoop is an irreducible loop, we can&#39;t actually handle this.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>((!OuterLoop || !OuterLoop-&gt;isIrreducible()) &amp;&amp;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;             <span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="comment">// Irreducible backedge.  Abort.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot;abort!!!&quot;</span>));</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// If &quot;Pred&quot; is a loop header, then this isn&#39;t really a backedge; rather,</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// OuterLoop must be irreducible.  These false backedges can come only from</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// secondary loop headers.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(OuterLoop &amp;&amp; OuterLoop-&gt;isIrreducible() &amp;&amp; !isLoopHeader(Resolved) &amp;&amp;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;           <span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot; local  &quot;</span>));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  Dist.addLocal(Resolved, Weight);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="ttc" id="DominanceFrontierImpl_8h_html_adeb436e8060b57a35092e28f77eeb7d3"><div class="ttname"><a href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a></div><div class="ttdeci">const DomTreeNodeT * Node</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/DominanceFrontierImpl_8h_source.html#l00037">DominanceFrontierImpl.h:37</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a44de4910df6963fd98abfdc1175a604f"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">llvm::BlockFrequencyInfoImplBase::getBlockName</a></div><div class="ttdeci">virtual std::string getBlockName(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00507">BlockFrequencyInfoImpl.cpp:507</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
<div class="ttc" id="COFFYAML_8cpp_html_aaee24fbaa9b8a1db722aa227c2635f0b"><div class="ttname"><a href="../../de/d18/COFFYAML_8cpp.html#aaee24fbaa9b8a1db722aa227c2635f0b">Type</a></div><div class="ttdeci">RelocType Type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d18/COFFYAML_8cpp_source.html#l00285">COFFYAML.cpp:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aabc6780051353310f8899f9cc5283337"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dfa/classllvm_1_1iterator__range.html">iterator_range</a>&lt; std::list&lt; <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &gt;::iterator &gt; BlockFrequencyInfoImplBase::analyzeIrreducible </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d8/dd2/structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">bfi_detail::IrreducibleGraph</a> &amp;&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *&#160;</td>
          <td class="paramname"><em>OuterLoop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &gt;::iterator&#160;</td>
          <td class="paramname"><em>Insert</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze irreducible SCCs. </p>
<p>Separate irreducible SCCs from <code>G</code>, which is an explict graph of <code>OuterLoop</code> (or the top-level function, if <code>OuterLoop</code> is <code>nullptr</code>). Insert them into <em>Loops</em> before <code>Insert</code>.</p>
<dl class="section return"><dt>Returns</dt><dd>the <code><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html" title="Data about a loop. ">LoopData</a></code> nodes representing the irreducible SCCs. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00669">669</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                      {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>((OuterLoop == <span class="keyword">nullptr</span>) == (Insert == <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.begin()));</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keyword">auto</span> Prev = OuterLoop ? std::prev(Insert) : <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.<a class="code" href="../../dc/dbc/namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="../../d9/d4a/namespacellvm.html#a71882a8257c58a4d9401db39622871a6">scc_begin</a>(G); !<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isAtEnd(); ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;size() &lt; 2)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">// Translate the SCC into RPO.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ada202dbe971b41ac9748f92c80464573">createIrreducibleLoop</a>(*<span class="keyword">this</span>, G, OuterLoop, Insert, *<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">if</span> (OuterLoop)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d4a/namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(<a class="code" href="../../d9/d2c/namespacebranch-range-01.html#a02ead9d2b33486f3c82bfae74da33a5a">std::next</a>(Prev), Insert);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d9/d4a/namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.begin(), Insert);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="../../dc/dbc/namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9d/lib_2Support_2Path_8cpp_source.html#l00251">lib/Support/Path.cpp:251</a></div></div>
<div class="ttc" id="namespacellvm_html_a71882a8257c58a4d9401db39622871a6"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a71882a8257c58a4d9401db39622871a6">llvm::scc_begin</a></div><div class="ttdeci">scc_iterator&lt; T &gt; scc_begin(const T &amp;G)</div><div class="ttdoc">Construct the begin iterator for a deduced graph type T. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d95/SCCIterator_8h_source.html#l00224">SCCIterator.h:224</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd5/iterator__range_8h_source.html#l00048">iterator_range.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0cce18fa64430b89b255227a997d7dac"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">llvm::BlockFrequencyInfoImplBase::Loops</a></div><div class="ttdeci">std::list&lt; LoopData &gt; Loops</div><div class="ttdoc">Indexed information about loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00376">BlockFrequencyInfoImpl.h:376</a></div></div>
<div class="ttc" id="BlockFrequencyInfoImpl_8cpp_html_ada202dbe971b41ac9748f92c80464573"><div class="ttname"><a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ada202dbe971b41ac9748f92c80464573">createIrreducibleLoop</a></div><div class="ttdeci">static void createIrreducibleLoop(BlockFrequencyInfoImplBase &amp;BFI, const IrreducibleGraph &amp;G, LoopData *OuterLoop, std::list&lt; LoopData &gt;::iterator Insert, const std::vector&lt; const IrreducibleGraph::IrrNode * &gt; &amp;SCC)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00646">BlockFrequencyInfoImpl.cpp:646</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="namespacebranch-range-01_html_a02ead9d2b33486f3c82bfae74da33a5a"><div class="ttname"><a href="../../d9/d2c/namespacebranch-range-01.html#a02ead9d2b33486f3c82bfae74da33a5a">branch-range-01.next</a></div><div class="ttdeci">string next</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d37/branch-range-01_8py_source.html#l00079">branch-range-01.py:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90cc95ac676cd6751e696d9a683745c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BlockFrequencyInfoImplBase::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear all memory. </p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00231">231</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                       {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// Swap with a default-constructed std::vector, since std::vector&lt;&gt;::clear()</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// does not actually clear heap storage.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  std::vector&lt;FrequencyData&gt;().<a class="code" href="../../d8/dcc/namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">swap</a>(<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  std::vector&lt;WorkingData&gt;().<a class="code" href="../../d8/dcc/namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">swap</a>(<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.clear();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">BlockFrequencyInfoImpl.h:370</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0cce18fa64430b89b255227a997d7dac"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">llvm::BlockFrequencyInfoImplBase::Loops</a></div><div class="ttdeci">std::list&lt; LoopData &gt; Loops</div><div class="ttdoc">Indexed information about loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00376">BlockFrequencyInfoImpl.h:376</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="../../d8/dcc/namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d95/BitVector_8h_source.html#l00590">BitVector.h:590</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abfed064f9311e92066de09b1da0d9dc3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::computeIrreducibleMass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *&#160;</td>
          <td class="paramname"><em>OuterLoop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &gt;::iterator&#160;</td>
          <td class="paramname"><em>Insert</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute mass in (and package up) irreducible SCCs. </p>
<p>Find the irreducible SCCs in <code>OuterLoop</code>, add them to <em>Loops</em> (in front of <code>Insert</code>), and call <em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em> on each of them.</p>
<p>If <code>OuterLoop</code> is <code>nullptr</code>, it refers to the top-level function.</p>
<dl class="section pre"><dt>Precondition</dt><dd><em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em> has been called for each subloop of <code>OuterLoop</code>. </dd>
<dd>
<code>Insert</code> points at the the last loop successfully processed by <em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em>. </dd>
<dd>
<code>OuterLoop</code> has irreducible SCCs. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01112">1112</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                                           {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;analyze-irreducible-in-&quot;</span>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">if</span> (OuterLoop) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;loop: &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">getLoopName</a>(*OuterLoop) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;function\n&quot;</span>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keyword">using namespace </span>bfi_detail;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// Ideally, addBlockEdges() would be declared here as a lambda, but that</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// crashes GCC 4.7.</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  BlockEdgesAdder&lt;BT&gt; addBlockEdges(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  IrreducibleGraph <a class="code" href="../../d0/ddd/MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>(*<span class="keyword">this</span>, OuterLoop, addBlockEdges);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;L : <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">analyzeIrreducible</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>, OuterLoop, Insert))</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5">computeMassInLoop</a>(L);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">if</span> (!OuterLoop)</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">updateLoopWithIrreducible</a>(*OuterLoop);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;}</div>
<div class="ttc" id="MD5_8cpp_html_ad96b7cf3182ce2ba85e5a7a93b12c441"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a></div><div class="ttdeci">#define G(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00052">MD5.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aabc6780051353310f8899f9cc5283337"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">llvm::BlockFrequencyInfoImplBase::analyzeIrreducible</a></div><div class="ttdeci">iterator_range&lt; std::list&lt; LoopData &gt;::iterator &gt; analyzeIrreducible(const bfi_detail::IrreducibleGraph &amp;G, LoopData *OuterLoop, std::list&lt; LoopData &gt;::iterator Insert)</div><div class="ttdoc">Analyze irreducible SCCs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00669">BlockFrequencyInfoImpl.cpp:669</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a7e66c3921dc35e5f337e1259db56f9e6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">llvm::BlockFrequencyInfoImplBase::getLoopName</a></div><div class="ttdeci">std::string getLoopName(const LoopData &amp;Loop) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00511">BlockFrequencyInfoImpl.cpp:511</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ab71d30c415d508f5307a134b2dc1caa5"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5">llvm::BlockFrequencyInfoImpl::computeMassInLoop</a></div><div class="ttdeci">bool computeMassInLoop(LoopData &amp;Loop)</div><div class="ttdoc">Compute mass in a particular loop. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01034">BlockFrequencyInfoImpl.h:1034</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a8fcc33897ff2ea4ebc874792c49497ef"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">llvm::BlockFrequencyInfoImplBase::updateLoopWithIrreducible</a></div><div class="ttdeci">void updateLoopWithIrreducible(LoopData &amp;OuterLoop)</div><div class="ttdoc">Update a loop after packaging irreducible SCCs inside of it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00689">BlockFrequencyInfoImpl.cpp:689</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6aca67ed248d1eb55621f38869372c65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BlockFrequencyInfoImplBase::computeLoopScale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;&#160;</td>
          <td class="paramname"><em>Loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the loop scale for a loop. </p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00329">329</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                                                {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// Compute loop scale.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;compute-loop-scale: &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">getLoopName</a>(<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// LoopScale == 1 / ExitMass</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// ExitMass == HeadMass - BackedgeMass</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> ExitMass = <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>() - <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.BackedgeMass;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="comment">// Block scale stores the inverse of the scale.</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.Scale = ExitMass.<a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#aa45cc2f81a1cffcc59a1a7d54a0ae2e3">toScaled</a>().<a class="code" href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a3ed6a1aa1e7ebc48825f8fa4d2a6f59d">inverse</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - exit-mass = &quot;</span> &lt;&lt; ExitMass &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>()</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.BackedgeMass &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; - scale = &quot;</span> &lt;&lt; <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.Scale &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.Scale &gt; <a class="code" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ab8aef68d9cacd5d04c1e5dca19c33d46">getMaxLoopScale</a>()) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.Scale = <a class="code" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ab8aef68d9cacd5d04c1e5dca19c33d46">getMaxLoopScale</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - reduced-to-max-scale: &quot;</span> &lt;&lt; <a class="code" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ab8aef68d9cacd5d04c1e5dca19c33d46">getMaxLoopScale</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1bfi__detail_1_1BlockMass_html_aa45cc2f81a1cffcc59a1a7d54a0ae2e3"><div class="ttname"><a href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#aa45cc2f81a1cffcc59a1a7d54a0ae2e3">llvm::bfi_detail::BlockMass::toScaled</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; toScaled() const </div><div class="ttdoc">Convert to scaled number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00024">BlockFrequencyInfoImpl.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1ScaledNumber_html_a3ed6a1aa1e7ebc48825f8fa4d2a6f59d"><div class="ttname"><a href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a3ed6a1aa1e7ebc48825f8fa4d2a6f59d">llvm::ScaledNumber::inverse</a></div><div class="ttdeci">ScaledNumber inverse() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/ScaledNumber_8h_source.html#l00686">ScaledNumber.h:686</a></div></div>
<div class="ttc" id="BlockFrequencyInfoImpl_8cpp_html_ab8aef68d9cacd5d04c1e5dca19c33d46"><div class="ttname"><a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ab8aef68d9cacd5d04c1e5dca19c33d46">getMaxLoopScale</a></div><div class="ttdeci">static Scaled64 getMaxLoopScale()</div><div class="ttdoc">Get the maximum allowed loop scale. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00326">BlockFrequencyInfoImpl.cpp:326</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a7e66c3921dc35e5f337e1259db56f9e6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">llvm::BlockFrequencyInfoImplBase::getLoopName</a></div><div class="ttdeci">std::string getLoopName(const LoopData &amp;Loop) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00511">BlockFrequencyInfoImpl.cpp:511</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1bfi__detail_1_1BlockMass_html"><div class="ttname"><a href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">llvm::bfi_detail::BlockMass</a></div><div class="ttdoc">Mass of a block. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00067">BlockFrequencyInfoImpl.h:67</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="../../d7/ddf/classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00353">LoopInfo.h:353</a></div></div>
<div class="ttc" id="classllvm_1_1bfi__detail_1_1BlockMass_html_ac0e3f20571279f8b3896a687101d7151"><div class="ttname"><a href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">llvm::bfi_detail::BlockMass::getFull</a></div><div class="ttdeci">static BlockMass getFull()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00075">BlockFrequencyInfoImpl.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd407cc4cfb807fd7a9f0d34f6ca7cf3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::computeMassInFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute mass in the top-level function. </p>
<p>Uses <em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a65b2af989057016a00ad528f8866543e" title="Try to compute mass in the top-level function. ">tryToComputeMassInFunction()</a></em> and <em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#abfed064f9311e92066de09b1da0d9dc3" title="Compute mass in (and package up) irreducible SCCs. ">computeIrreducibleMass()</a></em> to compute mass in the top-level function.</p>
<dl class="section post"><dt>Postcondition</dt><dd><em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a65b2af989057016a00ad528f8866543e" title="Try to compute mass in the top-level function. ">tryToComputeMassInFunction()</a></em> has returned <code>true</code>. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01083">1083</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                                                                           {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a65b2af989057016a00ad528f8866543e">tryToComputeMassInFunction</a>())</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#abfed064f9311e92066de09b1da0d9dc3">computeIrreducibleMass</a>(<span class="keyword">nullptr</span>, <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.begin());</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a65b2af989057016a00ad528f8866543e">tryToComputeMassInFunction</a>())</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_abfed064f9311e92066de09b1da0d9dc3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#abfed064f9311e92066de09b1da0d9dc3">llvm::BlockFrequencyInfoImpl::computeIrreducibleMass</a></div><div class="ttdeci">void computeIrreducibleMass(LoopData *OuterLoop, std::list&lt; LoopData &gt;::iterator Insert)</div><div class="ttdoc">Compute mass in (and package up) irreducible SCCs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01112">BlockFrequencyInfoImpl.h:1112</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3f/ErrorHandling_8h_source.html#l00098">ErrorHandling.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0cce18fa64430b89b255227a997d7dac"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">llvm::BlockFrequencyInfoImplBase::Loops</a></div><div class="ttdeci">std::list&lt; LoopData &gt; Loops</div><div class="ttdoc">Indexed information about loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00376">BlockFrequencyInfoImpl.h:376</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a65b2af989057016a00ad528f8866543e"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a65b2af989057016a00ad528f8866543e">llvm::BlockFrequencyInfoImpl::tryToComputeMassInFunction</a></div><div class="ttdeci">bool tryToComputeMassInFunction()</div><div class="ttdoc">Try to compute mass in the top-level function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01064">BlockFrequencyInfoImpl.h:1064</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab71d30c415d508f5307a134b2dc1caa5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::computeMassInLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;&#160;</td>
          <td class="paramname"><em>Loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute mass in a particular loop. </p>
<p>Assign mass to <code><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>'s</code> header, and then for each block in <code><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a></code> in reverse post-order, distribute mass to its successors. Only visits nodes that have not been packaged into sub-loops.</p>
<dl class="section pre"><dt>Precondition</dt><dd><em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em> has been called for each subloop of <code><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a></code>. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> unless there's an irreducible backedge. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01034">1034</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                                                 {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="comment">// Compute mass in loop.</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;compute-mass-in-loop: &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">getLoopName</a>(<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.isIrreducible()) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aa19c72715d3b34bb26eb0ecb7ec82715">BlockMass</a> Remaining = <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>();</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../d0/ddd/MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> = 0; <a class="code" href="../../d0/ddd/MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> &lt; <a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.NumHeaders; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <span class="keyword">auto</span> &amp;Mass = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.Nodes[<a class="code" href="../../d0/ddd/MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>].Index].getMass();</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      Mass = Remaining * BranchProbability(1, <a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.NumHeaders - <a class="code" href="../../d0/ddd/MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      Remaining -= Mass;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockNode &amp;M : <a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.Nodes)</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a15566d562fb0f6fbe2f94b26460527b3">propagateMassToSuccessors</a>(&amp;<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>, M))</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.getHeader().Index].getMass() = <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a15566d562fb0f6fbe2f94b26460527b3">propagateMassToSuccessors</a>(&amp;<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>, <a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.getHeader()))</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;irreducible control flow to loop header!?&quot;</span>);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockNode &amp;M : <a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>.members())</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a15566d562fb0f6fbe2f94b26460527b3">propagateMassToSuccessors</a>(&amp;<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>, M))</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">computeLoopScale</a>(<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">packageLoop</a>(<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aa19c72715d3b34bb26eb0ecb7ec82715"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aa19c72715d3b34bb26eb0ecb7ec82715">llvm::BlockFrequencyInfoImplBase::BlockMass</a></div><div class="ttdeci">bfi_detail::BlockMass BlockMass</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00159">BlockFrequencyInfoImpl.h:159</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3f/ErrorHandling_8h_source.html#l00098">ErrorHandling.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a6aca67ed248d1eb55621f38869372c65"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">llvm::BlockFrequencyInfoImplBase::computeLoopScale</a></div><div class="ttdeci">void computeLoopScale(LoopData &amp;Loop)</div><div class="ttdoc">Compute the loop scale for a loop. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00329">BlockFrequencyInfoImpl.cpp:329</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a7e66c3921dc35e5f337e1259db56f9e6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">llvm::BlockFrequencyInfoImplBase::getLoopName</a></div><div class="ttdeci">std::string getLoopName(const LoopData &amp;Loop) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00511">BlockFrequencyInfoImpl.cpp:511</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ae42219072d798876e6b08e6b78614ff6"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a></div><div class="ttdeci">#define H(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00053">MD5.cpp:53</a></div></div>
<div class="ttc" id="namespacellvm_1_1GC_html_a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324"><div class="ttname"><a href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">llvm::GC::Loop</a></div><div class="ttdoc">Instr is a loop (backwards branch). </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d43/GCMetadata_8h_source.html#l00053">GCMetadata.h:53</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a15566d562fb0f6fbe2f94b26460527b3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a15566d562fb0f6fbe2f94b26460527b3">llvm::BlockFrequencyInfoImpl::propagateMassToSuccessors</a></div><div class="ttdeci">bool propagateMassToSuccessors(LoopData *OuterLoop, const BlockNode &amp;Node)</div><div class="ttdoc">Propagate to a block&#39;s successors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01134">BlockFrequencyInfoImpl.h:1134</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a72a0d1f4a55f5756a4ef8e59662a7621"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">llvm::BlockFrequencyInfoImplBase::packageLoop</a></div><div class="ttdeci">void packageLoop(LoopData &amp;Loop)</div><div class="ttdoc">Package up a loop. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00351">BlockFrequencyInfoImpl.cpp:351</a></div></div>
<div class="ttc" id="classllvm_1_1bfi__detail_1_1BlockMass_html_ac0e3f20571279f8b3896a687101d7151"><div class="ttname"><a href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">llvm::bfi_detail::BlockMass::getFull</a></div><div class="ttdeci">static BlockMass getFull()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00075">BlockFrequencyInfoImpl.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a41d61bc22e0b838b765469a441f4060c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::computeMassInLoops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute mass in all loops. </p>
<p>For each loop bottom-up, call <em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em>.</p>
<p><em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em> aborts (and returns <code>false</code>) on loops that contain a irreducible sub-SCCs. <a class="el" href="../../d0/d66/classllvm_1_1Use.html" title="A Use represents the edge between a Value definition and its users. ">Use</a> <em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#abfed064f9311e92066de09b1da0d9dc3" title="Compute mass in (and package up) irreducible SCCs. ">computeIrreducibleMass()</a></em> and then re-enter <em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em>.</p>
<dl class="section post"><dt>Postcondition</dt><dd><em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5" title="Compute mass in a particular loop. ">computeMassInLoop()</a></em> has returned <code>true</code> for every loop. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01019">1019</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                                                                        {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// Visit loops with the deepest first, and the top-level loops last.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> L = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.rbegin(), E = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.rend(); L != E; ++L) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5">computeMassInLoop</a>(*L))</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keyword">auto</span> Next = <a class="code" href="../../d9/d2c/namespacebranch-range-01.html#a02ead9d2b33486f3c82bfae74da33a5a">std::next</a>(L);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#abfed064f9311e92066de09b1da0d9dc3">computeIrreducibleMass</a>(&amp;*L, L.base());</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    L = std::prev(Next);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5">computeMassInLoop</a>(*L))</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_abfed064f9311e92066de09b1da0d9dc3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#abfed064f9311e92066de09b1da0d9dc3">llvm::BlockFrequencyInfoImpl::computeIrreducibleMass</a></div><div class="ttdeci">void computeIrreducibleMass(LoopData *OuterLoop, std::list&lt; LoopData &gt;::iterator Insert)</div><div class="ttdoc">Compute mass in (and package up) irreducible SCCs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01112">BlockFrequencyInfoImpl.h:1112</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3f/ErrorHandling_8h_source.html#l00098">ErrorHandling.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ab71d30c415d508f5307a134b2dc1caa5"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab71d30c415d508f5307a134b2dc1caa5">llvm::BlockFrequencyInfoImpl::computeMassInLoop</a></div><div class="ttdeci">bool computeMassInLoop(LoopData &amp;Loop)</div><div class="ttdoc">Compute mass in a particular loop. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01034">BlockFrequencyInfoImpl.h:1034</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0cce18fa64430b89b255227a997d7dac"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">llvm::BlockFrequencyInfoImplBase::Loops</a></div><div class="ttdeci">std::list&lt; LoopData &gt; Loops</div><div class="ttdoc">Indexed information about loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00376">BlockFrequencyInfoImpl.h:376</a></div></div>
<div class="ttc" id="namespacebranch-range-01_html_a02ead9d2b33486f3c82bfae74da33a5a"><div class="ttname"><a href="../../d9/d2c/namespacebranch-range-01.html#a02ead9d2b33486f3c82bfae74da33a5a">branch-range-01.next</a></div><div class="ttdeci">string next</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d37/branch-range-01_8py_source.html#l00079">branch-range-01.py:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adda9f21a68ad40aac3ee4e0bf3afa31d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BlockFrequencyInfoImplBase::distributeMass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *&#160;</td>
          <td class="paramname"><em>OuterLoop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dd3/structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;&#160;</td>
          <td class="paramname"><em>Dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Distribute mass according to a distribution. </p>
<p>Distributes the mass in Source according to Dist. If LoopHead.isValid(), backedges and exits are stored in its entry in Loops.</p>
<p>Mass is distributed in parallel from two copies of the source mass. </p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00363">363</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                                                    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> Mass = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="../../d3/d6d/namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>.Index].getMass();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; mass:  &quot;</span> &lt;&lt; Mass &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// Distribute mass to successors as laid out in Dist.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  DitheringDistributer D(Dist, Mass);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor"></span>  <span class="keyword">auto</span> debugAssign = [&amp;](<span class="keyword">const</span> BlockNode &amp;<a class="code" href="../../df/d0e/Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a>, <span class="keyword">const</span> <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;M,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span> *Desc) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; assign &quot;</span> &lt;&lt; M &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; D.RemMass &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (Desc)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; Desc &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (T.isValid())</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">getBlockName</a>(T);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  };</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  (void)debugAssign;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> Weight &amp;W : Dist.Weights) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// Check for a local edge (non-backedge and non-exit).</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> Taken = D.takeMass(W.Amount);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (W.Type == <a class="code" href="../../d8/dc4/structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc">Weight::Local</a>) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[W.TargetNode.Index].getMass() += Taken;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(debugAssign(W.TargetNode, Taken, <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// Backedges and exits only make sense if we&#39;re processing a loop.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(OuterLoop &amp;&amp; <span class="stringliteral">&quot;backedge or exit outside of loop&quot;</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// Check for a backedge.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (W.Type == <a class="code" href="../../d8/dc4/structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67afcb3a90b3bb851da0270e36b0ae1b2ea">Weight::Backedge</a>) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      OuterLoop-&gt;BackedgeMass += Taken;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(debugAssign(BlockNode(), Taken, <span class="stringliteral">&quot;back&quot;</span>));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// This must be an exit.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(W.Type == <a class="code" href="../../d8/dc4/structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67a3b492c1efd3ffe17229812461887a04f">Weight::Exit</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    OuterLoop-&gt;Exits.push_back(std::make_pair(W.TargetNode, Taken));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(debugAssign(W.TargetNode, Taken, <span class="stringliteral">&quot;exit&quot;</span>));</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9"><div class="ttname"><a href="../../d3/d6d/namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">llvm::Sched::Source</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d56/TargetLowering_8h_source.html#l00067">TargetLowering.h:67</a></div></div>
<div class="ttc" id="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a929fa9e894467d1c9c49957ffcbb0a67afcb3a90b3bb851da0270e36b0ae1b2ea"><div class="ttname"><a href="../../d8/dc4/structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67afcb3a90b3bb851da0270e36b0ae1b2ea">llvm::BlockFrequencyInfoImplBase::Weight::Backedge</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00320">BlockFrequencyInfoImpl.h:320</a></div></div>
<div class="ttc" id="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a929fa9e894467d1c9c49957ffcbb0a67a3b492c1efd3ffe17229812461887a04f"><div class="ttname"><a href="../../d8/dc4/structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67a3b492c1efd3ffe17229812461887a04f">llvm::BlockFrequencyInfoImplBase::Weight::Exit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00320">BlockFrequencyInfoImpl.h:320</a></div></div>
<div class="ttc" id="Mips16ISelLowering_8cpp_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="../../df/d0e/Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/Mips16ISelLowering_8cpp_source.html#l00349">Mips16ISelLowering.cpp:349</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html_a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc"><div class="ttname"><a href="../../d8/dc4/structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html#a929fa9e894467d1c9c49957ffcbb0a67aecdba21d3e55eb968b68883d0653abbc">llvm::BlockFrequencyInfoImplBase::Weight::Local</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00320">BlockFrequencyInfoImpl.h:320</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a44de4910df6963fd98abfdc1175a604f"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">llvm::BlockFrequencyInfoImplBase::getBlockName</a></div><div class="ttdeci">virtual std::string getBlockName(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00507">BlockFrequencyInfoImpl.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1bfi__detail_1_1BlockMass_html"><div class="ttname"><a href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html">llvm::bfi_detail::BlockMass</a></div><div class="ttdoc">Mass of a block. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00067">BlockFrequencyInfoImpl.h:67</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad3c8d8fd76a5942f15c006233b3d9812"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::doFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a> *&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a> *&#160;</td>
          <td class="paramname"><em>BPI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a> *&#160;</td>
          <td class="paramname"><em>LI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00917">917</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                                                                 {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// Save the parameters.</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  this-&gt;<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">BPI</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">BPI</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  this-&gt;<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">LI</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">LI</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  this-&gt;<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// Clean up left-over data structures.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">BlockFrequencyInfoImplBase::clear</a>();</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.clear();</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a31068af2d632245ecbd0619d473395da">Nodes</a>.<a class="code" href="../../d9/d72/classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// Initialize.</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nblock-frequency: &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n=================&quot;</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;               &lt;&lt; <a class="code" href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">std::string</a>(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>-&gt;getName().size(), <span class="charliteral">&#39;=&#39;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a259150377dc3002214222187d49f177e">initializeRPOT</a>();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a75098bc034c0ae157a1a37df681c7b75">initializeLoops</a>();</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">// Visit loops in post-order to find thelocal mass distribution, and then do</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="comment">// the full function.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a41d61bc22e0b838b765469a441f4060c">computeMassInLoops</a>();</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#afd407cc4cfb807fd7a9f0d34f6ca7cf3">computeMassInFunction</a>();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">unwrapLoops</a>();</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">finalizeMetrics</a>();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_afd407cc4cfb807fd7a9f0d34f6ca7cf3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#afd407cc4cfb807fd7a9f0d34f6ca7cf3">llvm::BlockFrequencyInfoImpl::computeMassInFunction</a></div><div class="ttdeci">void computeMassInFunction()</div><div class="ttdoc">Compute mass in the top-level function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01083">BlockFrequencyInfoImpl.h:1083</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ada16ed5dc731b3ed8ef39e0a86755e95"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">llvm::BlockFrequencyInfoImpl::BPI</a></div><div class="ttdeci">const BranchProbabilityInfoT * BPI</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00776">BlockFrequencyInfoImpl.h:776</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a41d61bc22e0b838b765469a441f4060c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a41d61bc22e0b838b765469a441f4060c">llvm::BlockFrequencyInfoImpl::computeMassInLoops</a></div><div class="ttdeci">void computeMassInLoops()</div><div class="ttdoc">Compute mass in all loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01019">BlockFrequencyInfoImpl.h:1019</a></div></div>
<div class="ttc" id="namespacetesting_1_1internal_html_a8e8ff5b11e64078831112677156cb111"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">testing::internal::string</a></div><div class="ttdeci">::std::string string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/gtest-port_8h_source.html#l00766">gtest-port.h:766</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a158c2c60a6edd3d6e3ec87a6a08b1f58"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">llvm::BlockFrequencyInfoImpl::RPOT</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt; RPOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00781">BlockFrequencyInfoImpl.h:781</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a31068af2d632245ecbd0619d473395da"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a31068af2d632245ecbd0619d473395da">llvm::BlockFrequencyInfoImpl::Nodes</a></div><div class="ttdeci">DenseMap&lt; const BlockT *, BlockNode &gt; Nodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00782">BlockFrequencyInfoImpl.h:782</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a75098bc034c0ae157a1a37df681c7b75"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a75098bc034c0ae157a1a37df681c7b75">llvm::BlockFrequencyInfoImpl::initializeLoops</a></div><div class="ttdeci">void initializeLoops()</div><div class="ttdoc">Initialize loop data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00966">BlockFrequencyInfoImpl.h:966</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a90cc95ac676cd6751e696d9a683745c0"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">llvm::BlockFrequencyInfoImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Clear all memory. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00231">BlockFrequencyInfoImpl.cpp:231</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_aa45222e0a2a5669a998379bdadb6211a"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">llvm::BlockFrequencyInfoImpl::F</a></div><div class="ttdeci">const FunctionT * F</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00778">BlockFrequencyInfoImpl.h:778</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a259150377dc3002214222187d49f177e"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a259150377dc3002214222187d49f177e">llvm::BlockFrequencyInfoImpl::initializeRPOT</a></div><div class="ttdeci">void initializeRPOT()</div><div class="ttdoc">Run (and save) a post-order traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00944">BlockFrequencyInfoImpl.h:944</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a373176199136ded5ed5629628b0d0906"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">llvm::BlockFrequencyInfoImpl::LI</a></div><div class="ttdeci">const LoopInfoT * LI</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00777">BlockFrequencyInfoImpl.h:777</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_ab4e1554fca8ef98622714e55215db4a9"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">llvm::BlockFrequencyInfoImplBase::unwrapLoops</a></div><div class="ttdeci">void unwrapLoops()</div><div class="ttdoc">Unwrap loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00463">BlockFrequencyInfoImpl.cpp:463</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a6467bd6bb128c8b69a478548fc17351c"><div class="ttname"><a href="../../d9/d72/classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00079">DenseMap.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a8381abddeccf17690f4533ba6ecce36b"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">llvm::BlockFrequencyInfoImplBase::finalizeMetrics</a></div><div class="ttdeci">void finalizeMetrics()</div><div class="ttdoc">Finalize frequency metrics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00472">BlockFrequencyInfoImpl.cpp:472</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c34b347204fd10df27090341b4127e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::BlockFrequencyInfoImplBase::dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00453">453</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{ <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a26944c1a841003057a047e105d421ab9">print</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()); }</div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a26944c1a841003057a047e105d421ab9"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a26944c1a841003057a047e105d421ab9">llvm::BlockFrequencyInfoImplBase::print</a></div><div class="ttdeci">virtual raw_ostream &amp; print(raw_ostream &amp;OS) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00452">BlockFrequencyInfoImpl.h:452</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8381abddeccf17690f4533ba6ecce36b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BlockFrequencyInfoImplBase::finalizeMetrics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finalize frequency metrics. </p>
<p>Calculates final frequencies and cleans up no-longer-needed data structures. </p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00472">472</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                                 {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// Unwrap loop packages in reverse post-order, tracking min and max</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// frequencies.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keyword">auto</span> Min = <a class="code" href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a2fd49141f0fc36006080677630d0b1dc">Scaled64::getLargest</a>();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keyword">auto</span> Max = <a class="code" href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a69da904ff7dd16157dfda88b1c050db0">Scaled64::getZero</a>();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Index = 0; Index &lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.size(); ++Index) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// Update min/max scale.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    Min = std::min(Min, <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>[Index].Scaled);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    Max = std::max(Max, <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>[Index].Scaled);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// Convert to integers.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ac95b88432687074901d5cc201b62be76">convertFloatingToInteger</a>(*<span class="keyword">this</span>, Min, Max);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// Clean up data structures.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#a3419f1e4b5a20b3ec28ae5f1f3c6f32b">cleanup</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// Print out the final stats.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8c34b347204fd10df27090341b4127e4">dump</a>());</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="ttc" id="BlockFrequencyInfoImpl_8cpp_html_a3419f1e4b5a20b3ec28ae5f1f3c6f32b"><div class="ttname"><a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#a3419f1e4b5a20b3ec28ae5f1f3c6f32b">cleanup</a></div><div class="ttdeci">static void cleanup(BlockFrequencyInfoImplBase &amp;BFI)</div><div class="ttdoc">Clear all memory not needed downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00242">BlockFrequencyInfoImpl.cpp:242</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">BlockFrequencyInfoImpl.h:370</a></div></div>
<div class="ttc" id="BlockFrequencyInfoImpl_8cpp_html_ac95b88432687074901d5cc201b62be76"><div class="ttname"><a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#ac95b88432687074901d5cc201b62be76">convertFloatingToInteger</a></div><div class="ttdeci">static void convertFloatingToInteger(BlockFrequencyInfoImplBase &amp;BFI, const Scaled64 &amp;Min, const Scaled64 &amp;Max)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00411">BlockFrequencyInfoImpl.cpp:411</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ScaledNumber_html_a2fd49141f0fc36006080677630d0b1dc"><div class="ttname"><a href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a2fd49141f0fc36006080677630d0b1dc">llvm::ScaledNumber&lt; uint64_t &gt;::getLargest</a></div><div class="ttdeci">static ScaledNumber getLargest()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/ScaledNumber_8h_source.html#l00524">ScaledNumber.h:524</a></div></div>
<div class="ttc" id="classllvm_1_1ScaledNumber_html_a69da904ff7dd16157dfda88b1c050db0"><div class="ttname"><a href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a69da904ff7dd16157dfda88b1c050db0">llvm::ScaledNumber&lt; uint64_t &gt;::getZero</a></div><div class="ttdeci">static ScaledNumber getZero()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/ScaledNumber_8h_source.html#l00522">ScaledNumber.h:522</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a8c34b347204fd10df27090341b4127e4"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a8c34b347204fd10df27090341b4127e4">llvm::BlockFrequencyInfoImplBase::dump</a></div><div class="ttdeci">void dump() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00453">BlockFrequencyInfoImpl.h:453</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a919becaef692a4417e7f938eeaeb3012"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a>* <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00796">796</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                                                      {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d8/d49/structNode.html">Node</a>.Index &lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.size());</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>[<a class="code" href="../../d8/d49/structNode.html">Node</a>.Index];</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  }</div>
<div class="ttc" id="structNode_html"><div class="ttname"><a href="../../d8/d49/structNode.html">Node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da6/lib_2Target_2Verilog_2Graph_8h_source.html#l00038">lib/Target/Verilog/Graph.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a158c2c60a6edd3d6e3ec87a6a08b1f58"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">llvm::BlockFrequencyInfoImpl::RPOT</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt; RPOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00781">BlockFrequencyInfoImpl.h:781</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abadd78b1ae6c91dd923a5d5f0b7c955f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/de9/classllvm_1_1BlockFrequency.html">BlockFrequency</a> BlockFrequencyInfoImplBase::getBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00494">494</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                                                                    {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>.isValid())</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>[<a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>.Index].Integer;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="ttc" id="DominanceFrontierImpl_8h_html_adeb436e8060b57a35092e28f77eeb7d3"><div class="ttname"><a href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a></div><div class="ttdeci">const DomTreeNodeT * Node</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/DominanceFrontierImpl_8h_source.html#l00037">DominanceFrontierImpl.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">BlockFrequencyInfoImpl.h:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab17bb2f407d7ce2aa1c473e2e5c13c15"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/de9/classllvm_1_1BlockFrequency.html">BlockFrequency</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&#160;</td>
          <td class="paramname"><em>BB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00889">889</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                                      {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#abadd78b1ae6c91dd923a5d5f0b7c955f">BlockFrequencyInfoImplBase::getBlockFreq</a>(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(BB));</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_abadd78b1ae6c91dd923a5d5f0b7c955f"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#abadd78b1ae6c91dd923a5d5f0b7c955f">llvm::BlockFrequencyInfoImplBase::getBlockFreq</a></div><div class="ttdeci">BlockFrequency getBlockFreq(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00494">BlockFrequencyInfoImpl.cpp:494</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a66c055952d9ff07ecfb4aa8ef93b896c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">llvm::BlockFrequencyInfoImpl::getNode</a></div><div class="ttdeci">BlockNode getNode(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">BlockFrequencyInfoImpl.h:791</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a44de4910df6963fd98abfdc1175a604f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string BlockFrequencyInfoImplBase::getBlockName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">llvm::BlockFrequencyInfoImpl&lt; BT &gt;</a>.</p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00507">507</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                                    {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">std::string</a>();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="ttc" id="namespacetesting_1_1internal_html_a8e8ff5b11e64078831112677156cb111"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">testing::internal::string</a></div><div class="ttdeci">::std::string string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/gtest-port_8h_source.html#l00766">gtest-port.h:766</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a25c9c697d414b872461facb0ef36439e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getBlockName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00877">877</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                                                               {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d58/namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">bfi_detail::getBlockName</a>(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a919becaef692a4417e7f938eeaeb3012">getBlock</a>(<a class="code" href="../../d8/d49/structNode.html">Node</a>));</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div>
<div class="ttc" id="structNode_html"><div class="ttname"><a href="../../d8/d49/structNode.html">Node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da6/lib_2Target_2Verilog_2Graph_8h_source.html#l00038">lib/Target/Verilog/Graph.h:38</a></div></div>
<div class="ttc" id="namespacellvm_1_1bfi__detail_html_a01e9ac225b83bb4ded4adbba7d360cbe"><div class="ttname"><a href="../../da/d58/namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">llvm::bfi_detail::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BlockT *BB)</div><div class="ttdoc">Get the name of a MachineBasicBlock. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00498">BlockFrequencyInfoImpl.h:498</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a919becaef692a4417e7f938eeaeb3012"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a919becaef692a4417e7f938eeaeb3012">llvm::BlockFrequencyInfoImpl::getBlock</a></div><div class="ttdeci">const BlockT * getBlock(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00796">BlockFrequencyInfoImpl.h:796</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aecb588f24e7fea2f3cdc9f87e15a59ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t llvm::BlockFrequencyInfoImplBase::getEntryFreq </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00463">463</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(!<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>.empty());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>[0].Integer;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">BlockFrequencyInfoImpl.h:370</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afbc8ca9c011c63bbbde375098196be72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a> BlockFrequencyInfoImplBase::getFloatingBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00500">500</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                                                            {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>.isValid())</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a69da904ff7dd16157dfda88b1c050db0">Scaled64::getZero</a>();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>[<a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>.Index].Scaled;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="ttc" id="DominanceFrontierImpl_8h_html_adeb436e8060b57a35092e28f77eeb7d3"><div class="ttname"><a href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a></div><div class="ttdeci">const DomTreeNodeT * Node</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/DominanceFrontierImpl_8h_source.html#l00037">DominanceFrontierImpl.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">BlockFrequencyInfoImpl.h:370</a></div></div>
<div class="ttc" id="classllvm_1_1ScaledNumber_html_a69da904ff7dd16157dfda88b1c050db0"><div class="ttname"><a href="../../d2/d4f/classllvm_1_1ScaledNumber.html#a69da904ff7dd16157dfda88b1c050db0">llvm::ScaledNumber&lt; uint64_t &gt;::getZero</a></div><div class="ttdeci">static ScaledNumber getZero()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/ScaledNumber_8h_source.html#l00522">ScaledNumber.h:522</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1cbf8247453d48812517581c0b1a4180"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getFloatingBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&#160;</td>
          <td class="paramname"><em>BB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00892">892</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                                        {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#afbc8ca9c011c63bbbde375098196be72">BlockFrequencyInfoImplBase::getFloatingBlockFreq</a>(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(BB));</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_afbc8ca9c011c63bbbde375098196be72"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#afbc8ca9c011c63bbbde375098196be72">llvm::BlockFrequencyInfoImplBase::getFloatingBlockFreq</a></div><div class="ttdeci">Scaled64 getFloatingBlockFreq(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00500">BlockFrequencyInfoImpl.cpp:500</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a66c055952d9ff07ecfb4aa8ef93b896c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">llvm::BlockFrequencyInfoImpl::getNode</a></div><div class="ttdeci">BlockNode getNode(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">BlockFrequencyInfoImpl.h:791</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afea78107bcd0a88f9af1a4ca7c6c241c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a>* <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00882">882</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>; }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_aa45222e0a2a5669a998379bdadb6211a"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">llvm::BlockFrequencyInfoImpl::F</a></div><div class="ttdeci">const FunctionT * F</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00778">BlockFrequencyInfoImpl.h:778</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad44c6a25dff9125049a0baae34735161"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00789">789</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> - <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a831898aac3ad8c7e9f4e93bc0031d8a3">rpot_begin</a>(); }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a831898aac3ad8c7e9f4e93bc0031d8a3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a831898aac3ad8c7e9f4e93bc0031d8a3">llvm::BlockFrequencyInfoImpl::rpot_begin</a></div><div class="ttdeci">rpot_iterator rpot_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00786">BlockFrequencyInfoImpl.h:786</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e66c3921dc35e5f337e1259db56f9e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string BlockFrequencyInfoImplBase::getLoopName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;&#160;</td>
          <td class="paramname"><em>Loop</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00511">511</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                                                  {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">getBlockName</a>(<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.<a class="code" href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">getHeader</a>()) + (<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.isIrreducible() ? <span class="stringliteral">&quot;**&quot;</span> : <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac0426a7b8a18e60c5c9d20f73973722b"><div class="ttname"><a href="../../d5/d95/classllvm_1_1LoopBase.html#ac0426a7b8a18e60c5c9d20f73973722b">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00098">LoopInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a44de4910df6963fd98abfdc1175a604f"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">llvm::BlockFrequencyInfoImplBase::getBlockName</a></div><div class="ttdeci">virtual std::string getBlockName(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00507">BlockFrequencyInfoImpl.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="../../d7/ddf/classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00353">LoopInfo.h:353</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="addd448370c2ece9ae14e767409d68e99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a>&amp; llvm::BlockFrequencyInfoImplBase::getLoopPackage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Head</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00397">397</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                                  {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(Head.Index &lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.size());</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Head.Index].isLoopHeader());</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Head.Index].Loop;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a66c055952d9ff07ecfb4aa8ef93b896c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">791</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                                  {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">return</span> BlockNode(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad44c6a25dff9125049a0baae34735161">getIndex</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ad44c6a25dff9125049a0baae34735161"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad44c6a25dff9125049a0baae34735161">llvm::BlockFrequencyInfoImpl::getIndex</a></div><div class="ttdeci">size_t getIndex(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00789">BlockFrequencyInfoImpl.h:789</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a9a7f609cc8cc7ec0efda9b39222656"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::getNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&#160;</td>
          <td class="paramname"><em>BB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00794">794</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a31068af2d632245ecbd0619d473395da">Nodes</a>.<a class="code" href="../../d9/d72/classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">lookup</a>(BB); }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a31068af2d632245ecbd0619d473395da"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a31068af2d632245ecbd0619d473395da">llvm::BlockFrequencyInfoImpl::Nodes</a></div><div class="ttdeci">DenseMap&lt; const BlockT *, BlockNode &gt; Nodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00782">BlockFrequencyInfoImpl.h:782</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_acfd7cc74125222a81c02b4097ed5166c"><div class="ttname"><a href="../../d9/d72/classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">llvm::DenseMapBase::lookup</a></div><div class="ttdeci">ValueT lookup(const KeyT &amp;Val) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00144">DenseMap.h:144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75098bc034c0ae157a1a37df681c7b75"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::initializeLoops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize loop data. </p>
<p>Build up <em>Loops</em> using <em><a class="el" href="../../d6/d7d/classllvm_1_1LoopInfo.html">LoopInfo</a></em>. <em><a class="el" href="../../d6/d7d/classllvm_1_1LoopInfo.html">LoopInfo</a></em> gives us a mapping from each block to the deepest loop it's in, but we need the inverse. For each loop, we store in reverse post-order its "immediate" members, defined as the header, the headers of immediate sub-loops, and all other blocks in the loop that are not in sub-loops. </p>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00966">966</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                                                                     {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;loop-detection\n&quot;</span>);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">LI</a>-&gt;empty())</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// Visit loops top down and assign them an index.</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  std::deque&lt;std::pair&lt;const LoopT *, LoopData *&gt;&gt; Q;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a> *L : *<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">LI</a>)</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    Q.emplace_back(L, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">while</span> (!Q.empty()) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a> *<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a> = Q.front().first;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    LoopData *Parent = Q.front().second;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    Q.pop_front();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    BlockNode Header = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(Loop-&gt;getHeader());</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(Header.isValid());</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.emplace_back(Parent, Header);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Header.Index].Loop = &amp;<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.back();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - loop = &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">getBlockName</a>(Header) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a> *L : *Loop)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      Q.emplace_back(L, &amp;<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>.back());</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="comment">// Visit nodes in reverse post-order and add them to their deepest containing</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// loop.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Index = 0; Index &lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.size(); ++Index) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="comment">// Loop headers have already been mostly mapped.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Index].isLoopHeader()) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      LoopData *ContainingLoop = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Index].getContainingLoop();</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">if</span> (ContainingLoop)</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        ContainingLoop-&gt;Nodes.push_back(Index);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">LoopT</a> *Loop = LI-&gt;getLoopFor(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>[Index]);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span> (!Loop)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="comment">// Add this node to its containing loop&#39;s member list.</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    BlockNode Header = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(Loop-&gt;getHeader());</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(Header.isValid());</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;HeaderData = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Header.Index];</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(HeaderData.isLoopHeader());</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Index].Loop = HeaderData.Loop;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    HeaderData.Loop-&gt;Nodes.push_back(Index);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - loop = &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">getBlockName</a>(Header)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;: member = &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">getBlockName</a>(Index) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ab7988dba753a66e83845e74a9858e706"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab7988dba753a66e83845e74a9858e706">llvm::BlockFrequencyInfoImpl::LoopT</a></div><div class="ttdeci">bfi_detail::TypeMap&lt; BT &gt;::LoopT LoopT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00767">BlockFrequencyInfoImpl.h:767</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a158c2c60a6edd3d6e3ec87a6a08b1f58"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">llvm::BlockFrequencyInfoImpl::RPOT</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt; RPOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00781">BlockFrequencyInfoImpl.h:781</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacellvm_1_1GC_html_a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324"><div class="ttname"><a href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">llvm::GC::Loop</a></div><div class="ttdoc">Instr is a loop (backwards branch). </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d43/GCMetadata_8h_source.html#l00053">GCMetadata.h:53</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0cce18fa64430b89b255227a997d7dac"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">llvm::BlockFrequencyInfoImplBase::Loops</a></div><div class="ttdeci">std::list&lt; LoopData &gt; Loops</div><div class="ttdoc">Indexed information about loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00376">BlockFrequencyInfoImpl.h:376</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a25c9c697d414b872461facb0ef36439e"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">llvm::BlockFrequencyInfoImpl::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BlockNode &amp;Node) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00877">BlockFrequencyInfoImpl.h:877</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a66c055952d9ff07ecfb4aa8ef93b896c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">llvm::BlockFrequencyInfoImpl::getNode</a></div><div class="ttdeci">BlockNode getNode(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">BlockFrequencyInfoImpl.h:791</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a373176199136ded5ed5629628b0d0906"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a373176199136ded5ed5629628b0d0906">llvm::BlockFrequencyInfoImpl::LI</a></div><div class="ttdeci">const LoopInfoT * LI</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00777">BlockFrequencyInfoImpl.h:777</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a259150377dc3002214222187d49f177e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::initializeRPOT </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run (and save) a post-order traversal. </p>
<p>Saves a reverse post-order traversal of all the nodes in <em>F</em>. </p>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00944">944</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                                                                    {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *Entry = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>-&gt;begin();</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.reserve(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>-&gt;size());</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  std::copy(<a class="code" href="../../d9/d4a/namespacellvm.html#a8a736f0023b19d73f205d93fec7094a8">po_begin</a>(Entry), <a class="code" href="../../d9/d4a/namespacellvm.html#a31c465b4d456accd132c6dc332316b92">po_end</a>(Entry), std::back_inserter(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>));</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <a class="code" href="../../d6/d21/EdmondMatching_8cpp.html#ad55dbbf2ce3a07d7b163572d691f8770">std::reverse</a>(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.begin(), <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.end());</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.size() - 1 &lt;= <a class="code" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a58e8e5e2a292484f1f8f386ecce6f89c">BlockNode::getMaxIndex</a>() &amp;&amp;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;         <span class="stringliteral">&quot;More nodes in function than Block Frequency Info supports&quot;</span>);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;reverse-post-order-traversal\n&quot;</span>);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a831898aac3ad8c7e9f4e93bc0031d8a3">rpot_begin</a>(), E = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad59c93992e3573cfa6d73a73566aafce">rpot_end</a>(); <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    BlockNode <a class="code" href="../../d8/d49/structNode.html">Node</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad44c6a25dff9125049a0baae34735161">getIndex</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">getBlockName</a>(Node) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a31068af2d632245ecbd0619d473395da">Nodes</a>[*<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.reserve(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.size());</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Index = 0; Index &lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.size(); ++Index)</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.emplace_back(Index);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>.resize(<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.size());</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div>
<div class="ttc" id="EdmondMatching_8cpp_html_ad55dbbf2ce3a07d7b163572d691f8770"><div class="ttname"><a href="../../d6/d21/EdmondMatching_8cpp.html#ad55dbbf2ce3a07d7b163572d691f8770">reverse</a></div><div class="ttdeci">#define reverse</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d21/EdmondMatching_8cpp_source.html#l00015">EdmondMatching.cpp:15</a></div></div>
<div class="ttc" id="structNode_html"><div class="ttname"><a href="../../d8/d49/structNode.html">Node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da6/lib_2Target_2Verilog_2Graph_8h_source.html#l00038">lib/Target/Verilog/Graph.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a158c2c60a6edd3d6e3ec87a6a08b1f58"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">llvm::BlockFrequencyInfoImpl::RPOT</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt; RPOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00781">BlockFrequencyInfoImpl.h:781</a></div></div>
<div class="ttc" id="namespacellvm_html_a8a736f0023b19d73f205d93fec7094a8"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a8a736f0023b19d73f205d93fec7094a8">llvm::po_begin</a></div><div class="ttdeci">po_iterator&lt; T &gt; po_begin(T G)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00175">PostOrderIterator.h:175</a></div></div>
<div class="ttc" id="DominanceFrontierImpl_8h_html_adeb436e8060b57a35092e28f77eeb7d3"><div class="ttname"><a href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a></div><div class="ttdeci">const DomTreeNodeT * Node</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/DominanceFrontierImpl_8h_source.html#l00037">DominanceFrontierImpl.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a3092515a29ef375186c406ecebf084c1"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">llvm::BlockFrequencyInfoImpl::BlockT</a></div><div class="ttdeci">bfi_detail::TypeMap&lt; BT &gt;::BlockT BlockT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00763">BlockFrequencyInfoImpl.h:763</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a31068af2d632245ecbd0619d473395da"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a31068af2d632245ecbd0619d473395da">llvm::BlockFrequencyInfoImpl::Nodes</a></div><div class="ttdeci">DenseMap&lt; const BlockT *, BlockNode &gt; Nodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00782">BlockFrequencyInfoImpl.h:782</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a831898aac3ad8c7e9f4e93bc0031d8a3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a831898aac3ad8c7e9f4e93bc0031d8a3">llvm::BlockFrequencyInfoImpl::rpot_begin</a></div><div class="ttdeci">rpot_iterator rpot_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00786">BlockFrequencyInfoImpl.h:786</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">BlockFrequencyInfoImpl.h:370</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ad44c6a25dff9125049a0baae34735161"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad44c6a25dff9125049a0baae34735161">llvm::BlockFrequencyInfoImpl::getIndex</a></div><div class="ttdeci">size_t getIndex(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00789">BlockFrequencyInfoImpl.h:789</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ad59c93992e3573cfa6d73a73566aafce"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad59c93992e3573cfa6d73a73566aafce">llvm::BlockFrequencyInfoImpl::rpot_end</a></div><div class="ttdeci">rpot_iterator rpot_end() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00787">BlockFrequencyInfoImpl.h:787</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_aa45222e0a2a5669a998379bdadb6211a"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">llvm::BlockFrequencyInfoImpl::F</a></div><div class="ttdeci">const FunctionT * F</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00778">BlockFrequencyInfoImpl.h:778</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a25c9c697d414b872461facb0ef36439e"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">llvm::BlockFrequencyInfoImpl::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BlockNode &amp;Node) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00877">BlockFrequencyInfoImpl.h:877</a></div></div>
<div class="ttc" id="namespacellvm_html_a31c465b4d456accd132c6dc332316b92"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a31c465b4d456accd132c6dc332316b92">llvm::po_end</a></div><div class="ttdeci">po_iterator&lt; T &gt; po_end(T G)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbd/PostOrderIterator_8h_source.html#l00177">PostOrderIterator.h:177</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a66c055952d9ff07ecfb4aa8ef93b896c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">llvm::BlockFrequencyInfoImpl::getNode</a></div><div class="ttdeci">BlockNode getNode(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">BlockFrequencyInfoImpl.h:791</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a9cb8a1089b47e389af8bb3a809b68850"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">llvm::BlockFrequencyInfoImpl::rpot_iterator</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt;::const_iterator rpot_iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00784">BlockFrequencyInfoImpl.h:784</a></div></div>
<div class="ttc" id="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_a58e8e5e2a292484f1f8f386ecce6f89c"><div class="ttname"><a href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#a58e8e5e2a292484f1f8f386ecce6f89c">llvm::BlockFrequencyInfoImplBase::BlockNode::getMaxIndex</a></div><div class="ttdeci">static size_t getMaxIndex()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00183">BlockFrequencyInfoImpl.h:183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72a0d1f4a55f5756a4ef8e59662a7621"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BlockFrequencyInfoImplBase::packageLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;&#160;</td>
          <td class="paramname"><em>Loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Package up a loop. </p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00351">351</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                                           {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;packaging-loop: &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">getLoopName</a>(<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// Clear the subloop exits to prevent quadratic memory usage.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockNode &amp;M : <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.Nodes) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[M.Index].getPackagedLoop())</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>-&gt;Exits.clear();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - node: &quot;</span> &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">getBlockName</a>(M.Index) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>.IsPackaged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a7e66c3921dc35e5f337e1259db56f9e6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a7e66c3921dc35e5f337e1259db56f9e6">llvm::BlockFrequencyInfoImplBase::getLoopName</a></div><div class="ttdeci">std::string getLoopName(const LoopData &amp;Loop) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00511">BlockFrequencyInfoImpl.cpp:511</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a44de4910df6963fd98abfdc1175a604f"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a44de4910df6963fd98abfdc1175a604f">llvm::BlockFrequencyInfoImplBase::getBlockName</a></div><div class="ttdeci">virtual std::string getBlockName(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00507">BlockFrequencyInfoImpl.cpp:507</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="../../d7/ddf/classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00353">LoopInfo.h:353</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad05ed8871c23e9c87114b754bc6098ab"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the frequencies for the current function. </p>
<p>Prints the frequencies for the blocks in the current function.</p>
<p>Blocks are printed in the natural iteration order of the function, rather than reverse post-order. This provides two advantages: writing -analyze tests is easier (since blocks come out in source order), and even unreachable blocks are printed.</p>
<p><em><a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a26944c1a841003057a047e105d421ab9">BlockFrequencyInfoImplBase::print()</a></em> only knows reverse post-order, so we need to override it here. </p>

<p>Reimplemented from <a class="el" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a26944c1a841003057a047e105d421ab9">llvm::BlockFrequencyInfoImplBase</a>.</p>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01163">1163</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                                                                    {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">return</span> OS;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;block-frequency-info: &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &amp;BB : *<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">F</a>)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; <a class="code" href="../../da/d58/namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">bfi_detail::getBlockName</a>(&amp;BB)</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;: float = &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a1cbf8247453d48812517581c0b1a4180">getFloatingBlockFreq</a>(&amp;BB)</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, int = &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab17bb2f407d7ce2aa1c473e2e5c13c15">getBlockFreq</a>(&amp;BB).<a class="code" href="../../d7/de9/classllvm_1_1BlockFrequency.html#acd0d5be21046a46d1ffa3646dc8790fc">getFrequency</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// Add an extra newline for readability.</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordflow">return</span> OS;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequency_html_acd0d5be21046a46d1ffa3646dc8790fc"><div class="ttname"><a href="../../d7/de9/classllvm_1_1BlockFrequency.html#acd0d5be21046a46d1ffa3646dc8790fc">llvm::BlockFrequency::getFrequency</a></div><div class="ttdeci">uint64_t getFrequency() const </div><div class="ttdoc">Returns the frequency as a fixpoint number scaled by the entry frequency. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd8/BlockFrequency_8h_source.html#l00036">BlockFrequency.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a3092515a29ef375186c406ecebf084c1"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">llvm::BlockFrequencyInfoImpl::BlockT</a></div><div class="ttdeci">bfi_detail::TypeMap&lt; BT &gt;::BlockT BlockT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00763">BlockFrequencyInfoImpl.h:763</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a1cbf8247453d48812517581c0b1a4180"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a1cbf8247453d48812517581c0b1a4180">llvm::BlockFrequencyInfoImpl::getFloatingBlockFreq</a></div><div class="ttdeci">Scaled64 getFloatingBlockFreq(const BlockT *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00892">BlockFrequencyInfoImpl.h:892</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_aa45222e0a2a5669a998379bdadb6211a"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aa45222e0a2a5669a998379bdadb6211a">llvm::BlockFrequencyInfoImpl::F</a></div><div class="ttdeci">const FunctionT * F</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00778">BlockFrequencyInfoImpl.h:778</a></div></div>
<div class="ttc" id="namespacellvm_1_1bfi__detail_html_a01e9ac225b83bb4ded4adbba7d360cbe"><div class="ttname"><a href="../../da/d58/namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">llvm::bfi_detail::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BlockT *BB)</div><div class="ttdoc">Get the name of a MachineBasicBlock. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00498">BlockFrequencyInfoImpl.h:498</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ab17bb2f407d7ce2aa1c473e2e5c13c15"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ab17bb2f407d7ce2aa1c473e2e5c13c15">llvm::BlockFrequencyInfoImpl::getBlockFreq</a></div><div class="ttdeci">BlockFrequency getBlockFreq(const BlockT *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00889">BlockFrequencyInfoImpl.h:889</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac681206f263bb82b1e8237cb5905c01e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp; BlockFrequencyInfoImplBase::printBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00516">516</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                                                        {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">return</span> OS &lt;&lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#afbc8ca9c011c63bbbde375098196be72">getFloatingBlockFreq</a>(<a class="code" href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
<div class="ttc" id="DominanceFrontierImpl_8h_html_adeb436e8060b57a35092e28f77eeb7d3"><div class="ttname"><a href="../../d8/d14/DominanceFrontierImpl_8h.html#adeb436e8060b57a35092e28f77eeb7d3">Node</a></div><div class="ttdeci">const DomTreeNodeT * Node</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/DominanceFrontierImpl_8h_source.html#l00037">DominanceFrontierImpl.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_afbc8ca9c011c63bbbde375098196be72"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#afbc8ca9c011c63bbbde375098196be72">llvm::BlockFrequencyInfoImplBase::getFloatingBlockFreq</a></div><div class="ttdeci">Scaled64 getFloatingBlockFreq(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00500">BlockFrequencyInfoImpl.cpp:500</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2eb24b802b5828e9178fe8acb827648a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp; BlockFrequencyInfoImplBase::printBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d7/de9/classllvm_1_1BlockFrequency.html">BlockFrequency</a> &amp;&#160;</td>
          <td class="paramname"><em>Freq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00522">522</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                                                             {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a> Block(Freq.<a class="code" href="../../d7/de9/classllvm_1_1BlockFrequency.html#acd0d5be21046a46d1ffa3646dc8790fc">getFrequency</a>(), 0);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a> Entry(<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aecb588f24e7fea2f3cdc9f87e15a59ae">getEntryFreq</a>(), 0);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">return</span> OS &lt;&lt; Block / Entry;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequency_html_acd0d5be21046a46d1ffa3646dc8790fc"><div class="ttname"><a href="../../d7/de9/classllvm_1_1BlockFrequency.html#acd0d5be21046a46d1ffa3646dc8790fc">llvm::BlockFrequency::getFrequency</a></div><div class="ttdeci">uint64_t getFrequency() const </div><div class="ttdoc">Returns the frequency as a fixpoint number scaled by the entry frequency. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd8/BlockFrequency_8h_source.html#l00036">BlockFrequency.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a2f26fcabd49eaca3cc1aa86d2afed7dc"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">llvm::BlockFrequencyInfoImplBase::Scaled64</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; Scaled64</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00158">BlockFrequencyInfoImpl.h:158</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aecb588f24e7fea2f3cdc9f87e15a59ae"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aecb588f24e7fea2f3cdc9f87e15a59ae">llvm::BlockFrequencyInfoImplBase::getEntryFreq</a></div><div class="ttdeci">uint64_t getEntryFreq() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00463">BlockFrequencyInfoImpl.h:463</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2f4d4b4cdbbb3817200b372b6fcabae"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a>&amp; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::printBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d03/classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&#160;</td>
          <td class="paramname"><em>BB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00911">911</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                                                       {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#ac681206f263bb82b1e8237cb5905c01e">BlockFrequencyInfoImplBase::printBlockFreq</a>(OS, <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(BB));</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_ac681206f263bb82b1e8237cb5905c01e"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#ac681206f263bb82b1e8237cb5905c01e">llvm::BlockFrequencyInfoImplBase::printBlockFreq</a></div><div class="ttdeci">raw_ostream &amp; printBlockFreq(raw_ostream &amp;OS, const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00516">BlockFrequencyInfoImpl.cpp:516</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a66c055952d9ff07ecfb4aa8ef93b896c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">llvm::BlockFrequencyInfoImpl::getNode</a></div><div class="ttdeci">BlockNode getNode(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">BlockFrequencyInfoImpl.h:791</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15566d562fb0f6fbe2f94b26460527b3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::propagateMassToSuccessors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *&#160;</td>
          <td class="paramname"><em>OuterLoop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;&#160;</td>
          <td class="paramname"><em>Node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Propagate to a block's successors. </p>
<p>In the context of distributing mass through <code>OuterLoop</code>, divide the mass currently assigned to <code><a class="el" href="../../d8/d49/structNode.html">Node</a></code> between its successors.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> unless there's an irreducible backedge. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01134">1134</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                                                                             {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - node: &quot;</span> &lt;&lt; <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">getBlockName</a>(<a class="code" href="../../d8/d49/structNode.html">Node</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="comment">// Calculate probability for successors.</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  Distribution Dist;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a> = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="../../d8/d49/structNode.html">Node</a>.Index].getPackagedLoop()) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a> != OuterLoop &amp;&amp; <span class="stringliteral">&quot;Cannot propagate mass in a packaged loop&quot;</span>);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">addLoopSuccessorsToDist</a>(OuterLoop, *<a class="code" href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">Loop</a>, Dist))</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *BB = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a919becaef692a4417e7f938eeaeb3012">getBlock</a>(<a class="code" href="../../d8/d49/structNode.html">Node</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> SI = Successor::child_begin(BB), SE = Successor::child_end(BB);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;         SI != SE; ++SI)</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="comment">// Do not dereference SI, or getEdgeWeight() is linear in the number of</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="comment">// successors.</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">addToDist</a>(Dist, OuterLoop, <a class="code" href="../../d8/d49/structNode.html">Node</a>, <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(*SI),</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                     <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">BPI</a>-&gt;getEdgeWeight(BB, SI)))</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">// Distribute mass to successors, saving exit and backedge data in the</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">// loop header.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">distributeMass</a>(<a class="code" href="../../d8/d49/structNode.html">Node</a>, OuterLoop, Dist);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ada16ed5dc731b3ed8ef39e0a86755e95"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ada16ed5dc731b3ed8ef39e0a86755e95">llvm::BlockFrequencyInfoImpl::BPI</a></div><div class="ttdeci">const BranchProbabilityInfoT * BPI</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00776">BlockFrequencyInfoImpl.h:776</a></div></div>
<div class="ttc" id="structNode_html"><div class="ttname"><a href="../../d8/d49/structNode.html">Node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da6/lib_2Target_2Verilog_2Graph_8h_source.html#l00038">lib/Target/Verilog/Graph.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a3092515a29ef375186c406ecebf084c1"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">llvm::BlockFrequencyInfoImpl::BlockT</a></div><div class="ttdeci">bfi_detail::TypeMap&lt; BT &gt;::BlockT BlockT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00763">BlockFrequencyInfoImpl.h:763</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aac32cd773a37b10c8f835459a23ac606"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">llvm::BlockFrequencyInfoImplBase::addToDist</a></div><div class="ttdeci">bool addToDist(Distribution &amp;Dist, const LoopData *OuterLoop, const BlockNode &amp;Pred, const BlockNode &amp;Succ, uint64_t Weight)</div><div class="ttdoc">Add an edge to the distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00248">BlockFrequencyInfoImpl.cpp:248</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacellvm_1_1GC_html_a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324"><div class="ttname"><a href="../../dc/dcb/namespacellvm_1_1GC.html#a5f606a2b04c809f789a574660cd25213a960eba6a93af558b44d3d14e8393d324">llvm::GC::Loop</a></div><div class="ttdoc">Instr is a loop (backwards branch). </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d43/GCMetadata_8h_source.html#l00053">GCMetadata.h:53</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a919becaef692a4417e7f938eeaeb3012"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a919becaef692a4417e7f938eeaeb3012">llvm::BlockFrequencyInfoImpl::getBlock</a></div><div class="ttdeci">const BlockT * getBlock(const BlockNode &amp;Node) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00796">BlockFrequencyInfoImpl.h:796</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a25c9c697d414b872461facb0ef36439e"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a25c9c697d414b872461facb0ef36439e">llvm::BlockFrequencyInfoImpl::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BlockNode &amp;Node) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00877">BlockFrequencyInfoImpl.h:877</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a66c055952d9ff07ecfb4aa8ef93b896c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">llvm::BlockFrequencyInfoImpl::getNode</a></div><div class="ttdeci">BlockNode getNode(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">BlockFrequencyInfoImpl.h:791</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_adda9f21a68ad40aac3ee4e0bf3afa31d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">llvm::BlockFrequencyInfoImplBase::distributeMass</a></div><div class="ttdeci">void distributeMass(const BlockNode &amp;Source, LoopData *OuterLoop, Distribution &amp;Dist)</div><div class="ttdoc">Distribute mass according to a distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00363">BlockFrequencyInfoImpl.cpp:363</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a41ea5a32fdaf85d4aa83b1e2d8473fdc"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">llvm::BlockFrequencyInfoImplBase::addLoopSuccessorsToDist</a></div><div class="ttdeci">bool addLoopSuccessorsToDist(const LoopData *OuterLoop, LoopData &amp;Loop, Distribution &amp;Dist)</div><div class="ttdoc">Add all edges out of a packaged loop to the distribution. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00310">BlockFrequencyInfoImpl.cpp:310</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a831898aac3ad8c7e9f4e93bc0031d8a3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::rpot_begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00786">786</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.begin(); }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a158c2c60a6edd3d6e3ec87a6a08b1f58"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">llvm::BlockFrequencyInfoImpl::RPOT</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt; RPOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00781">BlockFrequencyInfoImpl.h:781</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad59c93992e3573cfa6d73a73566aafce"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::rpot_end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00787">787</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">RPOT</a>.end(); }</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a158c2c60a6edd3d6e3ec87a6a08b1f58"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a158c2c60a6edd3d6e3ec87a6a08b1f58">llvm::BlockFrequencyInfoImpl::RPOT</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt; RPOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00781">BlockFrequencyInfoImpl.h:781</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65b2af989057016a00ad528f8866543e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::tryToComputeMassInFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to compute mass in the top-level function. </p>
<p>Assign mass to the entry block, and then for each block in reverse post-order, distribute mass to its successors. Skips nodes that have been packaged into loops.</p>
<dl class="section pre"><dt>Precondition</dt><dd><em><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a41d61bc22e0b838b765469a441f4060c" title="Compute mass in all loops. ">computeMassInLoops()</a></em> has been called. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> unless there's an irreducible backedge. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01064">1064</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                                            {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// Compute mass in function.</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;compute-mass-in-function\n&quot;</span>);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(!<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.empty() &amp;&amp; <span class="stringliteral">&quot;no blocks in function&quot;</span>);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(!<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[0].isLoopHeader() &amp;&amp; <span class="stringliteral">&quot;entry block is a loop header&quot;</span>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[0].getMass() = <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">rpot_iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a831898aac3ad8c7e9f4e93bc0031d8a3">rpot_begin</a>(), <a class="code" href="../../d0/da4/namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad59c93992e3573cfa6d73a73566aafce">rpot_end</a>(); <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="../../d0/da4/namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">// Check for nodes that have been packaged.</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    BlockNode <a class="code" href="../../d8/d49/structNode.html">Node</a> = <a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">getNode</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Node.Index].isPackaged())</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a15566d562fb0f6fbe2f94b26460527b3">propagateMassToSuccessors</a>(<span class="keyword">nullptr</span>, Node))</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="../../d0/da4/namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/ARMBaseInfo_8h_source.html#l00091">ARMBaseInfo.h:91</a></div></div>
<div class="ttc" id="structNode_html"><div class="ttname"><a href="../../d8/d49/structNode.html">Node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da6/lib_2Target_2Verilog_2Graph_8h_source.html#l00038">lib/Target/Verilog/Graph.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a831898aac3ad8c7e9f4e93bc0031d8a3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a831898aac3ad8c7e9f4e93bc0031d8a3">llvm::BlockFrequencyInfoImpl::rpot_begin</a></div><div class="ttdeci">rpot_iterator rpot_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00786">BlockFrequencyInfoImpl.h:786</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_ad59c93992e3573cfa6d73a73566aafce"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#ad59c93992e3573cfa6d73a73566aafce">llvm::BlockFrequencyInfoImpl::rpot_end</a></div><div class="ttdeci">rpot_iterator rpot_end() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00787">BlockFrequencyInfoImpl.h:787</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a15566d562fb0f6fbe2f94b26460527b3"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a15566d562fb0f6fbe2f94b26460527b3">llvm::BlockFrequencyInfoImpl::propagateMassToSuccessors</a></div><div class="ttdeci">bool propagateMassToSuccessors(LoopData *OuterLoop, const BlockNode &amp;Node)</div><div class="ttdoc">Propagate to a block&#39;s successors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l01134">BlockFrequencyInfoImpl.h:1134</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1bfi__detail_1_1BlockMass_html_ac0e3f20571279f8b3896a687101d7151"><div class="ttname"><a href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">llvm::bfi_detail::BlockMass::getFull</a></div><div class="ttdeci">static BlockMass getFull()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00075">BlockFrequencyInfoImpl.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a66c055952d9ff07ecfb4aa8ef93b896c"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a66c055952d9ff07ecfb4aa8ef93b896c">llvm::BlockFrequencyInfoImpl::getNode</a></div><div class="ttdeci">BlockNode getNode(const rpot_iterator &amp;I) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00791">BlockFrequencyInfoImpl.h:791</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImpl_html_a9cb8a1089b47e389af8bb3a809b68850"><div class="ttname"><a href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a9cb8a1089b47e389af8bb3a809b68850">llvm::BlockFrequencyInfoImpl::rpot_iterator</a></div><div class="ttdeci">std::vector&lt; const BlockT * &gt;::const_iterator rpot_iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00784">BlockFrequencyInfoImpl.h:784</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4e1554fca8ef98622714e55215db4a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BlockFrequencyInfoImplBase::unwrapLoops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unwrap loops. </p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00463">463</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                             {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Set initial frequencies from loop-local masses.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> Index = 0; Index &lt; <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.size(); ++Index)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">Freqs</a>[Index].Scaled = <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[Index].Mass.toScaled();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">for</span> (LoopData &amp;<a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> : <a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">Loops</a>)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#a4a494d2e2688c4f4ec901183685c215b">unwrapLoop</a>(*<span class="keyword">this</span>, <a class="code" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_aee96d15a297893d47f2d5fb50eac90d6"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#aee96d15a297893d47f2d5fb50eac90d6">llvm::BlockFrequencyInfoImplBase::Freqs</a></div><div class="ttdeci">std::vector&lt; FrequencyData &gt; Freqs</div><div class="ttdoc">Data about each block. This is used downstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">BlockFrequencyInfoImpl.h:370</a></div></div>
<div class="ttc" id="BlockFrequencyInfoImpl_8cpp_html_a4a494d2e2688c4f4ec901183685c215b"><div class="ttname"><a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp.html#a4a494d2e2688c4f4ec901183685c215b">unwrapLoop</a></div><div class="ttdeci">static void unwrapLoop(BlockFrequencyInfoImplBase &amp;BFI, LoopData &amp;Loop)</div><div class="ttdoc">Unwrap a loop package. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00441">BlockFrequencyInfoImpl.cpp:441</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0cce18fa64430b89b255227a997d7dac"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0cce18fa64430b89b255227a997d7dac">llvm::BlockFrequencyInfoImplBase::Loops</a></div><div class="ttdeci">std::list&lt; LoopData &gt; Loops</div><div class="ttdoc">Indexed information about loops. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00376">BlockFrequencyInfoImpl.h:376</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="../../d7/ddf/classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/LoopInfo_8h_source.html#l00353">LoopInfo.h:353</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8fcc33897ff2ea4ebc874792c49497ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BlockFrequencyInfoImplBase::updateLoopWithIrreducible </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;&#160;</td>
          <td class="paramname"><em>OuterLoop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a loop after packaging irreducible SCCs inside of it. </p>
<p>Update <code>OuterLoop</code>. Before finding irreducible control flow, it was partway through <em>computeMassInLoop()</em>, so <em><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a2ba9de56719382167db6112ba3d0b056" title="Successor edges (and weights). ">LoopData::Exits</a></em> and <em><a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a683fefc49f7549cf2c8f138412bdac69" title="Mass returned to loop header. ">LoopData::BackedgeMass</a></em> need to be reset. Also, nodes that were packaged up need to be removed from <em>OuterLoop::Nodes</em>. </p>

<p>Definition at line <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html#l00689">689</a> of file <a class="el" href="../../d3/d06/BlockFrequencyInfoImpl_8cpp_source.html">BlockFrequencyInfoImpl.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                                                         {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  OuterLoop.Exits.clear();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  OuterLoop.BackedgeMass = <a class="code" href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">BlockMass::getEmpty</a>();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keyword">auto</span> O = OuterLoop.Nodes.begin() + 1;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = O, E = OuterLoop.Nodes.end(); <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Index].isPackaged())</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      *O++ = *<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  OuterLoop.Nodes.erase(O, OuterLoop.Nodes.end());</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1bfi__detail_1_1BlockMass_html_a42dc56500d44820d4526a0863abc2943"><div class="ttname"><a href="../../da/d40/classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">llvm::bfi_detail::BlockMass::getEmpty</a></div><div class="ttdeci">static BlockMass getEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00074">BlockFrequencyInfoImpl.h:74</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="../../d5/df2/classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">BlockFrequencyInfoImpl.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="ad948898612d08c1b750614d573ce2d92"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="../../dd/d51/structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">bfi_detail::BlockEdgesAdder</a>&lt; BT &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00771">771</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ada16ed5dc731b3ed8ef39e0a86755e95"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a55a24f4d22583333b219a1ffff36ad23">BranchProbabilityInfoT</a>* <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::BPI</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00776">776</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa45222e0a2a5669a998379bdadb6211a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#aebab2afa6873dbc7b6b3358452869560">FunctionT</a>* <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::F</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00778">778</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="aee96d15a297893d47f2d5fb50eac90d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d2/d0a/structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html">FrequencyData</a>&gt; llvm::BlockFrequencyInfoImplBase::Freqs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data about each block. This is used downstream. </p>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00370">370</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a373176199136ded5ed5629628b0d0906"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a64515bf669e2a145c865fdf5d3992c10">LoopInfoT</a>* <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::LI</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00777">777</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0cce18fa64430b89b255227a997d7dac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="../../d4/d0b/structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a>&gt; llvm::BlockFrequencyInfoImplBase::Loops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indexed information about loops. </p>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00376">376</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a31068af2d632245ecbd0619d473395da"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *, <a class="el" href="../../d0/d2b/structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a>&gt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::Nodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00782">782</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a158c2c60a6edd3d6e3ec87a6a08b1f58"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d4a/namespacellvm.html#a7670a6132acf8919f05f827683311af5">const</a> <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> *&gt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; <a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html#a3092515a29ef375186c406ecebf084c1">BlockT</a> &gt;::RPOT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00781">781</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0270fc5b1a979417e696f5d8b655812d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d8/ddc/structllvm_1_1BlockFrequencyInfoImplBase_1_1WorkingData.html">WorkingData</a>&gt; llvm::BlockFrequencyInfoImplBase::Working</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d7/ddf/classllvm_1_1Loop.html">Loop</a> data: see initializeLoops(). </p>

<p>Definition at line <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html#l00373">373</a> of file <a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../de/d53/BlockFrequencyInfo_8h_source.html">BlockFrequencyInfo.h</a></li>
<li><a class="el" href="../../d9/d0b/BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d4a/namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="../../dd/d87/classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:49:18 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
