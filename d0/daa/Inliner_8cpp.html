<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: Inliner.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d0/daa/Inliner_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Inliner.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d84/InlinerPass_8h_source.html">llvm/Transforms/IPO/InlinerPass.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/d89/SmallPtrSet_8h_source.html">llvm/ADT/SmallPtrSet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d5f/Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d40/CallGraph_8h_source.html">llvm/Analysis/CallGraph.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/de5/InlineCost_8h_source.html">llvm/Analysis/InlineCost.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/daf/CallSite_8h_source.html">llvm/IR/CallSite.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d19/DataLayout_8h_source.html">llvm/IR/DataLayout.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/d01/DiagnosticInfo_8h_source.html">llvm/IR/DiagnosticInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/dd5/Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/dfe/IntrinsicInst_8h_source.html">llvm/IR/IntrinsicInst.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/dc7/Module_8h_source.html">llvm/IR/Module.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d41/CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d82/raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dc/d1a/TargetLibraryInfo_8h_source.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d44/Cloning_8h_source.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d6f/Local_8h_source.html">llvm/Transforms/Utils/Local.h</a>&quot;</code><br/>
</div>
<p><a href="../../d0/daa/Inliner_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;inline&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad8197eb0f236c8eac8937caf6c8b81d7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="../../d0/dd7/classllvm_1_1ArrayType.html">ArrayType</a> <br class="typebreak"/>
*, std::vector&lt; <a class="el" href="../../d2/dac/classllvm_1_1AllocaInst.html">AllocaInst</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#ad8197eb0f236c8eac8937caf6c8b81d7">InlinedArrayAllocasTy</a></td></tr>
<tr class="separator:ad8197eb0f236c8eac8937caf6c8b81d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8def873a39ece42cc6499bb9ac8dd1e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a8def873a39ece42cc6499bb9ac8dd1e0">STATISTIC</a> (NumInlined,&quot;Number of <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> inlined&quot;)</td></tr>
<tr class="separator:a8def873a39ece42cc6499bb9ac8dd1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb0bcd04aee8126d9990e363bafbb82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a1bb0bcd04aee8126d9990e363bafbb82">STATISTIC</a> (NumCallsDeleted,&quot;Number of <a class="el" href="../../dc/d85/arange-overlap_8cc.html#aba7af6b502e464074d3c31ff9236a22c">call</a> sites deleted, not inlined&quot;)</td></tr>
<tr class="separator:a1bb0bcd04aee8126d9990e363bafbb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa22d3d13efa76552add519bff26b28b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#aaa22d3d13efa76552add519bff26b28b">STATISTIC</a> (NumDeleted,&quot;Number of <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> deleted because all callers found&quot;)</td></tr>
<tr class="separator:aaa22d3d13efa76552add519bff26b28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cc0641623ceea802c5a6deeac4eeeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#aa7cc0641623ceea802c5a6deeac4eeeb">STATISTIC</a> (NumMergedAllocas,&quot;Number of allocas merged together&quot;)</td></tr>
<tr class="separator:aa7cc0641623ceea802c5a6deeac4eeeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6d3a8008bf9c13b7f5b04fd64edf5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a2d6d3a8008bf9c13b7f5b04fd64edf5e">STATISTIC</a> (NumCallerCallersAnalyzed,&quot;Number of caller-callers analyzed&quot;)</td></tr>
<tr class="separator:a2d6d3a8008bf9c13b7f5b04fd64edf5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a414398b6abeb1f2a5f3cc68a8d07aa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a7a414398b6abeb1f2a5f3cc68a8d07aa">AdjustCallerSSPLevel</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *Caller, <a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *Callee)</td></tr>
<tr class="memdesc:a7a414398b6abeb1f2a5f3cc68a8d07aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the inlined function had a higher stack protection level than the calling function, then bump up the caller's stack protection level.  <a href="#a7a414398b6abeb1f2a5f3cc68a8d07aa">More...</a><br/></td></tr>
<tr class="separator:a7a414398b6abeb1f2a5f3cc68a8d07aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1e9615c7837b58619d030915d9e4fc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#abb1e9615c7837b58619d030915d9e4fc">InlineCallIfPossible</a> (<a class="el" href="../../d2/d8d/classllvm_1_1CallSite.html">CallSite</a> CS, <a class="el" href="../../d0/d76/classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI, <a class="el" href="../../d0/daa/Inliner_8cpp.html#ad8197eb0f236c8eac8937caf6c8b81d7">InlinedArrayAllocasTy</a> &amp;InlinedArrayAllocas, int InlineHistory, bool InsertLifetime, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3a/classllvm_1_1DataLayout.html">DataLayout</a> *<a class="el" href="../../df/dca/GlobalMerge_8cpp.html#a7f7b8906dab43d37c78e10eafe4c424f">DL</a>)</td></tr>
<tr class="separator:abb1e9615c7837b58619d030915d9e4fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e44ddb882644d21be1691b84b317908"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a8e44ddb882644d21be1691b84b317908">emitAnalysis</a> (<a class="el" href="../../d2/d8d/classllvm_1_1CallSite.html">CallSite</a> CS, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../db/d5e/classllvm_1_1Twine.html">Twine</a> &amp;Msg)</td></tr>
<tr class="separator:a8e44ddb882644d21be1691b84b317908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13bcc9282e847fdb0bcb64f27a2e6002"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a13bcc9282e847fdb0bcb64f27a2e6002">InlineHistoryIncludes</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../d2/d14/LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>, int InlineHistoryID, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../da/d30/classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; std::pair&lt; <a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *, int &gt; &gt; &amp;InlineHistory)</td></tr>
<tr class="separator:a13bcc9282e847fdb0bcb64f27a2e6002"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abc7dd6abf4a8a82ab9abcff5686aacf8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#abc7dd6abf4a8a82ab9abcff5686aacf8">InlineLimit</a> (&quot;inline-threshold&quot;, cl::Hidden, cl::init(225), cl::ZeroOrMore, <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Control the amount of inlining to perform (default = 225)&quot;))</td></tr>
<tr class="separator:abc7dd6abf4a8a82ab9abcff5686aacf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155256dae9eff9b764b9d5eb5a10d8a9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a155256dae9eff9b764b9d5eb5a10d8a9">HintThreshold</a> (&quot;inlinehint-threshold&quot;, cl::Hidden, cl::init(325), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Threshold <a class="el" href="../../df/dca/GlobalMerge_8cpp.html#ac16d0ba14eb60334c1bfc84c4b00734a">for</a> inlining <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> with <a class="el" href="../../d6/d1d/InlineSimple_8cpp.html#af810eb5ea0a838b654449b7601c18c1e">inline</a> hint&quot;))</td></tr>
<tr class="separator:a155256dae9eff9b764b9d5eb5a10d8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0d4d7d3aa5f9ba2cce84a5039511f0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a1b0d4d7d3aa5f9ba2cce84a5039511f0">ColdThreshold</a> (&quot;inlinecold-threshold&quot;, cl::Hidden, cl::init(225), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Threshold <a class="el" href="../../df/dca/GlobalMerge_8cpp.html#ac16d0ba14eb60334c1bfc84c4b00734a">for</a> inlining <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> with cold attribute&quot;))</td></tr>
<tr class="separator:a1b0d4d7d3aa5f9ba2cce84a5039511f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b6a9cbde44c147a096830db071daf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/daa/Inliner_8cpp.html#a57b6a9cbde44c147a096830db071daf6">OptSizeThreshold</a> = 75</td></tr>
<tr class="separator:a57b6a9cbde44c147a096830db071daf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;inline&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/daa/Inliner_8cpp_source.html#l00035">35</a> of file <a class="el" href="../../d0/daa/Inliner_8cpp_source.html">Inliner.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad8197eb0f236c8eac8937caf6c8b81d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt;<a class="el" href="../../d0/dd7/classllvm_1_1ArrayType.html">ArrayType</a>*, std::vector&lt;<a class="el" href="../../d2/dac/classllvm_1_1AllocaInst.html">AllocaInst</a>*&gt; &gt; <a class="el" href="../../d0/daa/Inliner_8cpp.html#ad8197eb0f236c8eac8937caf6c8b81d7">InlinedArrayAllocasTy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/daa/Inliner_8cpp_source.html#l00082">82</a> of file <a class="el" href="../../d0/daa/Inliner_8cpp_source.html">Inliner.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7a414398b6abeb1f2a5f3cc68a8d07aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void AdjustCallerSSPLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>Caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>Callee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the inlined function had a higher stack protection level than the calling function, then bump up the caller's stack protection level. </p>

<p>Definition at line <a class="el" href="../../d0/daa/Inliner_8cpp_source.html#l00086">86</a> of file <a class="el" href="../../d0/daa/Inliner_8cpp_source.html">Inliner.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                                                     {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// If upgrading the SSP attribute, clear out the old SSP Attributes first.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// Having multiple SSP attributes doesn&#39;t actually hurt, but it adds useless</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// clutter to the IR.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="../../d5/d93/classllvm_1_1AttrBuilder.html">AttrBuilder</a> B;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  B.<a class="code" href="../../d5/d93/classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">addAttribute</a>(Attribute::StackProtect)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    .<a class="code" href="../../d5/d93/classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">addAttribute</a>(Attribute::StackProtectStrong);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="../../dc/d16/classllvm_1_1AttributeSet.html">AttributeSet</a> OldSSPAttr = AttributeSet::get(Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                              AttributeSet::FunctionIndex,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                              B);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="../../dc/d16/classllvm_1_1AttributeSet.html">AttributeSet</a> CallerAttr = Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>(),</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;               CalleeAttr = Callee-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (CalleeAttr.hasAttribute(AttributeSet::FunctionIndex,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                              Attribute::StackProtectReq)) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">removeAttributes</a>(AttributeSet::FunctionIndex, OldSSPAttr);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">addFnAttr</a>(Attribute::StackProtectReq);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CalleeAttr.hasAttribute(AttributeSet::FunctionIndex,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                     Attribute::StackProtectStrong) &amp;&amp;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;             !CallerAttr.hasAttribute(AttributeSet::FunctionIndex,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                      Attribute::StackProtectReq)) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">removeAttributes</a>(AttributeSet::FunctionIndex, OldSSPAttr);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">addFnAttr</a>(Attribute::StackProtectStrong);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CalleeAttr.hasAttribute(AttributeSet::FunctionIndex,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                     Attribute::StackProtect) &amp;&amp;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;           !CallerAttr.hasAttribute(AttributeSet::FunctionIndex,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                    Attribute::StackProtectReq) &amp;&amp;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;           !CallerAttr.hasAttribute(AttributeSet::FunctionIndex,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                    Attribute::StackProtectStrong))</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">addFnAttr</a>(Attribute::StackProtect);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd4/Function_8cpp_source.html#l00202">Function.cpp:202</a></div></div>
<div class="ttc" id="classllvm_1_1AttrBuilder_html_a59d23ba2e7eac46cbc6cd3086e013b49"><div class="ttname"><a href="../../d5/d93/classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">llvm::AttrBuilder::addAttribute</a></div><div class="ttdeci">AttrBuilder &amp; addAttribute(Attribute::AttrKind Val)</div><div class="ttdoc">Add an attribute to the builder. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d65/Attributes_8cpp_source.html#l01027">Attributes.cpp:1027</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html"><div class="ttname"><a href="../../dc/d16/classllvm_1_1AttributeSet.html">llvm::AttributeSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/Attributes_8h_source.html#l00212">Attributes.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8021d47422cc0a35797629e4ebe6dd3e"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a8021d47422cc0a35797629e4ebe6dd3e">llvm::Function::addFnAttr</a></div><div class="ttdeci">void addFnAttr(Attribute::AttrKind N)</div><div class="ttdoc">Add function attributes to this function. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00176">Function.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a12df9495b95331ab7ed614624e5268d2"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">llvm::Function::removeAttributes</a></div><div class="ttdeci">void removeAttributes(unsigned i, AttributeSet attr)</div><div class="ttdoc">removes the attributes from the list of attributes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd4/Function_8cpp_source.html#l00331">Function.cpp:331</a></div></div>
<div class="ttc" id="classllvm_1_1AttrBuilder_html"><div class="ttname"><a href="../../d5/d93/classllvm_1_1AttrBuilder.html">llvm::AttrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/Attributes_8h_source.html#l00403">Attributes.h:403</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00170">Function.h:170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e44ddb882644d21be1691b84b317908"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void emitAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8d/classllvm_1_1CallSite.html">CallSite</a>&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../db/d5e/classllvm_1_1Twine.html">Twine</a> &amp;&#160;</td>
          <td class="paramname"><em>Msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/daa/Inliner_8cpp_source.html#l00304">304</a> of file <a class="el" href="../../d0/daa/Inliner_8cpp_source.html">Inliner.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                                        {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="../../da/d62/classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="../../d5/d1d/classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = Caller-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="../../dc/d65/classllvm_1_1DebugLoc.html">DebugLoc</a> DLoc = CS.<a class="code" href="../../da/d62/classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#aab8e16a35183ce39aad394714087bcff">getDebugLoc</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="../../d9/d4a/namespacellvm.html#a4bd5dfce28904295046b00a43a33e994">emitOptimizationRemarkAnalysis</a>(Ctx, <a class="code" href="../../d0/daa/Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, *Caller, DLoc, Msg);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd4/Function_8cpp_source.html#l00202">Function.cpp:202</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="../../dc/d65/classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2d/DebugLoc_8h_source.html#l00029">DebugLoc.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00071">Function.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a14eccc6fc74a87bc4d14c280c7574eaf"><div class="ttname"><a href="../../da/d62/classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">llvm::CallSiteBase::getCaller</a></div><div class="ttdeci">FunTy * getCaller() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daf/CallSite_8h_source.html#l00161">CallSite.h:161</a></div></div>
<div class="ttc" id="namespacellvm_html_a4bd5dfce28904295046b00a43a33e994"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a4bd5dfce28904295046b00a43a33e994">llvm::emitOptimizationRemarkAnalysis</a></div><div class="ttdeci">void emitOptimizationRemarkAnalysis(LLVMContext &amp;Ctx, const char *PassName, const Function &amp;Fn, const DebugLoc &amp;DLoc, const Twine &amp;Msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d74/DiagnosticInfo_8cpp_source.html#l00184">DiagnosticInfo.cpp:184</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="../../d0/daa/Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Inliner_8cpp_source.html#l00035">Inliner.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae4c67f835911559821939fb23a2e7aff"><div class="ttname"><a href="../../da/d62/classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">llvm::CallSiteBase::getInstruction</a></div><div class="ttdeci">InstrTy * getInstruction() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daf/CallSite_8h_source.html#l00079">CallSite.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="../../d5/d1d/classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6b/LLVMContext_8h_source.html#l00040">LLVMContext.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_aab8e16a35183ce39aad394714087bcff"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#aab8e16a35183ce39aad394714087bcff">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const </div><div class="ttdoc">getDebugLoc - Return the debug location for this node as a DebugLoc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00196">Instruction.h:196</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb1e9615c7837b58619d030915d9e4fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool InlineCallIfPossible </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8d/classllvm_1_1CallSite.html">CallSite</a>&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d76/classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>IFI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/daa/Inliner_8cpp.html#ad8197eb0f236c8eac8937caf6c8b81d7">InlinedArrayAllocasTy</a> &amp;&#160;</td>
          <td class="paramname"><em>InlinedArrayAllocas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InlineHistory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>InsertLifetime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3a/classllvm_1_1DataLayout.html">DataLayout</a> *&#160;</td>
          <td class="paramname"><em>DL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>InlineCallIfPossible - If it is possible to inline the specified call site, do so and update the CallGraph for this operation.</p>
<p>This function also does some basic book-keeping to update the IR. The InlinedArrayAllocas map keeps track of any allocas that are already available from other functions inlined into the caller. If we are able to inline this call site we attempt to reuse already available allocas or add any new allocas to the set if not possible. </p>

<p>Definition at line <a class="el" href="../../d0/daa/Inliner_8cpp_source.html#l00126">126</a> of file <a class="el" href="../../d0/daa/Inliner_8cpp_source.html">Inliner.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                                       {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *Callee = CS.<a class="code" href="../../da/d62/classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="../../da/d62/classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">getCaller</a>();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// Try to inline the function.  Get the list of static allocas that were</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// inlined.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d4a/namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">InlineFunction</a>(CS, IFI, InsertLifetime))</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="../../d0/daa/Inliner_8cpp.html#a7a414398b6abeb1f2a5f3cc68a8d07aa">AdjustCallerSSPLevel</a>(Caller, Callee);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Look at all of the allocas that we inlined through this call site.  If we</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// have already inlined other allocas through other calls into this function,</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// then we know that they have disjoint lifetimes and that we can merge them.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// There are many heuristics possible for merging these allocas, and the</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// different options have different tradeoffs.  One thing that we *really*</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// don&#39;t want to hurt is SRoA: once inlining happens, often allocas are no</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// longer address taken and so they can be promoted.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Our &quot;solution&quot; for that is to only merge allocas whose outermost type is an</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// array type.  These are usually not promoted because someone is using a</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// variable index into them.  These are also often the most important ones to</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// merge.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// A better solution would be to have real memory lifetime markers in the IR</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// and not have the inliner do any merging of allocas at all.  This would</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// allow the backend to do proper stack slot coloring of all allocas that</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// *actually make it to the backend*, which is really what we want.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Because we don&#39;t have this information, we do this simple and useful hack.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;AllocaInst*, 16&gt;</a> UsedAllocas;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// When processing our SCC, check to see if CS was inlined from some other</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// call site.  For example, if we&#39;re processing &quot;A&quot; in this code:</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">//   A() { B() }</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">//   B() { x = alloca ... C() }</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">//   C() { y = alloca ... }</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// Assume that C was not inlined into B initially, and so we&#39;re processing A</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// and decide to inline B into A.  Doing this makes an alloca available for</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// reuse and makes a callsite (C) available for inlining.  When we process</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// the C call site we don&#39;t want to do any alloca merging between X and Y</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// because their scopes are not disjoint.  We could make this smarter by</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// keeping track of the inline history for each alloca in the</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// InlinedArrayAllocas but this isn&#39;t likely to be a significant win.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (InlineHistory != -1)  <span class="comment">// Only do merging for top-level call sites in SCC.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// Loop over all the allocas we have so far and see if they can be merged with</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// a previously inlined alloca.  If not, remember that we had it.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> AllocaNo = 0, e = IFI.<a class="code" href="../../d0/d76/classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>.size();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;       AllocaNo != e; ++AllocaNo) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = IFI.<a class="code" href="../../d0/d76/classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>[AllocaNo];</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Don&#39;t bother trying to merge array allocations (they will usually be</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// canonicalized to be an allocation *of* an array), or allocations whose</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// type is not itself an array (because we&#39;re afraid of pessimizing SRoA).</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="../../d0/dd7/classllvm_1_1ArrayType.html">ArrayType</a> *ATy = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d0/dd7/classllvm_1_1ArrayType.html">ArrayType</a>&gt;(AI-&gt;<a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">getAllocatedType</a>());</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (!ATy || AI-&gt;<a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html#a066eba0d0eb9d9655c9b580a2a279b0a">isArrayAllocation</a>())</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// Get the list of all available allocas for this array type.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    std::vector&lt;AllocaInst*&gt; &amp;AllocasForType = InlinedArrayAllocas[ATy];</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// Loop over the allocas in AllocasForType to see if we can reuse one.  Note</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// that we have to be careful not to reuse the same &quot;available&quot; alloca for</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// multiple different allocas that we just inlined, we use the &#39;UsedAllocas&#39;</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// set to keep track of which &quot;available&quot; allocas are being used by this</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// function.  Also, AllocasForType can be empty of course!</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">bool</span> MergedAwayAlloca = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = AllocasForType.size(); i != e; ++i) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html">AllocaInst</a> *AvailableAlloca = AllocasForType[i];</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordtype">unsigned</span> Align1 = AI-&gt;<a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">getAlignment</a>(),</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;               Align2 = AvailableAlloca-&gt;<a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">getAlignment</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="comment">// If we don&#39;t have data layout information, and only one alloca is using</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="comment">// the target default, then we can&#39;t safely merge them because we can&#39;t</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="comment">// pick the greater alignment.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">if</span> (!DL &amp;&amp; (!Align1 || !Align2) &amp;&amp; Align1 != Align2)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="comment">// The available alloca has to be in the right function, not in some other</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// function in this SCC.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">if</span> (AvailableAlloca-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != AI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>())</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="comment">// If the inlined function already uses this alloca then we can&#39;t reuse</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// it.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">if</span> (!UsedAllocas.<a class="code" href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">insert</a>(AvailableAlloca))</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="comment">// Otherwise, we *can* reuse it, RAUW AI into AvailableAlloca and declare</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="comment">// success!</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ***MERGED ALLOCA: &quot;</span> &lt;&lt; *AI &lt;&lt; <span class="stringliteral">&quot;\n\t\tINTO: &quot;</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                   &lt;&lt; *AvailableAlloca &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      AI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(AvailableAlloca);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span> (Align1 != Align2) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span> (!Align1 || !Align2) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(DL &amp;&amp; <span class="stringliteral">&quot;DataLayout required to compare default alignments&quot;</span>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;          <span class="keywordtype">unsigned</span> TypeAlign = DL-&gt;<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">getABITypeAlignment</a>(AI-&gt;<a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">getAllocatedType</a>());</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          Align1 = Align1 ? Align1 : TypeAlign;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          Align2 = Align2 ? Align2 : TypeAlign;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span> (Align1 &gt; Align2)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          AvailableAlloca-&gt;<a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html#a42defc71631bc55fcb48421784b276c9">setAlignment</a>(AI-&gt;<a class="code" href="../../d2/dac/classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">getAlignment</a>());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      AI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      MergedAwayAlloca = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      ++NumMergedAllocas;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      IFI.<a class="code" href="../../d0/d76/classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>[AllocaNo] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// If we already nuked the alloca, we&#39;re done with it.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (MergedAwayAlloca)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// If we were unable to merge away the alloca either because there are no</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// allocas of the right type available or because we reused them all</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// already, remember that this alloca came from an inlined function and mark</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// it used so we don&#39;t reuse it for other allocas from this inline</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// operation.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    AllocasForType.push_back(AI);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    UsedAllocas.<a class="code" href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">insert</a>(AI);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/Instruction_8cpp_source.html#l00076">Instruction.cpp:76</a></div></div>
<div class="ttc" id="namespacellvm_html_ae907336cbc9a42264a3b9743a3042b31"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">llvm::InlineFunction</a></div><div class="ttdeci">bool InlineFunction(CallInst *C, InlineFunctionInfo &amp;IFI, bool InsertLifetime=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d44/InlineFunction_8cpp_source.html#l00035">InlineFunction.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a42defc71631bc55fcb48421784b276c9"><div class="ttname"><a href="../../d2/dac/classllvm_1_1AllocaInst.html#a42defc71631bc55fcb48421784b276c9">llvm::AllocaInst::setAlignment</a></div><div class="ttdeci">void setAlignment(unsigned Align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d98/Instructions_8cpp_source.html#l00892">Instructions.cpp:892</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_ae39454c85a776d45d248e38f98a620c6"><div class="ttname"><a href="../../d7/d55/classllvm_1_1SmallPtrSetImpl.html#ae39454c85a776d45d248e38f98a620c6">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/SmallPtrSet_8h_source.html#l00256">SmallPtrSet.h:256</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00071">Function.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_a5e8919aeb8fba23fbe8d7384e7483ddf"><div class="ttname"><a href="../../d0/d76/classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">llvm::InlineFunctionInfo::StaticAllocas</a></div><div class="ttdeci">SmallVector&lt; AllocaInst *, 4 &gt; StaticAllocas</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d44/Cloning_8h_source.html#l00170">Cloning.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a066eba0d0eb9d9655c9b580a2a279b0a"><div class="ttname"><a href="../../d2/dac/classllvm_1_1AllocaInst.html#a066eba0d0eb9d9655c9b580a2a279b0a">llvm::AllocaInst::isArrayAllocation</a></div><div class="ttdeci">bool isArrayAllocation() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d98/Instructions_8cpp_source.html#l00901">Instructions.cpp:901</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a14eccc6fc74a87bc4d14c280c7574eaf"><div class="ttname"><a href="../../da/d62/classllvm_1_1CallSiteBase.html#a14eccc6fc74a87bc4d14c280c7574eaf">llvm::CallSiteBase::getCaller</a></div><div class="ttdeci">FunTy * getCaller() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daf/CallSite_8h_source.html#l00161">CallSite.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a214c60dbb4f1ed467e5a3420db6eefd6"><div class="ttname"><a href="../../d2/dac/classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d98/Instructions_8cpp_source.html#l00907">Instructions.cpp:907</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html"><div class="ttname"><a href="../../d0/dd7/classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/DerivedTypes_8h_source.html#l00332">DerivedTypes.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00340">Value.cpp:340</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_ad441932c20e5b9ba36c8c72a6c7f5ec3"><div class="ttname"><a href="../../d2/dac/classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">llvm::AllocaInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l00105">Instructions.h:105</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="Inliner_8cpp_html_a7a414398b6abeb1f2a5f3cc68a8d07aa"><div class="ttname"><a href="../../d0/daa/Inliner_8cpp.html#a7a414398b6abeb1f2a5f3cc68a8d07aa">AdjustCallerSSPLevel</a></div><div class="ttdeci">static void AdjustCallerSSPLevel(Function *Caller, Function *Callee)</div><div class="ttdoc">If the inlined function had a higher stack protection level than the calling function, then bump up the caller&#39;s stack protection level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/Inliner_8cpp_source.html#l00086">Inliner.cpp:86</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_abb381519d34dcb9ccf673bf7689d0721"><div class="ttname"><a href="../../de/d3a/classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">llvm::DataLayout::getABITypeAlignment</a></div><div class="ttdeci">unsigned getABITypeAlignment(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d66/DataLayout_8cpp_source.html#l00683">DataLayout.cpp:683</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="../../d6/ddc/classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/SmallPtrSet_8h_source.html#l00292">SmallPtrSet.h:292</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="../../d2/dac/classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l00059">Instructions.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a7966cd72245302e38c19138b4ad408b4"><div class="ttname"><a href="../../da/d62/classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">llvm::CallSiteBase::getCalledFunction</a></div><div class="ttdeci">FunTy * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daf/CallSite_8h_source.html#l00093">CallSite.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13bcc9282e847fdb0bcb64f27a2e6002"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool InlineHistoryIncludes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InlineHistoryID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../da/d30/classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; std::pair&lt; <a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *, int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>InlineHistory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>InlineHistoryIncludes - Return true if the specified inline history ID indicates an inline history that includes the specified function. </p>

<p>Definition at line <a class="el" href="../../d0/daa/Inliner_8cpp_source.html#l00429">429</a> of file <a class="el" href="../../d0/daa/Inliner_8cpp_source.html">Inliner.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                                                            {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">while</span> (InlineHistoryID != -1) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<span class="keywordtype">unsigned</span>(InlineHistoryID) &lt; InlineHistory.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;           <span class="stringliteral">&quot;Invalid inline history ID&quot;</span>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (InlineHistory[InlineHistoryID].first == F)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    InlineHistoryID = InlineHistory[InlineHistoryID].second;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00128">SmallVector.h:128</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8def873a39ece42cc6499bb9ac8dd1e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumInlined&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> inlined&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1bb0bcd04aee8126d9990e363bafbb82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumCallsDeleted&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="../../dc/d85/arange-overlap_8cc.html#aba7af6b502e464074d3c31ff9236a22c">call</a> sites&#160;</td>
          <td class="paramname"><em>deleted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">not inlined&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaa22d3d13efa76552add519bff26b28b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumDeleted&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> deleted because all callers found&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa7cc0641623ceea802c5a6deeac4eeeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumMergedAllocas&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of allocas merged together&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d6d3a8008bf9c13b7f5b04fd64edf5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumCallerCallersAnalyzed&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of caller-callers analyzed&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a1b0d4d7d3aa5f9ba2cce84a5039511f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;int&gt; ColdThreshold(&quot;inlinecold-threshold&quot;, cl::Hidden, cl::init(225), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Threshold <a class="el" href="../../df/dca/GlobalMerge_8cpp.html#ac16d0ba14eb60334c1bfc84c4b00734a">for</a> inlining <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> with cold attribute&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a155256dae9eff9b764b9d5eb5a10d8a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;int&gt; HintThreshold(&quot;inlinehint-threshold&quot;, cl::Hidden, cl::init(325), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Threshold <a class="el" href="../../df/dca/GlobalMerge_8cpp.html#ac16d0ba14eb60334c1bfc84c4b00734a">for</a> inlining <a class="el" href="../../d9/d58/LoopExtractor_8cpp.html#ac6229e61e0214888a5ad66ac60cb36ec">functions</a> with <a class="el" href="../../d6/d1d/InlineSimple_8cpp.html#af810eb5ea0a838b654449b7601c18c1e">inline</a> hint&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abc7dd6abf4a8a82ab9abcff5686aacf8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;int&gt; InlineLimit(&quot;inline-threshold&quot;, cl::Hidden, cl::init(225), cl::ZeroOrMore, <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Control the amount of inlining to perform (default = 225)&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a57b6a9cbde44c147a096830db071daf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> int OptSizeThreshold = 75</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/daa/Inliner_8cpp_source.html#l00063">63</a> of file <a class="el" href="../../d0/daa/Inliner_8cpp_source.html">Inliner.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_211fb134ce6a4c3329568c5b3817f0ae.html">llvm</a></li><li class="navelem"><a class="el" href="../../dir_68ef2609279916640dd02c22eb347286.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_5c496d779f2cb0b9e39446f1a293372b.html">Transforms</a></li><li class="navelem"><a class="el" href="../../dir_f8458966ae5c12ab04224ed6827e9ee5.html">IPO</a></li><li class="navelem"><a class="el" href="../../d0/daa/Inliner_8cpp.html">Inliner.cpp</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:43:54 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
