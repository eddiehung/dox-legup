<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: InstCombineAndOrXor.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d1f/InstCombineAndOrXor_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">InstCombineAndOrXor.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d79/InstCombine_8h_source.html">InstCombine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d48/InstructionSimplify_8h_source.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d0/da2/ConstantRange_8h_source.html">llvm/IR/ConstantRange.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d3/d4d/Intrinsics_8h_source.html">llvm/IR/Intrinsics.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d65/PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/de5/CmpInstAnalysis_8h_source.html">llvm/Transforms/Utils/CmpInstAnalysis.h</a>&quot;</code><br/>
</div>
<p><a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;instcombine&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa9c705ecec80ebd584bb3d54b48f7ee1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1">MaskedICmpType</a> { <br/>
&#160;&#160;<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a> = 1, 
<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a> = 2, 
<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a> = 4, 
<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a> = 8, 
<br/>
&#160;&#160;<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a> = 16, 
<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a> = 32, 
<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a> = 64, 
<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a> = 128, 
<br/>
&#160;&#160;<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a> = 256, 
<a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a> = 512
<br/>
 }</td></tr>
<tr class="separator:aa9c705ecec80ebd584bb3d54b48f7ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa152a1c292e3c6e4c11ac7ac34c38c3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#afa152a1c292e3c6e4c11ac7ac34c38c3">isFreeToInvert</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *V)</td></tr>
<tr class="separator:afa152a1c292e3c6e4c11ac7ac34c38c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62fbad44784b52824ea165a4695299f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa62fbad44784b52824ea165a4695299f">dyn_castNotVal</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *V)</td></tr>
<tr class="separator:aa62fbad44784b52824ea165a4695299f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ead1eb9f9f19667b0f79d01214612b"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a32ead1eb9f9f19667b0f79d01214612b">getFCmpCode</a> (FCmpInst::Predicate CC, bool &amp;isOrdered)</td></tr>
<tr class="separator:a32ead1eb9f9f19667b0f79d01214612b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529ff4b10087991fd0e737adbf94b423"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a529ff4b10087991fd0e737adbf94b423">getNewICmpValue</a> (bool Sign, unsigned Code, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *LHS, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *RHS, <a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aa733c1cd80a60826574461f05ede6e84">InstCombiner::BuilderTy</a> *<a class="el" href="../../d5/dfd/MCJIT_2lazy_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>)</td></tr>
<tr class="separator:a529ff4b10087991fd0e737adbf94b423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7627ec3ea1e8ae5e84826e213b917abc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a7627ec3ea1e8ae5e84826e213b917abc">getFCmpValue</a> (bool isordered, unsigned code, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *LHS, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *RHS, <a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aa733c1cd80a60826574461f05ede6e84">InstCombiner::BuilderTy</a> *<a class="el" href="../../d5/dfd/MCJIT_2lazy_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>)</td></tr>
<tr class="separator:a7627ec3ea1e8ae5e84826e213b917abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add947a35dd442e049fda602d9dc9cd20"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#add947a35dd442e049fda602d9dc9cd20">isRunOfOnes</a> (<a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *Val, uint32_t &amp;MB, uint32_t &amp;ME)</td></tr>
<tr class="separator:add947a35dd442e049fda602d9dc9cd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed27d8ce11c8fb8b5cac79cc959bd5db"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aed27d8ce11c8fb8b5cac79cc959bd5db">getTypeOfMaskedICmp</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="el" href="../../d4/dc4/structA.html">A</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *B, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="el" href="../../db/db2/structC.html">C</a>, ICmpInst::Predicate SCC)</td></tr>
<tr class="separator:aed27d8ce11c8fb8b5cac79cc959bd5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c36c07a47775cef8f8e93d8090d919"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a09c36c07a47775cef8f8e93d8090d919">conjugateICmpMask</a> (unsigned Mask)</td></tr>
<tr class="separator:a09c36c07a47775cef8f8e93d8090d919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75e7b9606d30b9bde1384efd6917580"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa75e7b9606d30b9bde1384efd6917580">decomposeBitTestICmp</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ICmpInst::Predicate &amp;Pred, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="../../d2/d61/TestPasses_8cpp.html#af8fc01af387e8354dd2367faafad6040">X</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="../../d3/db9/PrintSCC_8cpp.html#a67f9d54593776331246b7ffe34c2f0b6">Y</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="../../d8/d38/LoopPipeline_8cpp.html#a6ed41ed2078ee8708b8fa082de68f7b7">Z</a>)</td></tr>
<tr class="separator:aa75e7b9606d30b9bde1384efd6917580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187cc5f9a7a949ba824b4ebc18858f1a"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a187cc5f9a7a949ba824b4ebc18858f1a">foldLogOpOfMaskedICmpsHelper</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="../../d4/dc4/structA.html">A</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;B, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="../../db/db2/structC.html">C</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;D, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;E, <a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *LHS, <a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *RHS, ICmpInst::Predicate &amp;LHSCC, ICmpInst::Predicate &amp;RHSCC)</td></tr>
<tr class="separator:a187cc5f9a7a949ba824b4ebc18858f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907d394944052b35b29b6f6e0c923e08"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a907d394944052b35b29b6f6e0c923e08">foldLogOpOfMaskedICmps</a> (<a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *LHS, <a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *RHS, bool IsAnd, <a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aa733c1cd80a60826574461f05ede6e84">llvm::InstCombiner::BuilderTy</a> *<a class="el" href="../../d5/dfd/MCJIT_2lazy_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a>)</td></tr>
<tr class="separator:a907d394944052b35b29b6f6e0c923e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6495ab03039b1ee2bfecf5e1d5ae3c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aea6495ab03039b1ee2bfecf5e1d5ae3c">CollectBSwapParts</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *V, int OverallLeftShift, uint32_t ByteMask, <a class="el" href="../../da/d30/classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> * &gt; &amp;ByteValues)</td></tr>
<tr class="separator:aea6495ab03039b1ee2bfecf5e1d5ae3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f11c9f64a41930051d33f8dfcfab10"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a20f11c9f64a41930051d33f8dfcfab10">MatchSelectFromAndOr</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="el" href="../../d4/dc4/structA.html">A</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *B, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="el" href="../../db/db2/structC.html">C</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *D)</td></tr>
<tr class="separator:a20f11c9f64a41930051d33f8dfcfab10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;instcombine&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00023">23</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1">MaskedICmpType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>enum for classifying (icmp eq (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B), <a class="el" href="../../db/db2/structC.html">C</a>) and (icmp ne (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B), <a class="el" href="../../db/db2/structC.html">C</a>) One of <a class="el" href="../../d4/dc4/structA.html">A</a> and B is considered the mask, the other the value. This is described as the "AMask" or "BMask" part of the enum. If the enum contains only "Mask", then both <a class="el" href="../../d4/dc4/structA.html">A</a> and B can be considered masks. If <a class="el" href="../../d4/dc4/structA.html">A</a> is the mask, then it was proven, that (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; <a class="el" href="../../db/db2/structC.html">C</a>) == <a class="el" href="../../db/db2/structC.html">C</a>. This is trivial if <a class="el" href="../../db/db2/structC.html">C</a> == <a class="el" href="../../d4/dc4/structA.html">A</a>, or <a class="el" href="../../db/db2/structC.html">C</a> == 0. If both <a class="el" href="../../d4/dc4/structA.html">A</a> and <a class="el" href="../../db/db2/structC.html">C</a> are constants, this proof is also easy. For the following explanations we assume that <a class="el" href="../../d4/dc4/structA.html">A</a> is the mask. The part "AllOnes" declares, that the comparison is true only if (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B) == <a class="el" href="../../d4/dc4/structA.html">A</a>, or all bits of <a class="el" href="../../d4/dc4/structA.html">A</a> are set in B. Example: (icmp eq (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; 3), 3) -&gt; FoldMskICmp_AMask_AllOnes The part "AllZeroes" declares, that the comparison is true only if (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B) == 0, or all bits of <a class="el" href="../../d4/dc4/structA.html">A</a> are cleared in B. Example: (icmp eq (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; 3), 0) -&gt; FoldMskICmp_Mask_AllZeroes The part "Mixed" declares, that (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B) == <a class="el" href="../../db/db2/structC.html">C</a> and <a class="el" href="../../db/db2/structC.html">C</a> might or might not contain any number of one bits and zero bits. Example: (icmp eq (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; 3), 1) -&gt; FoldMskICmp_AMask_Mixed The Part "Not" means, that in above descriptions "==" should be replaced by "!=". Example: (icmp ne (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; 3), 3) -&gt; FoldMskICmp_AMask_NotAllOnes If the mask <a class="el" href="../../d4/dc4/structA.html">A</a> contains a single bit, then the following is equivalent: (icmp eq (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B), <a class="el" href="../../d4/dc4/structA.html">A</a>) equals (icmp ne (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B), 0) (icmp ne (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B), <a class="el" href="../../d4/dc4/structA.html">A</a>) equals (icmp eq (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B), 0) </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07"></a>FoldMskICmp_AMask_AllOnes</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585"></a>FoldMskICmp_AMask_NotAllOnes</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a"></a>FoldMskICmp_BMask_AllOnes</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654"></a>FoldMskICmp_BMask_NotAllOnes</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4"></a>FoldMskICmp_Mask_AllZeroes</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a"></a>FoldMskICmp_Mask_NotAllZeroes</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2"></a>FoldMskICmp_AMask_Mixed</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2"></a>FoldMskICmp_AMask_NotMixed</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66"></a>FoldMskICmp_BMask_Mixed</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62"></a>FoldMskICmp_BMask_NotMixed</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00401">401</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a>           =     1,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a>        =     2,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a>           =     4,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a>        =     8,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a>          =    16,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a>       =    32,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a>             =    64,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a>          =   128,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a>             =   256,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a>          =   512</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;};</div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00410">InstCombineAndOrXor.cpp:410</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00402">InstCombineAndOrXor.cpp:402</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00411">InstCombineAndOrXor.cpp:411</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00407">InstCombineAndOrXor.cpp:407</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00409">InstCombineAndOrXor.cpp:409</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00408">InstCombineAndOrXor.cpp:408</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00403">InstCombineAndOrXor.cpp:403</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00404">InstCombineAndOrXor.cpp:404</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00406">InstCombineAndOrXor.cpp:406</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00405">InstCombineAndOrXor.cpp:405</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aea6495ab03039b1ee2bfecf5e1d5ae3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool CollectBSwapParts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>OverallLeftShift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ByteMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d30/classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>ByteValues</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>CollectBSwapParts - Analyze the specified subexpression and see if it is capable of providing pieces of a bswap. The subexpression provides pieces of a bswap if it is proven that each of the non-zero bytes in the output of the expression came from the corresponding "byte swapped" byte in some other value. For example, if the current subexpression is "(shl i32 %X, 24)" then we know that the expression deposits the low byte of X into the high byte of the bswap result and that all other bytes are zero. This expression is accepted, the high byte of ByteValues is set to X to indicate a correct match.</p>
<p>This function returns true if the match was unsuccessful and false if so. On entry to the function the "OverallLeftShift" is a signed integer value indicating the number of bytes that the subexpression is later shifted. For example, if the expression is later right shifted by 16 bits, the OverallLeftShift value would be -2 on entry. This is used to specify which byte of ByteValues is actually being set.</p>
<p>Similarly, ByteMask is a bitmask where a bit is clear if its corresponding byte is masked to zero by a user. For example, in (X &amp; 255), X will be processed with a bytemask of 1. Because bytemask is 32-bits, this limits this function to working on up to 32-byte (256 bit) values. ByteMask is always in the local (OverallLeftShift) coordinate space. </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l01400">1400</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                                                                    {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V)) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="comment">// If this is an or instruction, it may be an inner node of the bswap.</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == <a class="code" href="../../db/dad/namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aea6495ab03039b1ee2bfecf5e1d5ae3c">CollectBSwapParts</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0), OverallLeftShift, ByteMask,</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                               ByteValues) ||</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;             <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aea6495ab03039b1ee2bfecf5e1d5ae3c">CollectBSwapParts</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1), OverallLeftShift, ByteMask,</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                               ByteValues);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="comment">// If this is a logical shift by a constant multiple of 8, recurse with</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="comment">// OverallLeftShift and ByteMask adjusted.</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isLogicalShift() &amp;&amp; isa&lt;ConstantInt&gt;(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1))) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt =</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        cast&lt;ConstantInt&gt;(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1))-&gt;getLimitedValue(~0U);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="comment">// Ensure the shift amount is defined and of a byte value.</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <span class="keywordflow">if</span> ((ShAmt &amp; 7) || (ShAmt &gt; 8*ByteValues.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()))</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordtype">unsigned</span> ByteShift = ShAmt &gt;&gt; 3;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == Instruction::Shl) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="comment">// X &lt;&lt; 2 -&gt; collect(X, +2)</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        OverallLeftShift += ByteShift;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        ByteMask &gt;&gt;= ByteShift;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="comment">// X &gt;&gt;u 2 -&gt; collect(X, -2)</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        OverallLeftShift -= ByteShift;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        ByteMask &lt;&lt;= ByteShift;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        ByteMask &amp;= (~0U &gt;&gt; (32-ByteValues.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()));</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keywordflow">if</span> (OverallLeftShift &gt;= (<span class="keywordtype">int</span>)ByteValues.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordflow">if</span> (OverallLeftShift &lt;= -(<span class="keywordtype">int</span>)ByteValues.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aea6495ab03039b1ee2bfecf5e1d5ae3c">CollectBSwapParts</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0), OverallLeftShift, ByteMask,</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                               ByteValues);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="comment">// If this is a logical &#39;and&#39; with a mask that clears bytes, clear the</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="comment">// corresponding bytes in ByteMask.</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode() == <a class="code" href="../../db/dad/namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a> &amp;&amp;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        isa&lt;ConstantInt&gt;(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1))) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <span class="comment">// Scan every byte of the and mask, seeing if the byte is either 0 or 255.</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keywordtype">unsigned</span> NumBytes = ByteValues.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> Byte(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()-&gt;getPrimitiveSizeInBits(), 255);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;AndMask = cast&lt;ConstantInt&gt;(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(1))-&gt;getValue();</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i != NumBytes; ++i, Byte &lt;&lt;= 8) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="comment">// If this byte is masked out by a later operation, we don&#39;t care what</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">// the and mask is.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">if</span> ((ByteMask &amp; (1 &lt;&lt; i)) == 0)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="comment">// If the AndMask is all zeros for this byte, clear the bit.</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> MaskB = AndMask &amp; Byte;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keywordflow">if</span> (MaskB == 0) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;          ByteMask &amp;= ~(1U &lt;&lt; i);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="comment">// If the AndMask is not all ones for this byte, it&#39;s not a bytezap.</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="keywordflow">if</span> (MaskB != Byte)</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="comment">// Otherwise, this byte is kept.</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aea6495ab03039b1ee2bfecf5e1d5ae3c">CollectBSwapParts</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(0), OverallLeftShift, ByteMask,</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                               ByteValues);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">// Okay, we got to something that isn&#39;t a shift, &#39;or&#39; or &#39;and&#39;.  This must be</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// the input value to the bswap.  Some observations: 1) if more than one byte</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// is demanded from this input, then it could not be successfully assembled</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="comment">// into a byteswap.  At least one of the two bytes would not be aligned with</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="comment">// their ultimate destination.</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d4a/namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">isPowerOf2_32</a>(ByteMask)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordtype">unsigned</span> InputByteNo = <a class="code" href="../../d9/d4a/namespacellvm.html#a7a7bd9bd4e9b993241e4bf85f2fb7971">countTrailingZeros</a>(ByteMask);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="comment">// 2) The input and ultimate destinations must line up: if byte 3 of an i32</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="comment">// is demanded, it needs to go into byte 0 of the result.  This means that the</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="comment">// byte needs to be shifted until it lands in the right byte bucket.  The</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">// shift amount depends on the position: if the byte is coming from the high</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">// part of the value (e.g. byte 3) then it must be shifted right.  If from the</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">// low part, it must be shifted left.</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordtype">unsigned</span> DestByteNo = InputByteNo + OverallLeftShift;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">if</span> (ByteValues.<a class="code" href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()-1-DestByteNo != InputByteNo)</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="comment">// If the destination byte value is already defined, the values are or&#39;d</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="comment">// together, which isn&#39;t a bswap (unless it&#39;s an or of the same bits).</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">if</span> (ByteValues[DestByteNo] &amp;&amp; ByteValues[DestByteNo] != V)</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  ByteValues[DestByteNo] = V;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="../../d4/d68/classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00128">SmallVector.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aea6495ab03039b1ee2bfecf5e1d5ae3c"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aea6495ab03039b1ee2bfecf5e1d5ae3c">CollectBSwapParts</a></div><div class="ttdeci">static bool CollectBSwapParts(Value *V, int OverallLeftShift, uint32_t ByteMask, SmallVectorImpl&lt; Value * &gt; &amp;ByteValues)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l01400">InstCombineAndOrXor.cpp:1400</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a22f056804d2b9882f74adc905872bc39"><div class="ttname"><a href="../../db/dad/namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">llvm::APIntOps::Or</a></div><div class="ttdeci">APInt Or(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise OR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01870">APInt.h:1870</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a684cfe02c582e8d75cd6d457e63e6c25"><div class="ttname"><a href="../../db/dad/namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">llvm::APIntOps::And</a></div><div class="ttdeci">APInt And(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise AND function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01865">APInt.h:1865</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="namespacellvm_html_af4d1a918800291e75b01ce1447be0e83"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">llvm::isPowerOf2_32</a></div><div class="ttdeci">bool isPowerOf2_32(uint32_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dab/MathExtras_8h_source.html#l00363">MathExtras.h:363</a></div></div>
<div class="ttc" id="namespacellvm_html_a7a7bd9bd4e9b993241e4bf85f2fb7971"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7a7bd9bd4e9b993241e4bf85f2fb7971">llvm::countTrailingZeros</a></div><div class="ttdeci">std::enable_if&lt; std::numeric_limits&lt; T &gt;::is_integer &amp;&amp;!std::numeric_limits&lt; T &gt;::is_signed, std::size_t &gt;::type countTrailingZeros(T Val, ZeroBehavior ZB=ZB_Width)</div><div class="ttdoc">Count number of 0&#39;s from the least significant bit to the most stopping at the first 1...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dab/MathExtras_8h_source.html#l00049">MathExtras.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09c36c07a47775cef8f8e93d8090d919"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned conjugateICmpMask </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>Mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert an analysis of a masked ICmp into its equivalent if all boolean operations had the opposite sense. Since each "NotXXX" flag (recording !=) is adjacent to the corresponding normal flag (recording ==), this just involves swapping those bits over. </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00487">487</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                                 {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordtype">unsigned</span> NewMask;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  NewMask = (Mask &amp; (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a> | <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a> |</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                     <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a> | <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a> |</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                     <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a>))</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            &lt;&lt; 1;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  NewMask |=</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      (Mask &amp; (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a> | <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a> |</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;               <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a> | <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a> |</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;               <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a>))</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      &gt;&gt; 1;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">return</span> NewMask;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00410">InstCombineAndOrXor.cpp:410</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00402">InstCombineAndOrXor.cpp:402</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00411">InstCombineAndOrXor.cpp:411</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00407">InstCombineAndOrXor.cpp:407</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00409">InstCombineAndOrXor.cpp:409</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00408">InstCombineAndOrXor.cpp:408</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00403">InstCombineAndOrXor.cpp:403</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00404">InstCombineAndOrXor.cpp:404</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00406">InstCombineAndOrXor.cpp:406</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00405">InstCombineAndOrXor.cpp:405</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa75e7b9606d30b9bde1384efd6917580"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool decomposeBitTestICmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ICmpInst::Predicate &amp;&#160;</td>
          <td class="paramname"><em>Pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>Z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>decomposeBitTestICmp - Decompose an icmp into the form ((X &amp; Y) pred Z) if possible. The returned predicate is either == or !=. Returns false if decomposition fails. </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00506">506</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                                  {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="../../db/db2/structC.html">C</a> = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(I-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> (!C)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>()) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_SLT:</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// X &lt; 0 is equivalent to (X &amp; SignBit) != 0.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (!C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>())</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    Y = ConstantInt::get(I-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), APInt::getSignBit(C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>()));</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    Pred = ICmpInst::ICMP_NE;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_SGT:</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// X &gt; -1 is equivalent to (X &amp; SignBit) == 0.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (!C-&gt;<a class="code" href="../../d1/d57/classllvm_1_1Constant.html#ac8ddb745480a7e75a3862ddf0be3a298">isAllOnesValue</a>())</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    Y = ConstantInt::get(I-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), APInt::getSignBit(C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>()));</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    Pred = ICmpInst::ICMP_EQ;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_ULT:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// X &lt;u 2^n is equivalent to (X &amp; ~(2^n-1)) == 0.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (!C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">isPowerOf2</a>())</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    Y = ConstantInt::get(I-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), -C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    Pred = ICmpInst::ICMP_EQ;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGT:</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// X &gt;u 2^n-1 is equivalent to (X &amp; ~(2^n-1)) != 0.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (!(C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() + 1).isPowerOf2())</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    Y = ConstantInt::get(I-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), ~C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    Pred = ICmpInst::ICMP_NE;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  X = I-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  Z = ConstantInt::getNullValue(C-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a240475f85dea79ec272c578fdf89acf1">getType</a>());</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a240475f85dea79ec272c578fdf89acf1"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a240475f85dea79ec272c578fdf89acf1">llvm::ConstantInt::getType</a></div><div class="ttdeci">IntegerType * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00139">Constants.h:139</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a58f423c78837f9854278b6026b34714a"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">llvm::ConstantInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">getBitWidth - Return the bitwidth of this constant. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00110">Constants.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00735">InstrTypes.h:735</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00615">Value.cpp:615</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af3deb6522c4fe2043fe07af2ec90190c"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">llvm::APInt::isPowerOf2</a></div><div class="ttdeci">bool isPowerOf2() const </div><div class="ttdoc">Check if this APInt&#39;s value is a power of two greater than zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00388">APInt.h:388</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_ac8ddb745480a7e75a3862ddf0be3a298"><div class="ttname"><a href="../../d1/d57/classllvm_1_1Constant.html#ac8ddb745480a7e75a3862ddf0be3a298">llvm::Constant::isAllOnesValue</a></div><div class="ttdeci">bool isAllOnesValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc4/Constants_8cpp_source.html#l00088">Constants.cpp:88</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="structC_html"><div class="ttname"><a href="../../db/db2/structC.html">C</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9e/dwarfdump-pubnames_8cc_source.html#l00005">dwarfdump-pubnames.cc:5</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa62fbad44784b52824ea165a4695299f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* dyn_castNotVal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00043">43</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                              {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// If this is not(not(x)) don&#39;t return that this is a not: we want the two</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// not&#39;s to be folded first.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">if</span> (BinaryOperator::isNot(V)) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Operand = BinaryOperator::getNotArgument(V);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#afa152a1c292e3c6e4c11ac7ac34c38c3">isFreeToInvert</a>(Operand))</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <span class="keywordflow">return</span> Operand;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">// Constants can be considered to be not&#39;ed values...</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="../../db/db2/structC.html">C</a> = dyn_cast&lt;ConstantInt&gt;(V))</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> ConstantInt::get(<a class="code" href="../../db/db2/structC.html">C</a>-&gt;getType(), ~<a class="code" href="../../db/db2/structC.html">C</a>-&gt;getValue());</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_afa152a1c292e3c6e4c11ac7ac34c38c3"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#afa152a1c292e3c6e4c11ac7ac34c38c3">isFreeToInvert</a></div><div class="ttdeci">static bool isFreeToInvert(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00027">InstCombineAndOrXor.cpp:27</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="structC_html"><div class="ttname"><a href="../../db/db2/structC.html">C</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9e/dwarfdump-pubnames_8cc_source.html#l00005">dwarfdump-pubnames.cc:5</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a907d394944052b35b29b6f6e0c923e08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* foldLogOpOfMaskedICmps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *&#160;</td>
          <td class="paramname"><em>LHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *&#160;</td>
          <td class="paramname"><em>RHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>IsAnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aa733c1cd80a60826574461f05ede6e84">llvm::InstCombiner::BuilderTy</a> *&#160;</td>
          <td class="paramname"><em>Builder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>foldLogOpOfMaskedICmps: try to fold (icmp(A &amp; B) ==/!= <a class="el" href="../../db/db2/structC.html">C</a>) &amp;/| (icmp(A &amp; D) ==/!= E) into a single (icmp(A &amp; X) ==/!= Y) </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00668">668</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                                                         {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="code" href="../../d4/dc4/structA.html">A</a> = <span class="keyword">nullptr</span>, *B = <span class="keyword">nullptr</span>, *<a class="code" href="../../db/db2/structC.html">C</a> = <span class="keyword">nullptr</span>, *D = <span class="keyword">nullptr</span>, *E = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <a class="code" href="../../d4/d19/namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">ICmpInst::Predicate</a> LHSCC = LHS-&gt;<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>(), RHSCC = RHS-&gt;<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../d3/d1d/X86DisassemblerTables_8h.html#ac063fabe74fdb4e6fb4b95300789d890">mask</a> = <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a187cc5f9a7a949ba824b4ebc18858f1a">foldLogOpOfMaskedICmpsHelper</a>(A, B, <a class="code" href="../../db/db2/structC.html">C</a>, D, E, LHS, RHS,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                               LHSCC, RHSCC);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">if</span> (mask == 0) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(ICmpInst::isEquality(LHSCC) &amp;&amp; ICmpInst::isEquality(RHSCC) &amp;&amp;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;         <span class="stringliteral">&quot;foldLogOpOfMaskedICmpsHelper must return an equality predicate.&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// In full generality:</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">//     (icmp (A &amp; B) Op C) | (icmp (A &amp; D) Op E)</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// ==  ![ (icmp (A &amp; B) !Op C) &amp; (icmp (A &amp; D) !Op E) ]</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="comment">// If the latter can be converted into (icmp (A &amp; X) Op Y) then the former is</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// equivalent to (icmp (A &amp; X) !Op Y).</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="comment">// Therefore, we can pretend for the rest of this function that we&#39;re dealing</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// with the conjunction, provided we flip the sense of any comparisons (both</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// input and output).</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">// In most cases we&#39;re going to produce an EQ for the &quot;&amp;&amp;&quot; case.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="../../d4/d19/namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">ICmpInst::Predicate</a> NEWCC = IsAnd ? ICmpInst::ICMP_EQ : ICmpInst::ICMP_NE;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (!IsAnd) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// Convert the masking analysis into its equivalent with negated</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// comparisons.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    mask = <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a09c36c07a47775cef8f8e93d8090d919">conjugateICmpMask</a>(mask);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span> (mask &amp; <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a>) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">// (icmp eq (A &amp; B), 0) &amp; (icmp eq (A &amp; D), 0)</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// -&gt; (icmp eq (A &amp; (B|D)), 0)</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* newOr = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a8f55dd4237be6778517ddd752ca8b76a">CreateOr</a>(B, D);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* newAnd = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(A, newOr);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// we can&#39;t use C as zero, because we might actually handle</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">//   (icmp ne (A &amp; B), B) &amp; (icmp ne (A &amp; D), D)</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// with B and D, having a single bit set</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* <a class="code" href="../../da/d01/yaml2elf_8cpp.html#aa15f84f0499130c4cec8c17e7f7376ce">zero</a> = Constant::getNullValue(A-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">return</span> Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a495d91fb3d2662acbffd0162c56153ed">CreateICmp</a>(NEWCC, newAnd, zero);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">if</span> (mask &amp; <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a>) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// (icmp eq (A &amp; B), B) &amp; (icmp eq (A &amp; D), D)</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// -&gt; (icmp eq (A &amp; (B|D)), (B|D))</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* newOr = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a8f55dd4237be6778517ddd752ca8b76a">CreateOr</a>(B, D);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* newAnd = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(A, newOr);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">return</span> Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a495d91fb3d2662acbffd0162c56153ed">CreateICmp</a>(NEWCC, newAnd, newOr);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">if</span> (mask &amp; <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a>) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// (icmp eq (A &amp; B), A) &amp; (icmp eq (A &amp; D), A)</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// -&gt; (icmp eq (A &amp; (B&amp;D)), A)</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* newAnd1 = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(B, D);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* newAnd = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(A, newAnd1);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span> Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a495d91fb3d2662acbffd0162c56153ed">CreateICmp</a>(NEWCC, newAnd, A);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// Remaining cases assume at least that B and D are constant, and depend on</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// their actual values. This isn&#39;t strictly, necessary, just a &quot;handle the</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// easy cases for now&quot; decision.</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *BCst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(B);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">if</span> (!BCst) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *DCst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(D);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">if</span> (!DCst) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">if</span> (mask &amp; (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a> | <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a>)) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">// (icmp ne (A &amp; B), 0) &amp; (icmp ne (A &amp; D), 0) and</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// (icmp ne (A &amp; B), B) &amp; (icmp ne (A &amp; D), D)</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">//     -&gt; (icmp ne (A &amp; B), 0) or (icmp ne (A &amp; D), 0)</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">// Only valid if one of the masks is a superset of the other (check &quot;B&amp;D&quot; is</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// the same as either B or D).</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> NewMask = BCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() &amp; DCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span> (NewMask == BCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>())</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">return</span> LHS;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NewMask == DCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>())</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">return</span> RHS;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordflow">if</span> (mask &amp; <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a>) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// (icmp ne (A &amp; B), B) &amp; (icmp ne (A &amp; D), D)</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">//     -&gt; (icmp ne (A &amp; B), A) or (icmp ne (A &amp; D), A)</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// Only valid if one of the masks is a superset of the other (check &quot;B|D&quot; is</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// the same as either B or D).</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> NewMask = BCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() | DCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (NewMask == BCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>())</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">return</span> LHS;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NewMask == DCst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>())</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordflow">return</span> RHS;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (mask &amp; <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a>) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// (icmp eq (A &amp; B), C) &amp; (icmp eq (A &amp; D), E)</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">// We already know that B &amp; C == C &amp;&amp; D &amp; E == E.</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// If we can prove that (B &amp; D) &amp; (C ^ E) == 0, that is, the bits of</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">// C and E, which are shared by both the mask B and the mask D, don&#39;t</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// contradict, then we can transform to</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// -&gt; (icmp eq (A &amp; (B|D)), (C|E))</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// Currently, we only handle the case of B, C, D, and E being constant.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">// we can&#39;t simply use C and E, because we might actually handle</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">//   (icmp ne (A &amp; B), B) &amp; (icmp eq (A &amp; D), D)</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// with B and D, having a single bit set</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CCst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(<a class="code" href="../../d3/de6/namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">C</a>);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span> (!CCst) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (LHSCC != NEWCC)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      CCst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;( ConstantExpr::getXor(BCst, CCst) );</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *ECst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(E);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (!ECst) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span> (RHSCC != NEWCC)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      ECst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;( ConstantExpr::getXor(DCst, ECst) );</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>* MCst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      ConstantExpr::getAnd(ConstantExpr::getAnd(BCst, DCst),</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                           ConstantExpr::getXor(CCst, ECst)) );</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">// if there is a conflict we should actually return a false for the</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// whole construct</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (!MCst-&gt;isZero())</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *newOr1 = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a8f55dd4237be6778517ddd752ca8b76a">CreateOr</a>(B, D);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *newOr2 = ConstantExpr::getOr(CCst, ECst);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *newAnd = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(A, newOr1);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a495d91fb3d2662acbffd0162c56153ed">CreateICmp</a>(NEWCC, newAnd, newOr2);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a495d91fb3d2662acbffd0162c56153ed"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a495d91fb3d2662acbffd0162c56153ed">llvm::IRBuilder::CreateICmp</a></div><div class="ttdeci">Value * CreateICmp(CmpInst::Predicate P, Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01321">IRBuilder.h:1321</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00410">InstCombineAndOrXor.cpp:410</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="../../d3/de6/namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d55/CallingConv_8h_source.html#l00031">CallingConv.h:31</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00402">InstCombineAndOrXor.cpp:402</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_a187cc5f9a7a949ba824b4ebc18858f1a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a187cc5f9a7a949ba824b4ebc18858f1a">foldLogOpOfMaskedICmpsHelper</a></div><div class="ttdeci">static unsigned foldLogOpOfMaskedICmpsHelper(Value *&amp;A, Value *&amp;B, Value *&amp;C, Value *&amp;D, Value *&amp;E, ICmpInst *LHS, ICmpInst *RHS, ICmpInst::Predicate &amp;LHSCC, ICmpInst::Predicate &amp;RHSCC)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00554">InstCombineAndOrXor.cpp:554</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a197d5dd77cad4560a082900962a830aa"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">llvm::IRBuilder::CreateAnd</a></div><div class="ttdeci">Value * CreateAnd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00806">IRBuilder.h:806</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a8f55dd4237be6778517ddd752ca8b76a"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a8f55dd4237be6778517ddd752ca8b76a">llvm::IRBuilder::CreateOr</a></div><div class="ttdeci">Value * CreateOr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00822">IRBuilder.h:822</a></div></div>
<div class="ttc" id="yaml2elf_8cpp_html_aa15f84f0499130c4cec8c17e7f7376ce"><div class="ttname"><a href="../../da/d01/yaml2elf_8cpp.html#aa15f84f0499130c4cec8c17e7f7376ce">zero</a></div><div class="ttdeci">static void zero(T &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d01/yaml2elf_8cpp_source.html#l00093">yaml2elf.cpp:93</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00407">InstCombineAndOrXor.cpp:407</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_a09c36c07a47775cef8f8e93d8090d919"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#a09c36c07a47775cef8f8e93d8090d919">conjugateICmpMask</a></div><div class="ttdeci">static unsigned conjugateICmpMask(unsigned Mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00487">InstCombineAndOrXor.cpp:487</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00735">InstrTypes.h:735</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00403">InstCombineAndOrXor.cpp:403</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00404">InstCombineAndOrXor.cpp:404</a></div></div>
<div class="ttc" id="structA_html"><div class="ttname"><a href="../../d4/dc4/structA.html">A</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00001">test.h:1</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00406">InstCombineAndOrXor.cpp:406</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="../../d4/d19/namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2a/PPCPredicates_8h_source.html#l00027">PPCPredicates.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="structC_html"><div class="ttname"><a href="../../db/db2/structC.html">C</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9e/dwarfdump-pubnames_8cc_source.html#l00005">dwarfdump-pubnames.cc:5</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00405">InstCombineAndOrXor.cpp:405</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="X86DisassemblerTables_8h_html_ac063fabe74fdb4e6fb4b95300789d890"><div class="ttname"><a href="../../d3/d1d/X86DisassemblerTables_8h.html#ac063fabe74fdb4e6fb4b95300789d890">mask</a></div><div class="ttdeci">****IC is the context corresponding to the mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/X86DisassemblerTables_8h_source.html#l00191">X86DisassemblerTables.h:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a187cc5f9a7a949ba824b4ebc18858f1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned foldLogOpOfMaskedICmpsHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&amp;&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *&#160;</td>
          <td class="paramname"><em>LHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> *&#160;</td>
          <td class="paramname"><em>RHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ICmpInst::Predicate &amp;&#160;</td>
          <td class="paramname"><em>LHSCC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ICmpInst::Predicate &amp;&#160;</td>
          <td class="paramname"><em>RHSCC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>foldLogOpOfMaskedICmpsHelper: handle (icmp(A &amp; B) ==/!= <a class="el" href="../../db/db2/structC.html">C</a>) &amp;/| (icmp(A &amp; D) ==/!= E) return the set of pattern classes (from MaskedICmpType) that both LHS and RHS satisfy </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00554">554</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                                                       {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (LHS-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() != RHS-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">// vectors are not (yet?) supported</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (LHS-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// Here comes the tricky part:</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// LHS might be of the form L11 &amp; L12 == X, X == L21 &amp; L22,</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// and L11 &amp; L12 == L21 &amp; L22. The same goes for RHS.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// Now we must find those components L** and R**, that are equal, so</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// that we can extract the parameters A, B, C, D, and E for the canonical</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// above.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *L1 = LHS-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *L2 = LHS-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *L11,*L12,*L21,*L22;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// Check whether the icmp can be decomposed into a bit test.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa75e7b9606d30b9bde1384efd6917580">decomposeBitTestICmp</a>(LHS, LHSCC, L11, L12, L2)) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    L21 = L22 = L1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// Look for ANDs in the LHS icmp.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (!L1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="comment">// You can icmp pointers, for example. They really aren&#39;t masks.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      L11 = L12 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(L1, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(L11), <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(L12)))) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="comment">// Any icmp can be viewed as being trivially masked; if it allows us to</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// remove one, it&#39;s worth it.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      L11 = L1;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      L12 = Constant::getAllOnesValue(L1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (!L2-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="comment">// You can icmp pointers, for example. They really aren&#39;t masks.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      L21 = L22 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(L2, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(L21), <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(L22)))) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      L21 = L2;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      L22 = Constant::getAllOnesValue(L2-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="comment">// Bail if LHS was a icmp that can&#39;t be decomposed into an equality.</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">if</span> (!ICmpInst::isEquality(LHSCC))</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *R1 = RHS-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="code" href="../../d8/dab/MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a> = RHS-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *R11,*R12;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa75e7b9606d30b9bde1384efd6917580">decomposeBitTestICmp</a>(RHS, RHSCC, R11, R12, R2)) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (R11 == L11 || R11 == L12 || R11 == L21 || R11 == L22) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      A = R11; D = R12;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (R12 == L11 || R12 == L12 || R12 == L21 || R12 == L22) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      A = R12; D = R11;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    E = <a class="code" href="../../d8/dab/MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a>; R1 = <span class="keyword">nullptr</span>; ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (R1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(R1, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(R11), <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(R12)))) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="comment">// As before, model no mask as a trivial mask if it&#39;ll let us do an</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="comment">// optimisation.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      R11 = R1;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      R12 = Constant::getAllOnesValue(R1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (R11 == L11 || R11 == L12 || R11 == L21 || R11 == L22) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      A = R11; D = R12; E = <a class="code" href="../../d8/dab/MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a>; ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (R12 == L11 || R12 == L12 || R12 == L21 || R12 == L22) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      A = R12; D = R11; E = <a class="code" href="../../d8/dab/MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a>; ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// Bail if RHS was a icmp that can&#39;t be decomposed into an equality.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (!ICmpInst::isEquality(RHSCC))</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// Look for ANDs in on the right side of the RHS icmp.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">if</span> (!ok &amp;&amp; R2-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(R2, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(R11), <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(R12)))) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      R11 = <a class="code" href="../../d8/dab/MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      R12 = Constant::getAllOnesValue(R2-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (R11 == L11 || R11 == L12 || R11 == L21 || R11 == L22) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      A = R11; D = R12; E = R1; ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (R12 == L11 || R12 == L12 || R12 == L21 || R12 == L22) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      A = R12; D = R11; E = R1; ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (L11 == A) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    B = L12; C = L2;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (L12 == A) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    B = L11; C = L2;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (L21 == A) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    B = L22; C = L1;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (L22 == A) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    B = L21; C = L1;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">unsigned</span> left_type = <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aed27d8ce11c8fb8b5cac79cc959bd5db">getTypeOfMaskedICmp</a>(A, B, C, LHSCC);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordtype">unsigned</span> right_type = <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aed27d8ce11c8fb8b5cac79cc959bd5db">getTypeOfMaskedICmp</a>(A, D, E, RHSCC);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">return</span> left_type &amp; right_type;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a427435d4da769ae680a8e77ef89520aa"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">llvm::PatternMatch::m_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And &gt; m_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00467">PatternMatch.h:467</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">m_Value() - Match an arbitrary value and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00070">PatternMatch.h:70</a></div></div>
<div class="ttc" id="MathExtras_8h_html_a9211f62d8e1e6de999eaa63ec0f6ae02"><div class="ttname"><a href="../../d8/dab/MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a></div><div class="ttdeci">#define R2(n)</div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00042">PatternMatch.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6f725580f7834e2ca90762965866dad4"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00226">Type.h:226</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa75e7b9606d30b9bde1384efd6917580"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa75e7b9606d30b9bde1384efd6917580">decomposeBitTestICmp</a></div><div class="ttdeci">static bool decomposeBitTestICmp(const ICmpInst *I, ICmpInst::Predicate &amp;Pred, Value *&amp;X, Value *&amp;Y, Value *&amp;Z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00506">InstCombineAndOrXor.cpp:506</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00193">Type.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aed27d8ce11c8fb8b5cac79cc959bd5db"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aed27d8ce11c8fb8b5cac79cc959bd5db">getTypeOfMaskedICmp</a></div><div class="ttdeci">static unsigned getTypeOfMaskedICmp(Value *A, Value *B, Value *C, ICmpInst::Predicate SCC)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00416">InstCombineAndOrXor.cpp:416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32ead1eb9f9f19667b0f79d01214612b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned getFCmpCode </td>
          <td>(</td>
          <td class="paramtype">FCmpInst::Predicate&#160;</td>
          <td class="paramname"><em>CC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>isOrdered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>getFCmpCode - Similar to getICmpCode but for FCmpInst. This encodes a fcmp predicate into a three bit mask. It also returns whether it is an ordered predicate by reference. </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00061">61</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                                   {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  isOrdered = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">switch</span> (CC) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_ORD: isOrdered = <span class="keyword">true</span>; <span class="keywordflow">return</span> 0;  <span class="comment">// 000</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_UNO:                   <span class="keywordflow">return</span> 0;  <span class="comment">// 000</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_OGT: isOrdered = <span class="keyword">true</span>; <span class="keywordflow">return</span> 1;  <span class="comment">// 001</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_UGT:                   <span class="keywordflow">return</span> 1;  <span class="comment">// 001</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_OEQ: isOrdered = <span class="keyword">true</span>; <span class="keywordflow">return</span> 2;  <span class="comment">// 010</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_UEQ:                   <span class="keywordflow">return</span> 2;  <span class="comment">// 010</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_OGE: isOrdered = <span class="keyword">true</span>; <span class="keywordflow">return</span> 3;  <span class="comment">// 011</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_UGE:                   <span class="keywordflow">return</span> 3;  <span class="comment">// 011</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_OLT: isOrdered = <span class="keyword">true</span>; <span class="keywordflow">return</span> 4;  <span class="comment">// 100</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_ULT:                   <span class="keywordflow">return</span> 4;  <span class="comment">// 100</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_ONE: isOrdered = <span class="keyword">true</span>; <span class="keywordflow">return</span> 5;  <span class="comment">// 101</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_UNE:                   <span class="keywordflow">return</span> 5;  <span class="comment">// 101</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_OLE: isOrdered = <span class="keyword">true</span>; <span class="keywordflow">return</span> 6;  <span class="comment">// 110</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">case</span> FCmpInst::FCMP_ULE:                   <span class="keywordflow">return</span> 6;  <span class="comment">// 110</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// True -&gt; 7</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// Not expecting FCMP_FALSE and FCMP_TRUE;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected FCmp predicate!&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3f/ErrorHandling_8h_source.html#l00098">ErrorHandling.h:98</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7627ec3ea1e8ae5e84826e213b917abc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* getFCmpValue </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isordered</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>LHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>RHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aa733c1cd80a60826574461f05ede6e84">InstCombiner::BuilderTy</a> *&#160;</td>
          <td class="paramname"><em>Builder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>getFCmpValue - This is the complement of getFCmpCode, which turns an opcode and two operands into either a FCmp instruction. isordered is passed in to determine which kind of predicate to use in the new fcmp instruction. </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00100">100</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                                           {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">switch</span> (code) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Illegal FCmp code!&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">case</span> 0: Pred = isordered ? FCmpInst::FCMP_ORD : FCmpInst::FCMP_UNO; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">case</span> 1: Pred = isordered ? FCmpInst::FCMP_OGT : FCmpInst::FCMP_UGT; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">case</span> 2: Pred = isordered ? FCmpInst::FCMP_OEQ : FCmpInst::FCMP_UEQ; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">case</span> 3: Pred = isordered ? FCmpInst::FCMP_OGE : FCmpInst::FCMP_UGE; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">case</span> 4: Pred = isordered ? FCmpInst::FCMP_OLT : FCmpInst::FCMP_ULT; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">case</span> 5: Pred = isordered ? FCmpInst::FCMP_ONE : FCmpInst::FCMP_UNE; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">case</span> 6: Pred = isordered ? FCmpInst::FCMP_OLE : FCmpInst::FCMP_ULE; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (!isordered) <span class="keywordflow">return</span> <a class="code" href="../../d9/d1a/InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">ConstantInt::getTrue</a>(LHS-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>());</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    Pred = FCmpInst::FCMP_ORD; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a88cc5a48bb4170aa6541c7c6364e03b5">CreateFCmp</a>(Pred, LHS, RHS);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a565dd825f238fa0a8c4bbfe562635f7c"><div class="ttname"><a href="../../d9/d1a/InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a></div><div class="ttdeci">static Constant * getTrue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1a/InstructionSimplify_8cpp_source.html#l00072">InstructionSimplify.cpp:72</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3f/ErrorHandling_8h_source.html#l00098">ErrorHandling.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a88cc5a48bb4170aa6541c7c6364e03b5"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a88cc5a48bb4170aa6541c7c6364e03b5">llvm::IRBuilder::CreateFCmp</a></div><div class="ttdeci">Value * CreateFCmp(CmpInst::Predicate P, Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01328">IRBuilder.h:1328</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00672">InstrTypes.h:672</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00615">Value.cpp:615</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a529ff4b10087991fd0e737adbf94b423"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* getNewICmpValue </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Sign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>Code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>LHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>RHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aa733c1cd80a60826574461f05ede6e84">InstCombiner::BuilderTy</a> *&#160;</td>
          <td class="paramname"><em>Builder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>getNewICmpValue - This is the complement of getICmpCode, which turns an opcode and two operands into either a constant true or false, or a brand new ICmp instruction. The sign is passed in to determine which kind of predicate to use in the new icmp instruction. </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00089">89</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                                              {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="../../d4/d19/namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">ICmpInst::Predicate</a> NewPred;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *NewConstant = <a class="code" href="../../d9/d4a/namespacellvm.html#a61c0122a3a7683e94bc403c645566788">getICmpValue</a>(Sign, <a class="code" href="../../db/d20/namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a4a6621856674f376740a1ba6efd809e3">Code</a>, LHS, RHS, NewPred))</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> NewConstant;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">return</span> Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a495d91fb3d2662acbffd0162c56153ed">CreateICmp</a>(NewPred, LHS, RHS);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a495d91fb3d2662acbffd0162c56153ed"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a495d91fb3d2662acbffd0162c56153ed">llvm::IRBuilder::CreateICmp</a></div><div class="ttdeci">Value * CreateICmp(CmpInst::Predicate P, Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01321">IRBuilder.h:1321</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a4a6621856674f376740a1ba6efd809e3"><div class="ttname"><a href="../../db/d20/namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a4a6621856674f376740a1ba6efd809e3">llvm::tgtok::Code</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="../../d4/d19/namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2a/PPCPredicates_8h_source.html#l00027">PPCPredicates.h:27</a></div></div>
<div class="ttc" id="namespacellvm_html_a61c0122a3a7683e94bc403c645566788"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a61c0122a3a7683e94bc403c645566788">llvm::getICmpValue</a></div><div class="ttdeci">Value * getICmpValue(bool Sign, unsigned Code, Value *LHS, Value *RHS, CmpInst::Predicate &amp;NewICmpPred)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/CmpInstAnalysis_8cpp_source.html#l00072">CmpInstAnalysis.cpp:72</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed27d8ce11c8fb8b5cac79cc959bd5db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned getTypeOfMaskedICmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ICmpInst::Predicate&#160;</td>
          <td class="paramname"><em>SCC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>return the set of pattern classes (from MaskedICmpType) that (icmp SCC (<a class="el" href="../../d4/dc4/structA.html">A</a> &amp; B), <a class="el" href="../../db/db2/structC.html">C</a>) satisfies </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00416">416</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *ACst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(<a class="code" href="../../d0/da4/namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *BCst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(B);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CCst = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(<a class="code" href="../../d3/de6/namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">C</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordtype">bool</span> icmp_eq = (SCC == ICmpInst::ICMP_EQ);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordtype">bool</span> icmp_abit = (ACst &amp;&amp; !ACst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>() &amp;&amp;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    ACst-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">isPowerOf2</a>());</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordtype">bool</span> icmp_bbit = (BCst &amp;&amp; !BCst-&gt;isZero() &amp;&amp;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    BCst-&gt;getValue().isPowerOf2());</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">unsigned</span> result = 0;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">if</span> (CCst &amp;&amp; CCst-&gt;isZero()) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// if C is zero, then both A and B qualify as mask</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    result |= (icmp_eq ? (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a> |</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a> |</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a> |</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a>)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                       : (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a> |</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a> |</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a> |</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a>));</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span> (icmp_abit)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      result |= (icmp_eq ? (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a> |</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a>)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                         : (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a> |</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a>));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (icmp_bbit)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      result |= (icmp_eq ? (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a> |</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a>)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                         : (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a> |</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a>));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span> (A == C) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    result |= (icmp_eq ? (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a> |</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                       : (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a> |</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a>));</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (icmp_abit)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      result |= (icmp_eq ? (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a> |</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a>)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                         : (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a> |</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a>));</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ACst &amp;&amp; CCst &amp;&amp;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;             ConstantExpr::getAnd(ACst, CCst) == CCst) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    result |= (icmp_eq ? <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                       : <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (B == C) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    result |= (icmp_eq ? (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a> |</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a>)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                       : (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a> |</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                          <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a>));</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (icmp_bbit)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      result |= (icmp_eq ? (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a> |</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a>)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                         : (<a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a> |</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                            <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a>));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BCst &amp;&amp; CCst &amp;&amp;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;             ConstantExpr::getAnd(BCst, CCst) == CCst) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    result |= (icmp_eq ? <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                       : <a class="code" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="../../d0/da4/namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a2778ef2a236b30d557c19e8d4cf27f66">FoldMskICmp_BMask_Mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00410">InstCombineAndOrXor.cpp:410</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb"><div class="ttname"><a href="../../d3/de6/namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974afd841a49aec1539bc88abc8ff9e170fb">llvm::CallingConv::C</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d55/CallingConv_8h_source.html#l00031">CallingConv.h:31</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a8ab26b389e7b7199477e4e6f4a449c07">FoldMskICmp_AMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00402">InstCombineAndOrXor.cpp:402</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a87e4869a2403fea5c04b47663119bf62">FoldMskICmp_BMask_NotMixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00411">InstCombineAndOrXor.cpp:411</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1afb2ea884e4e94dd5f644bf5fc410580a">FoldMskICmp_Mask_NotAllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00407">InstCombineAndOrXor.cpp:407</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1aa8d5b5f3227910eddb03cce79f461af2">FoldMskICmp_AMask_NotMixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00409">InstCombineAndOrXor.cpp:409</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a6bab48061337e60eb9c79650fd8e08e2">FoldMskICmp_AMask_Mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00408">InstCombineAndOrXor.cpp:408</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1af9642ecdbd6386078c05024c75a8b585">FoldMskICmp_AMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00403">InstCombineAndOrXor.cpp:403</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af3deb6522c4fe2043fe07af2ec90190c"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">llvm::APInt::isPowerOf2</a></div><div class="ttdeci">bool isPowerOf2() const </div><div class="ttdoc">Check if this APInt&#39;s value is a power of two greater than zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00388">APInt.h:388</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a1932a1cae8878c1e59fff843ded5af4a">FoldMskICmp_BMask_AllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00404">InstCombineAndOrXor.cpp:404</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1ac406b89f196729d12023595c30b244d4">FoldMskICmp_Mask_AllZeroes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00406">InstCombineAndOrXor.cpp:406</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="InstCombineAndOrXor_8cpp_html_aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654"><div class="ttname"><a href="../../d6/d1f/InstCombineAndOrXor_8cpp.html#aa9c705ecec80ebd584bb3d54b48f7ee1a22226cf1a76711e1bb4ffceaa452f654">FoldMskICmp_BMask_NotAllOnes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00405">InstCombineAndOrXor.cpp:405</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa152a1c292e3c6e4c11ac7ac34c38c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isFreeToInvert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>isFreeToInvert - Return true if the specified value is free to invert (apply ~ to). This happens in cases where the ~ can be eliminated. </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00027">27</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                                            {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="comment">// ~(~(X)) -&gt; X.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordflow">if</span> (BinaryOperator::isNot(V))</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// Constants can be considered to be not&#39;ed values.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(V))</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// Compares can be inverted if they have a single use.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html">CmpInst</a> *CI = dyn_cast&lt;CmpInst&gt;(V))</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">return</span> CI-&gt;hasOneUse();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00654">InstrTypes.h:654</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add947a35dd442e049fda602d9dc9cd20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isRunOfOnes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>Val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>MB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>ME</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l00310">310</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                                                      {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a>&amp; V = Val-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  uint32_t BitWidth = Val-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a240475f85dea79ec272c578fdf89acf1">getType</a>()-&gt;<a class="code" href="../../dd/d56/classllvm_1_1IntegerType.html#a6f603ab84f6f7c79985036f58cca9d48">getBitWidth</a>();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d97/MipsISelLowering_8cpp.html#ad5f8171b132b21f5c58efc1a8c5b79d2">APIntOps::isShiftedMask</a>(BitWidth, V)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// look for the first zero bit after the run of ones</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  MB = BitWidth - ((V - 1) ^ V).countLeadingZeros();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// look for the first non-zero bit</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  ME = V.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">getActiveBits</a>();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a240475f85dea79ec272c578fdf89acf1"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a240475f85dea79ec272c578fdf89acf1">llvm::ConstantInt::getType</a></div><div class="ttdeci">IntegerType * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00139">Constants.h:139</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html_a6f603ab84f6f7c79985036f58cca9d48"><div class="ttname"><a href="../../dd/d56/classllvm_1_1IntegerType.html#a6f603ab84f6f7c79985036f58cca9d48">llvm::IntegerType::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Get the number of bits in this IntegerType. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/DerivedTypes_8h_source.html#l00061">DerivedTypes.h:61</a></div></div>
<div class="ttc" id="MipsISelLowering_8cpp_html_ad5f8171b132b21f5c58efc1a8c5b79d2"><div class="ttname"><a href="../../d6/d97/MipsISelLowering_8cpp.html#ad5f8171b132b21f5c58efc1a8c5b79d2">isShiftedMask</a></div><div class="ttdeci">static bool isShiftedMask(uint64_t I, uint64_t &amp;Pos, uint64_t &amp;Size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d97/MipsISelLowering_8cpp_source.html#l00076">MipsISelLowering.cpp:76</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a65eb40bd8c732c997e156e14f6b461f4"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">llvm::APInt::getActiveBits</a></div><div class="ttdeci">unsigned getActiveBits() const </div><div class="ttdoc">Compute the number of active bits in the value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01272">APInt.h:1272</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20f11c9f64a41930051d33f8dfcfab10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>* MatchSelectFromAndOr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>D</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>MatchSelectFromAndOr - We have an expression of the form (<a class="el" href="../../d4/dc4/structA.html">A</a>&amp;<a class="el" href="../../db/db2/structC.html">C</a>)|(B&amp;D). <a class="el" href="../../d8/d2b/namespaceCheck.html">Check</a> If <a class="el" href="../../d4/dc4/structA.html">A</a> is (cond?-1:0) and either B or D is ~(cond?-1,0) or (cond?0,-1), then we can simplify this expression to "cond ? C : D or B". </p>

<p>Definition at line <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html#l01534">1534</a> of file <a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp_source.html">InstCombineAndOrXor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                                                             {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// If A is not a select of -1/0, this cannot match.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Cond = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(A, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Cond))) ||</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      !Cond-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1))</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// ((cond?-1:0)&amp;C) | (B&amp;(cond?0:-1)) -&gt; cond ? C : B.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(D, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Cond)))))</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">SelectInst::Create</a>(Cond, C, B);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(D, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Cond)))))</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">SelectInst::Create</a>(Cond, C, B);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="comment">// ((cond?-1:0)&amp;C) | ((cond?0:-1)&amp;D) -&gt; cond ? C : D.</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(B, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Cond)))))</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">SelectInst::Create</a>(Cond, C, D);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(B, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">m_SExt</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Cond)))))</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">SelectInst::Create</a>(Cond, C, D);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">m_Value() - Match an arbitrary value and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00070">PatternMatch.h:70</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00042">PatternMatch.h:42</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a4cfd328368353696e64a4d1b15a7cbfa"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">llvm::PatternMatch::m_Not</a></div><div class="ttdeci">not_match&lt; LHS &gt; m_Not(const LHS &amp;L)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00828">PatternMatch.h:828</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">m_Specific - Match if we have a specific specified value. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00323">PatternMatch.h:323</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aaab494a433fbb23bc68393ee8bcfc5ac"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#aaab494a433fbb23bc68393ee8bcfc5ac">llvm::PatternMatch::m_SExt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::SExt &gt; m_SExt(const OpTy &amp;Op)</div><div class="ttdoc">m_SExt </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00775">PatternMatch.h:775</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="llvm-ar_8cpp_html_afdde8653309ceae1b97f0328e2d1a465"><div class="ttname"><a href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">Create</a></div><div class="ttdeci">static bool Create</div><div class="ttdoc">&#39;c&#39; modifier </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc6/llvm-ar_8cpp_source.html#l00117">llvm-ar.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00193">Type.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_211fb134ce6a4c3329568c5b3817f0ae.html">llvm</a></li><li class="navelem"><a class="el" href="../../dir_68ef2609279916640dd02c22eb347286.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_5c496d779f2cb0b9e39446f1a293372b.html">Transforms</a></li><li class="navelem"><a class="el" href="../../dir_e1730ad7494653d691c84cfe5a5126ce.html">InstCombine</a></li><li class="navelem"><a class="el" href="../../d6/d1f/InstCombineAndOrXor_8cpp.html">InstCombineAndOrXor.cpp</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:43:56 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
