<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: legup::SDCScheduler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d0f/classlegup_1_1SDCScheduler.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">legup::SDCScheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for legup::SDCScheduler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="../../d5/d0f/classlegup_1_1SDCScheduler.png" usemap="#legup::SDCScheduler_map" alt=""/>
  <map id="legup::SDCScheduler_map" name="legup::SDCScheduler_map">
<area href="../../d2/d0e/classlegup_1_1Scheduler.html" title="Legup Scheduler Pass interface. " alt="legup::Scheduler" shape="rect" coords="0,0,133,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aec98609bd6570a69a36e60f0c257f4be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aec98609bd6570a69a36e60f0c257f4be">SDCScheduler</a> (<a class="el" href="../../da/de0/classlegup_1_1Allocation.html">Allocation</a> *<a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>)</td></tr>
<tr class="separator:aec98609bd6570a69a36e60f0c257f4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d32ae21e37afc725753407a0b192853"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d92/classlegup_1_1SchedulerMapping.html">SchedulerMapping</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3d32ae21e37afc725753407a0b192853">createMapping</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>, <a class="el" href="../../dc/d59/classlegup_1_1SchedulerDAG.html">SchedulerDAG</a> *<a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>)</td></tr>
<tr class="separator:a3d32ae21e37afc725753407a0b192853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74204446a2e894a19855dbdd4409989"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab74204446a2e894a19855dbdd4409989">getChaining</a> ()</td></tr>
<tr class="separator:ab74204446a2e894a19855dbdd4409989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d09072911d361b58d2e1620443f1dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a36d09072911d361b58d2e1620443f1dc">setChaining</a> (bool <a class="el" href="../../d1/dca/dwarfdump-test4-part1_8cc.html#aa888519f7b6707707b5b5dc3f1eb8055">c</a>)</td></tr>
<tr class="separator:a36d09072911d361b58d2e1620443f1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af526c5e61424f0eb0163b36d50cac6c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d88/classlegup_1_1FiniteStateMachine.html">FiniteStateMachine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#af526c5e61424f0eb0163b36d50cac6c0">getFSM</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="memdesc:af526c5e61424f0eb0163b36d50cac6c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">getFSM - get the finite state machine for a function.  <a href="#af526c5e61424f0eb0163b36d50cac6c0">More...</a><br/></td></tr>
<tr class="separator:af526c5e61424f0eb0163b36d50cac6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29686c34ca43f51b616e74ca0cdc730"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#ac29686c34ca43f51b616e74ca0cdc730">schedule</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>, <a class="el" href="../../dc/d59/classlegup_1_1SchedulerDAG.html">SchedulerDAG</a> *<a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>)</td></tr>
<tr class="separator:ac29686c34ca43f51b616e74ca0cdc730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec736b26a9c227882f52ff80dc4c3da6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#aec736b26a9c227882f52ff80dc4c3da6">getClockPeriodConstraint</a> ()</td></tr>
<tr class="separator:aec736b26a9c227882f52ff80dc4c3da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5f2fabfd5b46756c531ff01bcfe48c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#ab5f2fabfd5b46756c531ff01bcfe48c1">setClockPeriodConstraint</a> (float <a class="el" href="../../d1/dca/dwarfdump-test4-part1_8cc.html#aa888519f7b6707707b5b5dc3f1eb8055">c</a>)</td></tr>
<tr class="separator:ab5f2fabfd5b46756c531ff01bcfe48c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3f5963c1b843a7198648b6ea0889356e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a3f5963c1b843a7198648b6ea0889356e">isaCheapCall</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *instr)</td></tr>
<tr class="separator:a3f5963c1b843a7198648b6ea0889356e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24fb5f98edcbdb8ca31e02da91135603"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a24fb5f98edcbdb8ca31e02da91135603">canChainBefore</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *instr)</td></tr>
<tr class="separator:a24fb5f98edcbdb8ca31e02da91135603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a29e645bfdea35ed29f1f448412aaf"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a65a29e645bfdea35ed29f1f448412aaf">canChainAfter</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *instr)</td></tr>
<tr class="separator:a65a29e645bfdea35ed29f1f448412aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c511cc133eb4a56993606e66c41f709"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a9c511cc133eb4a56993606e66c41f709">canChainAfter</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *instr, <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *before)</td></tr>
<tr class="separator:a9c511cc133eb4a56993606e66c41f709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b25b2e646b54dcf7124b566427785e"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">getNumInstructionCycles</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *instr)</td></tr>
<tr class="separator:a39b25b2e646b54dcf7124b566427785e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec2386ffcd0f5ea55ec051232ac881b"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a5ec2386ffcd0f5ea55ec051232ac881b">getInitiationInterval</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *instr)</td></tr>
<tr class="separator:a5ec2386ffcd0f5ea55ec051232ac881b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aaaccf16e0705d13397fd4a02b1a8f2c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d92/classlegup_1_1SchedulerMapping.html">SchedulerMapping</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#aaaccf16e0705d13397fd4a02b1a8f2c5">mapping</a></td></tr>
<tr class="separator:aaaccf16e0705d13397fd4a02b1a8f2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316ccd1409e214b2618fb055b0c9e113"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> <br class="typebreak"/>
*, <a class="el" href="../../d6/d88/classlegup_1_1FiniteStateMachine.html">FiniteStateMachine</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">fsm</a></td></tr>
<tr class="separator:a316ccd1409e214b2618fb055b0c9e113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ceade701f4f1095aa1186eba4279e7"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="../../d8/d1b/classlegup_1_1State.html">State</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a42ceade701f4f1095aa1186eba4279e7">bbFirstState</a></td></tr>
<tr class="separator:a42ceade701f4f1095aa1186eba4279e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b543ecf14dacf96703fde0c73a13a70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d1b/classlegup_1_1State.html">State</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a5b543ecf14dacf96703fde0c73a13a70">waitState</a></td></tr>
<tr class="separator:a5b543ecf14dacf96703fde0c73a13a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ada748e6712e120a70fd420b2f6766"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a></td></tr>
<tr class="separator:a66ada748e6712e120a70fd420b2f6766"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab9666786f5448507cd005aede44b68df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab9666786f5448507cd005aede44b68df">createLPVariables</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:ab9666786f5448507cd005aede44b68df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f80c37efb6249df3204b01f5fd155b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8f80c37efb6249df3204b01f5fd155b9">getNumVariables</a> ()</td></tr>
<tr class="separator:a8f80c37efb6249df3204b01f5fd155b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f1a83834eff2d38da943de44c38696"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a02f1a83834eff2d38da943de44c38696">addMulticycleConstraints</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:a02f1a83834eff2d38da943de44c38696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee619a6f52aef50f1fdb9e54230f64e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">addDependencyConstraints</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:adee619a6f52aef50f1fdb9e54230f64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca0aded24407a47690d8ebd0ebebb7d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aca0aded24407a47690d8ebd0ebebb7d0">addDependencyConstraints</a> (<a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *in)</td></tr>
<tr class="separator:aca0aded24407a47690d8ebd0ebebb7d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e8973dde8a2aafd145b25d51db6647"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">addTimingConstraints</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:a10e8973dde8a2aafd145b25d51db6647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae008ccbaacc840d5ae0263a8838ff359"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ae008ccbaacc840d5ae0263a8838ff359">addTimingConstraints</a> (<a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *Root, <a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *Curr, float PartialPathDelay)</td></tr>
<tr class="separator:ae008ccbaacc840d5ae0263a8838ff359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659036451ae3e6550a66a87ba395bf58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a659036451ae3e6550a66a87ba395bf58">addResourceConstraint</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>, std::string constrainedFuName, unsigned constraint)</td></tr>
<tr class="separator:a659036451ae3e6550a66a87ba395bf58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9ab873c7df1d04de744987000e706b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8c9ab873c7df1d04de744987000e706b">scheduleAXAP</a> (bool ASAP=<a class="el" href="../../d6/d0d/LoopSimplify_8cpp.html#a13f020c6a40eb04f1b4f9ddfbb004ce0">true</a>)</td></tr>
<tr class="separator:a8c9ab873c7df1d04de744987000e706b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72002d744122621ff207f6a7e4d41dce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a72002d744122621ff207f6a7e4d41dce">scheduleASAP</a> ()</td></tr>
<tr class="separator:a72002d744122621ff207f6a7e4d41dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56718c7246fefd2faa102bacd465fab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ae56718c7246fefd2faa102bacd465fab">scheduleALAP</a> ()</td></tr>
<tr class="separator:ae56718c7246fefd2faa102bacd465fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454216548e0d8699c5275adaf13038ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a454216548e0d8699c5275adaf13038ea">addDbgValueInstConstraints</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:a454216548e0d8699c5275adaf13038ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1018dab887a7fbd0d96796a08f84e13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa1018dab887a7fbd0d96796a08f84e13">addALAPConstraints</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:aa1018dab887a7fbd0d96796a08f84e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a779911e941a46ed65c771e968594b47e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a779911e941a46ed65c771e968594b47e">scheduleSlackDriven</a> ()</td></tr>
<tr class="separator:a779911e941a46ed65c771e968594b47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc37cf4143faad1fc887a3fef0265452"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#abc37cf4143faad1fc887a3fef0265452">scheduleLatency</a> ()</td></tr>
<tr class="separator:abc37cf4143faad1fc887a3fef0265452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa401ccb923bb3fb537c848f7f6134004"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa401ccb923bb3fb537c848f7f6134004">depositSchedule</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:aa401ccb923bb3fb537c848f7f6134004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39755c13df4bc75292c985f07f395675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a39755c13df4bc75292c985f07f395675">multicycle_and_modify_schedule</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:a39755c13df4bc75292c985f07f395675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff2e10c50abd78832ca08b2654a5125"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a5ff2e10c50abd78832ca08b2654a5125">save_instruction_states</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:a5ff2e10c50abd78832ca08b2654a5125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a2af252d50d2c6b537ca908e963369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a59a2af252d50d2c6b537ca908e963369">find_instructions_to_delay</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>, std::map&lt; <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *, int &gt; &amp;Instruction_to_state)</td></tr>
<tr class="separator:a59a2af252d50d2c6b537ca908e963369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f1c0a92ba4c54b0cee800dc78c8fa0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a03f1c0a92ba4c54b0cee800dc78c8fa0">find_instructions_to_delay_in_BB</a> (<a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *b, std::map&lt; <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *, int &gt; &amp;Instruction_to_state)</td></tr>
<tr class="separator:a03f1c0a92ba4c54b0cee800dc78c8fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8993bc31d9dd8e0705e0d9e53ad7c421"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8993bc31d9dd8e0705e0d9e53ad7c421">do_post_scheduling_steps</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:a8993bc31d9dd8e0705e0d9e53ad7c421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250cc5ecaeff069ea0e2c22890e918ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a250cc5ecaeff069ea0e2c22890e918ae">should_scheduling_be_repeated_to_add_latency</a> ()</td></tr>
<tr class="separator:a250cc5ecaeff069ea0e2c22890e918ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2cae680d80d244922da323fa7560843"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ac2cae680d80d244922da323fa7560843">addMultipumpConstraints</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:ac2cae680d80d244922da323fa7560843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26ec50bf85f4e6b4c730c5b226dfcd4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa26ec50bf85f4e6b4c730c5b226dfcd4">isDependent</a> (<a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *source, <a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *dest)</td></tr>
<tr class="separator:aa26ec50bf85f4e6b4c730c5b226dfcd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74dbf34282228ad465bc950b6ef02a0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a74dbf34282228ad465bc950b6ef02a0f">add_lp_constraints_for_sdc_multipump</a> (<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *<a class="el" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>)</td></tr>
<tr class="separator:a74dbf34282228ad465bc950b6ef02a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a043e15ee5e8955857b7419349e9018fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d59/classlegup_1_1SchedulerDAG.html">SchedulerDAG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a></td></tr>
<tr class="separator:a043e15ee5e8955857b7419349e9018fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dff8433b799b908fd7fffb0e087950e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a></td></tr>
<tr class="separator:a3dff8433b799b908fd7fffb0e087950e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32582d1da3945e9460131234272ebdec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dd2/SDCScheduler_8h.html#afe42f1373b9ee8d824b5cad6a22d24c6">lprec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a></td></tr>
<tr class="separator:a32582d1da3945e9460131234272ebdec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2808c424921565945720d1c2cedef9a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a></td></tr>
<tr class="separator:a2808c424921565945720d1c2cedef9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11954c78e86bb7875112c04451e15543"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a></td></tr>
<tr class="separator:a11954c78e86bb7875112c04451e15543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701f0d481a4189a3c31d0b1e2d8a3556"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> <br class="typebreak"/>
*, unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a></td></tr>
<tr class="separator:a701f0d481a4189a3c31d0b1e2d8a3556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb484b2563140617ae8828600f7b52eb"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> <br class="typebreak"/>
*, unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a></td></tr>
<tr class="separator:aeb484b2563140617ae8828600f7b52eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4473cc8e60b02b83a93f1977a36f9e12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d92/classlegup_1_1SchedulerMapping.html">SchedulerMapping</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a></td></tr>
<tr class="separator:a4473cc8e60b02b83a93f1977a36f9e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66412d16d59ccf9ceac7b8e9540c6658"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a></td></tr>
<tr class="separator:a66412d16d59ccf9ceac7b8e9540c6658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4735eb25581acda40bdca92534a009"><td class="memItemLeft" align="right" valign="top">unsigned *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a6c4735eb25581acda40bdca92534a009">maxCycle</a></td></tr>
<tr class="separator:a6c4735eb25581acda40bdca92534a009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf76787165b40dae5e27c79a4ce0b7d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/de0/classlegup_1_1Allocation.html">Allocation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a></td></tr>
<tr class="separator:aaf76787165b40dae5e27c79a4ce0b7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../df/d7b/structlegup_1_1LegUp.html">LegUp</a> scheduler based on system of difference constraints (SDC). The basic idea is to formulate the scheduling problem as a linear programming (LP) problem. In this case, we use the lpsolve package to solve the LP (lpsolve.sourceforge.net).</p>
<p>First published by Cong and Zhang, DAC 2006, "An Efficient
and Versatile Scheduling Algorithm Based on SDC Formulation" </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00042">42</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aec98609bd6570a69a36e60f0c257f4be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">legup::SDCScheduler::SDCScheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/de0/classlegup_1_1Allocation.html">Allocation</a> *&#160;</td>
          <td class="paramname"><em>alloc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00033">33</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                            : <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>(0), <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a>(0), <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>(alloc) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a> = <span class="keyword">false</span>; <span class="comment">// default is no chaining -- maximally pipelined</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a> = -1.0; <span class="comment">// default is no clock period constraint</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a> = 0; <span class="comment">// LP isn&#39;t constructed yet</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a> = 0; <span class="comment">// the number of LLVM instructions to be scheduled</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a> = <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;SDC_DEBUG&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a11954c78e86bb7875112c04451e15543"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">legup::SDCScheduler::numInst</a></div><div class="ttdeci">int numInst</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00098">SDCScheduler.h:98</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a22bed3c686e0b2766db6c1d6851b826f"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">legup::LegupConfig::getParameterInt</a></div><div class="ttdeci">int getParameterInt(std::string name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/LegupConfig_8h_source.html#l00315">LegupConfig.h:315</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a4473cc8e60b02b83a93f1977a36f9e12"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">legup::SDCScheduler::map</a></div><div class="ttdeci">SchedulerMapping * map</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00248">SDCScheduler.h:248</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a66ada748e6712e120a70fd420b2f6766"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">legup::Scheduler::clockPeriodConstraint</a></div><div class="ttdeci">float clockPeriodConstraint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00081">Scheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a3dff8433b799b908fd7fffb0e087950e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">legup::SDCScheduler::chaining</a></div><div class="ttdeci">bool chaining</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00081">SDCScheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aaf76787165b40dae5e27c79a4ce0b7d1"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">legup::SDCScheduler::alloc</a></div><div class="ttdeci">Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">SDCScheduler.h:258</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a74dbf34282228ad465bc950b6ef02a0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::add_lp_constraints_for_sdc_multipump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00713">713</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                                                   {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa1018dab887a7fbd0d96796a08f84e13">addALAPConstraints</a>(F);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;SOLVING ALAP\n&quot;</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ae56718c7246fefd2faa102bacd465fab">scheduleALAP</a>();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    REAL* variables = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>];</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    get_variables(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, variables);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#aaaa75fea7379b3a5c70da8dd01410080">useExplicitDSP</a>(i)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <a class="code" href="../../da/d91/namespacelegup.html#a1ad10d2f2adaf811fe1c69bfa014f64a">alap_control_step</a>[i] = (unsigned)variables[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i)]];</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="comment">//errs() &lt;&lt; &quot;I: &quot; &lt;&lt; *i &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="comment">//errs() &lt;&lt; &quot;\tstateAssigned: &quot; &lt;&lt; alap_control_step[i] &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keyword">delete</span> [] variables;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">    for (Function::iterator b = F-&gt;begin(), be = F-&gt;end(); b != be; b++) {</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">        for (BasicBlock::iterator i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">            if (!alloc-&gt;useExplicitDSP(i)) continue;</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">            if (asap_control_step[i] == alap_control_step[i]) continue;</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">            errs() &lt;&lt; &quot;I: &quot; &lt;&lt; *i &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">            errs() &lt;&lt; &quot;\tasap: &quot; &lt;&lt; asap_control_step[i] &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">            errs() &lt;&lt; &quot;\talap: &quot; &lt;&lt; alap_control_step[i] &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">// todo: refactor this (copied from above)</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    delete_lp(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a> = 0;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a> = 0;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab9666786f5448507cd005aede44b68df">createLPVariables</a>(F);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a02f1a83834eff2d38da943de44c38696">addMulticycleConstraints</a>(F);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">addDependencyConstraints</a>(F);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a> &amp;&amp; <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a> &gt; 0) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">addTimingConstraints</a>(F);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">//      addResourceConstraint(F); ??? janders: Andrew check if you want to call new res constraints handling code in ur multi-pump stuff</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ac2cae680d80d244922da323fa7560843">addMultipumpConstraints</a>(F);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_ae56718c7246fefd2faa102bacd465fab"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ae56718c7246fefd2faa102bacd465fab">legup::SDCScheduler::scheduleALAP</a></div><div class="ttdeci">void scheduleALAP()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00660">SDCScheduler.cpp:660</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_ab9666786f5448507cd005aede44b68df"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab9666786f5448507cd005aede44b68df">legup::SDCScheduler::createLPVariables</a></div><div class="ttdeci">void createLPVariables(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00041">SDCScheduler.cpp:41</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_ac2cae680d80d244922da323fa7560843"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ac2cae680d80d244922da323fa7560843">legup::SDCScheduler::addMultipumpConstraints</a></div><div class="ttdeci">void addMultipumpConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00449">SDCScheduler.cpp:449</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a11954c78e86bb7875112c04451e15543"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">legup::SDCScheduler::numInst</a></div><div class="ttdeci">int numInst</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00098">SDCScheduler.h:98</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_aaaa75fea7379b3a5c70da8dd01410080"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#aaaa75fea7379b3a5c70da8dd01410080">legup::Allocation::useExplicitDSP</a></div><div class="ttdeci">bool useExplicitDSP(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df2/Allocation_8cpp_source.html#l00894">Allocation.cpp:894</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a10e8973dde8a2aafd145b25d51db6647"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">legup::SDCScheduler::addTimingConstraints</a></div><div class="ttdeci">void addTimingConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00296">SDCScheduler.cpp:296</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="namespacelegup_html_a1ad10d2f2adaf811fe1c69bfa014f64a"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a1ad10d2f2adaf811fe1c69bfa014f64a">legup::alap_control_step</a></div><div class="ttdeci">std::map&lt; Instruction *, unsigned &gt; alap_control_step</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00031">SDCScheduler.cpp:31</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_adee619a6f52aef50f1fdb9e54230f64e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">legup::SDCScheduler::addDependencyConstraints</a></div><div class="ttdeci">void addDependencyConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00176">SDCScheduler.cpp:176</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a02f1a83834eff2d38da943de44c38696"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a02f1a83834eff2d38da943de44c38696">legup::SDCScheduler::addMulticycleConstraints</a></div><div class="ttdeci">void addMulticycleConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00070">SDCScheduler.cpp:70</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a66ada748e6712e120a70fd420b2f6766"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">legup::Scheduler::clockPeriodConstraint</a></div><div class="ttdeci">float clockPeriodConstraint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00081">Scheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a3dff8433b799b908fd7fffb0e087950e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">legup::SDCScheduler::chaining</a></div><div class="ttdeci">bool chaining</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00081">SDCScheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aaf76787165b40dae5e27c79a4ce0b7d1"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">legup::SDCScheduler::alloc</a></div><div class="ttdeci">Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">SDCScheduler.h:258</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aa1018dab887a7fbd0d96796a08f84e13"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa1018dab887a7fbd0d96796a08f84e13">legup::SDCScheduler::addALAPConstraints</a></div><div class="ttdeci">void addALAPConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00545">SDCScheduler.cpp:545</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1018dab887a7fbd0d96796a08f84e13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addALAPConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add constraints so that ALAP scheduling doesn't give an UNBOUNDED solution. </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00545">545</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                                 {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  REAL* variables = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>];</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  get_variables(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, variables);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// maxCycle maps a basic block index to the number of cycles</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">// in that BB (according to ASAP scheduling done previously)</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// note: the map will default to 0</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  std::map&lt;BasicBlock *, int&gt; <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a6c4735eb25581acda40bdca92534a009">maxCycle</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> bb = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); bb != be; bb++) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = bb-&gt;begin(), ie = bb-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          <span class="keywordtype">int</span> idx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i)];</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <span class="keywordtype">int</span> stateAssigned = variables[idx];</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;          maxCycle[bb] = std::max(maxCycle[bb], stateAssigned);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;After ASAP scheduling BB: %s takes %d cycles\n&quot;</span>,</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;              <a class="code" href="../../da/d91/namespacelegup.html#a4ebc676815d68fd02755f1ecf339f0d5">getLabel</a>(bb).<a class="code" href="../../d9/d4a/namespacellvm.html#af11d71816b6dc7c266e71fcff02be291">c_str</a>(), maxCycle[bb]);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// now add the constraints</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordtype">int</span> col[1];</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  REAL val[1];</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> bb = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); bb != be; bb++) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = bb-&gt;begin(), ie = bb-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;          <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>* iNode = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;          <span class="keywordtype">int</span> startIdx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[iNode];</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;          <span class="keywordtype">int</span> endIdx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[iNode];</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;          col[0] = 1 + endIdx;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;          val[0] = 1.0;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;          <span class="keywordflow">if</span> (!i-&gt;isTerminator() &amp;&amp;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                  (iNode-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">dep_begin</a>() == iNode-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">dep_end</a>()) &amp;&amp;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                  ((<span class="keywordtype">unsigned</span>)variables[startIdx] == 0)) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;              <span class="comment">// this instruction isn&#39;t a terminator</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;              <span class="comment">// and it has no dependencies</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;              REAL endState = endIdx - startIdx;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;              <span class="keywordtype">int</span> latency = <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(i);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;              <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(endState == latency);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;              add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 1, val, col, <a class="code" href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a>, endState);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                  <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;INST: %s (IDX: %u) CONSTRAINED TO CYCLE 0.\n&quot;</span>,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                          i-&gt;getOpcodeName(), col[0]);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;              add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 1, val, col, <a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">LE</a>, (REAL)maxCycle[bb]);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                  <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;INST: %s (IDX: %u) CONSTRAINED TO CYCLE LEQ: %u\n&quot;</span>,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                          i-&gt;getOpcodeName(), col[0], maxCycle[bb]);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;          }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keyword">delete</span> [] variables;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a167360fd446a3476da29fcaa3a45c3f8"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">legup::InstructionNode::dep_end</a></div><div class="ttdeci">iterator dep_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00050">SchedulerDAG.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="namespacelegup_html_a4ebc676815d68fd02755f1ecf339f0d5"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a4ebc676815d68fd02755f1ecf339f0d5">legup::getLabel</a></div><div class="ttdeci">std::string getLabel(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00088">Target/Verilog/utils.cpp:88</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="regexec_8c_html_ac07acfbb082b04f5bea72998c8976b3c"><div class="ttname"><a href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a></div><div class="ttdeci">#define EQ(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/regexec_8c_source.html#l00112">regexec.c:112</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a1de8ce1ff517384ffc539563bee13a6b"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">legup::InstructionNode::dep_begin</a></div><div class="ttdeci">iterator dep_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00048">SchedulerDAG.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a6c4735eb25581acda40bdca92534a009"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a6c4735eb25581acda40bdca92534a009">legup::SDCScheduler::maxCycle</a></div><div class="ttdeci">unsigned * maxCycle</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00257">SDCScheduler.h:257</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="namespacellvm_html_af11d71816b6dc7c266e71fcff02be291"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#af11d71816b6dc7c266e71fcff02be291">llvm::c_str</a></div><div class="ttdeci">SmallVectorImpl&lt; T &gt;::const_pointer c_str(SmallVectorImpl&lt; T &gt; &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d13/WindowsSupport_8h_source.html#l00158">WindowsSupport.h:158</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a39b25b2e646b54dcf7124b566427785e"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">legup::Scheduler::getNumInstructionCycles</a></div><div class="ttdeci">static unsigned getNumInstructionCycles(Instruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df7/Scheduler_8cpp_source.html#l00028">Scheduler.cpp:28</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb"><div class="ttname"><a href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">llvm::AArch64CC::LE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc0/AArch64BaseInfo_8h_source.html#l00206">AArch64BaseInfo.h:206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a454216548e0d8699c5275adaf13038ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addDbgValueInstConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00192">192</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                                         {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">int</span> col[2];</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    REAL val[2];</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// iterate over all BBs</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *lastInsn = NULL;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="comment">// iterate over the instructions in a BB</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *insn = &amp;*i;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d99/classllvm_1_1DbgValueInst.html">DbgValueInst</a> *dbgVal = dyn_cast&lt;DbgValueInst&gt;(insn)) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">if</span> (lastInsn) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *lastInsnNode =</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(lastInsn);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    col[0] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[lastInsnNode];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    val[0] = 1.0;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    <span class="comment">//                  dbgs() &lt;&lt; &quot;Constrain&quot; &lt;&lt; *dbgVal &lt;&lt; &quot; to &quot; &lt;&lt;</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <span class="comment">//*lastInsn &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    col[1] =</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(dbgVal)];</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    val[1] = -1.0;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    <span class="comment">// We want the llvm.dbg.insn to be scheduled to the last</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    <span class="comment">// cycle</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    <span class="comment">// of the lastInsn.  If start==end for the lastInsn, then</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="comment">// just</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    <span class="comment">// schedule to end.  However, if end&gt;start, then schedule to</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    <span class="comment">// end-1.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[lastInsnNode] ==</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[lastInsnNode]) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a>, 0);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a>, 1.0);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../da/d91/namespacelegup.html#a0e9da95c52d74eb2d97e35bd13275394">isaDummyCall</a>(insn)) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                lastInsn = i;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="comment">//              int s = 1 +</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="comment">//startVariableIndex[dag-&gt;getInstructionNode(lastInsn)];</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="comment">//              int e = 1 +</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="comment">//endVariableIndex[dag-&gt;getInstructionNode(lastInsn)];</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="comment">//              dbgs() &lt;&lt; &quot;New last insn: &quot; &lt;&lt; *lastInsn &lt;&lt; &quot; &quot; &lt;&lt; s</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="comment">//&lt;&lt; &quot; &quot; &lt;&lt; e &lt;&lt;&quot;\n&quot;;</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="namespacelegup_html_a0e9da95c52d74eb2d97e35bd13275394"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a0e9da95c52d74eb2d97e35bd13275394">legup::isaDummyCall</a></div><div class="ttdeci">bool isaDummyCall(const Instruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00334">Target/Verilog/utils.cpp:334</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="regexec_8c_html_ac07acfbb082b04f5bea72998c8976b3c"><div class="ttname"><a href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a></div><div class="ttdeci">#define EQ(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/regexec_8c_source.html#l00112">regexec.c:112</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1DbgValueInst_html"><div class="ttname"><a href="../../d6/d99/classllvm_1_1DbgValueInst.html">llvm::DbgValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dfe/IntrinsicInst_8h_source.html#l00097">IntrinsicInst.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adee619a6f52aef50f1fdb9e54230f64e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addDependencyConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add constraints to the LP formulation to implement correct ordering of operations.</p>
<p>These constraints are MANDATORY. </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00176">176</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                                       {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// iterate over all BBs</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// iterate over the instructions in a BB</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">addDependencyConstraints</a>(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_adee619a6f52aef50f1fdb9e54230f64e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">legup::SDCScheduler::addDependencyConstraints</a></div><div class="ttdeci">void addDependencyConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00176">SDCScheduler.cpp:176</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca0aded24407a47690d8ebd0ebebb7d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addDependencyConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add the dependency constraints to the LP for a particular instruction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>Instruction for which to add dependency constraints. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00137">137</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                                               {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordtype">int</span> col[2];</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  REAL val[2];</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// First make sure each instruction is scheduled into a cycle &gt;= 0</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  col[0] = 1+ <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[in];</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  val[0] = 1.0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 1, val, col, <a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">GE</a>, 0.0);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// Now handle the dependencies between instructions: producer/consumer relationships</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">InstructionNode::iterator</a> i = in-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">dep_begin</a>(), </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;     e = in-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">dep_end</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// dependency from depIn -&gt; in</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *depIn = *i;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    col[0] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[in];</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    val[0] = 1.0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    col[1] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[depIn];</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    val[1] = -1.0;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">GE</a>, <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a> ? 0.0 : 1.0); <span class="comment">// ensure the right ordering or instructions based on dependencies</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// if chaining is permitted, then the instructions can be in the SAME cycle</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// if chaining is NOT permitted, a dependent instruction is moved to a LATER cycle</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">InstructionNode::iterator</a> i = in-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a08050d83006095e11b9202f5b79f2190">mem_dep_begin</a>(),</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;     e = in-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#ac9f056dc835b8ebf0499b0625cff6f1c">mem_dep_end</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// dependency from memDepIn -&gt; in</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *memDepIn = *i;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    col[0] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[in];</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    val[0] = 1.0;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    col[1] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[memDepIn];</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    val[1] = -1.0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">GE</a>, 0.0);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a167360fd446a3476da29fcaa3a45c3f8"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">legup::InstructionNode::dep_end</a></div><div class="ttdeci">iterator dep_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00050">SchedulerDAG.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b"><div class="ttname"><a href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">llvm::AArch64CC::GE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc0/AArch64BaseInfo_8h_source.html#l00203">AArch64BaseInfo.h:203</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_ac9f056dc835b8ebf0499b0625cff6f1c"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#ac9f056dc835b8ebf0499b0625cff6f1c">legup::InstructionNode::mem_dep_end</a></div><div class="ttdeci">iterator mem_dep_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00081">SchedulerDAG.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_ae6ff9ff55c8b42c3edb92fe7893c39ca"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">legup::InstructionNode::iterator</a></div><div class="ttdeci">depType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00035">SchedulerDAG.h:35</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a1de8ce1ff517384ffc539563bee13a6b"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">legup::InstructionNode::dep_begin</a></div><div class="ttdeci">iterator dep_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00048">SchedulerDAG.h:48</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a3dff8433b799b908fd7fffb0e087950e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">legup::SDCScheduler::chaining</a></div><div class="ttdeci">bool chaining</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00081">SDCScheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a08050d83006095e11b9202f5b79f2190"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a08050d83006095e11b9202f5b79f2190">legup::InstructionNode::mem_dep_begin</a></div><div class="ttdeci">iterator mem_dep_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00079">SchedulerDAG.h:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02f1a83834eff2d38da943de44c38696"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addMulticycleConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add constraints so the LP variables of a multi-cycle instruction are assigned to contiguous clock cycles. See Section 3.1 of Cong's article. </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00070">70</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                                       {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordtype">int</span> col[2];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  REAL val[2];</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">for</span> (std::map&lt;InstructionNode*, unsigned&gt;::iterator i = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>.begin(), </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;     e = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>.end(); i != e; i++) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>* iNode = i-&gt;first; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (i-&gt;second == <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[iNode])</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keywordflow">continue</span>; <span class="comment">// not a multicycle instruction</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// add constraints so that the variable corresponding to each</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// cycle of a multiple cycle instruction gets assigned to </span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// contiguous states.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = i-&gt;second + 1; j &lt;= <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[iNode]; j++) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      col[0] = 1 + j;  <span class="comment">// variable indicies</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      col[1] = 1 + (j-1);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      val[0] = 1.0; <span class="comment">// variable coefficients</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      val[1] = -1.0;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="comment">// there must be EXACTLY 1 cycle delay between variable j and j-1</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a>, 1.0);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="regexec_8c_html_ac07acfbb082b04f5bea72998c8976b3c"><div class="ttname"><a href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a></div><div class="ttdeci">#define EQ(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/regexec_8c_source.html#l00112">regexec.c:112</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2cae680d80d244922da323fa7560843"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addMultipumpConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00449">449</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                                      {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">// iterate over all BBs</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    std::vector&lt;Instruction *&gt; multipliers;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">// iterate over the instructions in a BB</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#aaaa75fea7379b3a5c70da8dd01410080">useExplicitDSP</a>(i)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;              multipliers.push_back(i);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;              <span class="comment">//if (asap_control_step[i] == alap_control_step[i]) continue;</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;              <span class="comment">//errs() &lt;&lt; &quot;I: &quot; &lt;&lt; *i &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;              <span class="comment">//errs() &lt;&lt; &quot;\tasap: &quot; &lt;&lt; asap_control_step[i] &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;              <span class="comment">//errs() &lt;&lt; &quot;\talap: &quot; &lt;&lt; alap_control_step[i] &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">//errs() &lt;&lt; &quot;Found &quot; &lt;&lt; multipliers.size() &lt;&lt; &quot; multipliers\n&quot;;</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="../../d0/df9/classlegup_1_1EdmondMatching.html">EdmondMatching</a> EM;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; multipliers.size(); i++) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="../../d4/dc4/structA.html">A</a> = multipliers.at(i);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="comment">//errs() &lt;&lt; &quot;A: &quot; &lt;&lt; *A &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = i+1; j &lt; multipliers.size(); j++) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *B = multipliers.at(j);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(B != A);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="comment">// are these two multiplier compatible?</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="comment">// not in the same basic block</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span> (B-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != A-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa26ec50bf85f4e6b4c730c5b226dfcd4">isDependent</a>(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(A),</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                              <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(B))) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa26ec50bf85f4e6b4c730c5b226dfcd4">isDependent</a>(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(B),</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                              <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(A))) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="comment">// do the intervals overlap?</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="comment">//errs() &lt;&lt; &quot;B: &quot; &lt;&lt; *B &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a01c5282154407fc5e4625ce12dc77614">test_overlap</a>(<a class="code" href="../../da/d91/namespacelegup.html#a7457bc6dcfcf4f47f2e9504746fb788d">asap_control_step</a>[A], <a class="code" href="../../da/d91/namespacelegup.html#a1ad10d2f2adaf811fe1c69bfa014f64a">alap_control_step</a>[A],</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                             <a class="code" href="../../da/d91/namespacelegup.html#a7457bc6dcfcf4f47f2e9504746fb788d">asap_control_step</a>[B], <a class="code" href="../../da/d91/namespacelegup.html#a1ad10d2f2adaf811fe1c69bfa014f64a">alap_control_step</a>[B])) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="comment">//errs() &lt;&lt; &quot;overlap\n&quot;;</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                EM.<a class="code" href="../../d0/df9/classlegup_1_1EdmondMatching.html#a98efcd83e992276c3af523da33b1812f">addEdge</a>(<a class="code" href="../../da/d91/namespacelegup.html#a7aca61bf5b59e809c9d009b7f7e1d3db">operationToVertex</a>(A), <a class="code" href="../../da/d91/namespacelegup.html#a7aca61bf5b59e809c9d009b7f7e1d3db">operationToVertex</a>(B));</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    EM.<a class="code" href="../../d0/df9/classlegup_1_1EdmondMatching.html#a309562409d8697af107cd788aeffd7e7">solveEdmondMatching</a>();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// calculate equality constraints</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordtype">int</span> col[2];</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    REAL val[2];</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">unsigned</span> matches = 0;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/df9/classlegup_1_1EdmondMatching.html#ae5dfb7d32f7482ce890006d36b287856">EdmondMatching::iterator</a> i = EM.<a class="code" href="../../d0/df9/classlegup_1_1EdmondMatching.html#a24574a8760ed369615f04ac3331bf7db">begin</a>(), ie = EM.<a class="code" href="../../d0/df9/classlegup_1_1EdmondMatching.html#a1c410b32f2bfcab434d6ecf225883c82">end</a>();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            i != ie; ++i) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="../../d0/df9/classlegup_1_1EdmondMatching.html#ac6f66b0c875312d1616ea83835aec5ed">EdmondMatching::EdgeType</a> edge = *i;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *A = <a class="code" href="../../da/d91/namespacelegup.html#ac1f4bf5f598cc9f975b4f492aabcae36">vertexToOperation</a>(edge.first);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *B = <a class="code" href="../../da/d91/namespacelegup.html#ac1f4bf5f598cc9f975b4f492aabcae36">vertexToOperation</a>(edge.second);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="comment">//errs() &lt;&lt; &quot;Paired:\n&quot;;</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">//errs() &lt;&lt; &quot;A: &quot; &lt;&lt; *A &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="comment">//errs() &lt;&lt; &quot;B: &quot; &lt;&lt; *B &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">        unsigned cycleConstraint =</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">            overlap_start(asap_control_step[A], alap_control_step[A],</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">                          asap_control_step[B], alap_control_step[B]);</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        matches++;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="comment">// set an equality constraint to put both multipliers in</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// the same state</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        col[0] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(A)];</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        val[0] = 1.0;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        col[1] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(B)];</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        val[1] = -1.0;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a>, 0);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        col[0] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(A)];</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        val[0] = 1.0;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        col[1] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(B)];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        val[1] = -1.0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a>, 0);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;Multipumping. inst: %s (idx: %u) and inst: %s (idx: %u) &quot;</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                   <span class="stringliteral">&quot;constrained to same cycle\n&quot;</span>, A-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a3d95172e192ecd22f18b0b76da6d2320">getOpcodeName</a>(),</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                   col[0], B-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a3d95172e192ecd22f18b0b76da6d2320">getOpcodeName</a>(), col[1]);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">//errs() &lt;&lt; &quot;Found &quot; &lt;&lt; matches &lt;&lt; &quot; pairs\n&quot;;</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div>
<div class="ttc" id="namespacelegup_html_ac1f4bf5f598cc9f975b4f492aabcae36"><div class="ttname"><a href="../../da/d91/namespacelegup.html#ac1f4bf5f598cc9f975b4f492aabcae36">legup::vertexToOperation</a></div><div class="ttdeci">Instruction * vertexToOperation(unsigned index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00427">SDCScheduler.cpp:427</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="classlegup_1_1EdmondMatching_html_a1c410b32f2bfcab434d6ecf225883c82"><div class="ttname"><a href="../../d0/df9/classlegup_1_1EdmondMatching.html#a1c410b32f2bfcab434d6ecf225883c82">legup::EdmondMatching::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d87/EdmondMatching_8h_source.html#l00024">EdmondMatching.h:24</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_aaaa75fea7379b3a5c70da8dd01410080"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#aaaa75fea7379b3a5c70da8dd01410080">legup::Allocation::useExplicitDSP</a></div><div class="ttdeci">bool useExplicitDSP(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df2/Allocation_8cpp_source.html#l00894">Allocation.cpp:894</a></div></div>
<div class="ttc" id="classlegup_1_1EdmondMatching_html_a24574a8760ed369615f04ac3331bf7db"><div class="ttname"><a href="../../d0/df9/classlegup_1_1EdmondMatching.html#a24574a8760ed369615f04ac3331bf7db">legup::EdmondMatching::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d87/EdmondMatching_8h_source.html#l00022">EdmondMatching.h:22</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aa26ec50bf85f4e6b4c730c5b226dfcd4"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa26ec50bf85f4e6b4c730c5b226dfcd4">legup::SDCScheduler::isDependent</a></div><div class="ttdeci">bool isDependent(InstructionNode *source, InstructionNode *dest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00099">SDCScheduler.cpp:99</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="namespacelegup_html_a7457bc6dcfcf4f47f2e9504746fb788d"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a7457bc6dcfcf4f47f2e9504746fb788d">legup::asap_control_step</a></div><div class="ttdeci">std::map&lt; Instruction *, unsigned &gt; asap_control_step</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00030">SDCScheduler.cpp:30</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="classlegup_1_1EdmondMatching_html_a98efcd83e992276c3af523da33b1812f"><div class="ttname"><a href="../../d0/df9/classlegup_1_1EdmondMatching.html#a98efcd83e992276c3af523da33b1812f">legup::EdmondMatching::addEdge</a></div><div class="ttdeci">void addEdge(unsigned, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d21/EdmondMatching_8cpp_source.html#l00050">EdmondMatching.cpp:50</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="regexec_8c_html_ac07acfbb082b04f5bea72998c8976b3c"><div class="ttname"><a href="../../db/d4b/regexec_8c.html#ac07acfbb082b04f5bea72998c8976b3c">EQ</a></div><div class="ttdeci">#define EQ(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/regexec_8c_source.html#l00112">regexec.c:112</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a3d95172e192ecd22f18b0b76da6d2320"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a3d95172e192ecd22f18b0b76da6d2320">llvm::Instruction::getOpcodeName</a></div><div class="ttdeci">const char * getOpcodeName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00088">Instruction.h:88</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacelegup_html_a1ad10d2f2adaf811fe1c69bfa014f64a"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a1ad10d2f2adaf811fe1c69bfa014f64a">legup::alap_control_step</a></div><div class="ttdeci">std::map&lt; Instruction *, unsigned &gt; alap_control_step</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00031">SDCScheduler.cpp:31</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="namespacelegup_html_a7aca61bf5b59e809c9d009b7f7e1d3db"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a7aca61bf5b59e809c9d009b7f7e1d3db">legup::operationToVertex</a></div><div class="ttdeci">unsigned operationToVertex(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00420">SDCScheduler.cpp:420</a></div></div>
<div class="ttc" id="structA_html"><div class="ttname"><a href="../../d4/dc4/structA.html">A</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00001">test.h:1</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1EdmondMatching_html"><div class="ttname"><a href="../../d0/df9/classlegup_1_1EdmondMatching.html">legup::EdmondMatching</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d87/EdmondMatching_8h_source.html#l00012">EdmondMatching.h:12</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="classlegup_1_1EdmondMatching_html_ae5dfb7d32f7482ce890006d36b287856"><div class="ttname"><a href="../../d0/df9/classlegup_1_1EdmondMatching.html#ae5dfb7d32f7482ce890006d36b287856">legup::EdmondMatching::iterator</a></div><div class="ttdeci">MatchesType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d87/EdmondMatching_8h_source.html#l00019">EdmondMatching.h:19</a></div></div>
<div class="ttc" id="namespacelegup_html_a01c5282154407fc5e4625ce12dc77614"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a01c5282154407fc5e4625ce12dc77614">legup::test_overlap</a></div><div class="ttdeci">bool test_overlap(int x1, int x2, int y1, int y2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00437">SDCScheduler.cpp:437</a></div></div>
<div class="ttc" id="classlegup_1_1EdmondMatching_html_a309562409d8697af107cd788aeffd7e7"><div class="ttname"><a href="../../d0/df9/classlegup_1_1EdmondMatching.html#a309562409d8697af107cd788aeffd7e7">legup::EdmondMatching::solveEdmondMatching</a></div><div class="ttdeci">void solveEdmondMatching()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d21/EdmondMatching_8cpp_source.html#l00021">EdmondMatching.cpp:21</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aaf76787165b40dae5e27c79a4ce0b7d1"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">legup::SDCScheduler::alloc</a></div><div class="ttdeci">Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">SDCScheduler.h:258</a></div></div>
<div class="ttc" id="classlegup_1_1EdmondMatching_html_ac6f66b0c875312d1616ea83835aec5ed"><div class="ttname"><a href="../../d0/df9/classlegup_1_1EdmondMatching.html#ac6f66b0c875312d1616ea83835aec5ed">legup::EdmondMatching::EdgeType</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; EdgeType</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d87/EdmondMatching_8h_source.html#l00017">EdmondMatching.h:17</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a659036451ae3e6550a66a87ba395bf58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addResourceConstraint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>constrainedFuName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>constraint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add constraints to the LP formulation so that that "allocation" constraints on the design are met. For example, we may want to schedule the design such that only a limited # of multipliers are available &ndash; such a constraint is called the "allocation" in HLS nomenclature.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">constrainedFuName</td><td>is the name of functional unit to constrain </td></tr>
    <tr><td class="paramname">constraint</td><td>is the number of functional units available</td></tr>
  </table>
  </dd>
</dl>
<p>These constraints are semi-OPTIONAL. Meaning, there may be a limited amount of resources on the device that make these constraints mandatory. </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00341">341</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                                {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="../../da/d91/namespacelegup.html#a1f8eb059a38f2abb733ccdd2f732ed58">myVariables</a> = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>];</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  get_variables(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, <a class="code" href="../../da/d91/namespacelegup.html#a1f8eb059a38f2abb733ccdd2f732ed58">myVariables</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="../../da/d91/namespacelegup.html#a5779b3a4789cf687ef767f7e580443fd">starts</a> = &amp;<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  std::vector&lt;InstructionNode*&gt; constrainedInstructions;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// iterate over all BBs</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    constrainedInstructions.clear();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// iterate over the instructions in a BB, collecting all the resource-constrained instructions in a container</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>* iNode = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>*     inst = iNode-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">std::string</a> FuName = <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a850f20af39b30df0f7981b18445b7f12">getOpNameFromInst</a>(inst, this-&gt;<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="comment">// continue if this is *not* the type of instruction being constrained</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> (FuName != constrainedFuName) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d9/d4a/namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Adding constraint for: specific FU &quot;</span> &lt;&lt; FuName</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; I:&quot;</span> &lt;&lt; *inst &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      constrainedInstructions.push_back(iNode);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    } <span class="comment">// over the instructions</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// sort the resource-constrained instructions based on the ALAP scheduling result, as suggested in Cong&#39;s SDC paper</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    std::sort(constrainedInstructions.begin(), constrainedInstructions.end(), <a class="code" href="../../da/d91/namespacelegup.html#aad84fb4a56402a6c80c9b24666bdadd5">ALAPPredicate</a>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">unsigned</span> i;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">int</span> col[2];</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    REAL val[2];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// constraints are added only between instructions within the SAME basic block:</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// the reason for this is that instructions in different basic blocks</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// are guaranteed to be scheduled in different cycles by LegUp.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (constrainedInstructions.size() &gt; 1) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;*ADD CONSTRAINT FOR ALAP: %d\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code" href="../../da/d91/namespacelegup.html#a1f8eb059a38f2abb733ccdd2f732ed58">myVariables</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[constrainedInstructions[0]]]);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, constrainedInstructions[0]-&gt;<a class="code" href="../../d9/d4a/namespacellvm.html#a8a03c871197f8b5608e36ec07dd81339">getInst</a>()-&gt;<a class="code" href="../../d7/dce/FastISelEmitter_8cpp.html#af9c98c6400764781f845594d9436f8b5">getOpcodeName</a>());</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">for</span> (i = constraint; i &lt; constrainedInstructions.size(); i++) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="comment">// create the dependency</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *<a class="code" href="../../d3/d1d/X86DisassemblerTables_8h.html#a22f7bc6ca5c607bad683f34b8cfd1f1c">i1</a> = constrainedInstructions[i];</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *<a class="code" href="../../d3/d1d/X86DisassemblerTables_8h.html#a3de536c5d252022532c8f0b06e87f157">i2</a> = constrainedInstructions[i-constraint]; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="comment">// instructions that are &quot;constraint&quot; indices apart in the sorted order will be forced into separate cycles</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="comment">// constraint is the # of resources of the given type (e.g. # of memory ports, # of dividers, etc)</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      col[0] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d3/d1d/X86DisassemblerTables_8h.html#a22f7bc6ca5c607bad683f34b8cfd1f1c">i1</a>];</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      val[0] = 1.0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      col[1] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d3/d1d/X86DisassemblerTables_8h.html#a3de536c5d252022532c8f0b06e87f157">i2</a>];</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      val[1] = -1;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="comment">// force the two instructions to be N cycles apart (last parameter) of the function call below,</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="comment">// where N is the initiation interval </span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="comment">// of the instruction&#39;s shared functional unit.  The initiation interval is 1 in </span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="comment">// the typical case, however, it can be &gt; 1 for certain types of functional units </span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="comment">// (any kind of unit that cannot accept new inputs every cycle, such as a serial adder for example)</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">GE</a>, <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a5ec2386ffcd0f5ea55ec051232ac881b">Scheduler::getInitiationInterval</a>(i1-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>())); </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  } <span class="comment">// over the BBs of a function</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keyword">delete</span> [] <a class="code" href="../../da/d91/namespacelegup.html#a1f8eb059a38f2abb733ccdd2f732ed58">myVariables</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div>
<div class="ttc" id="namespacellvm_html_ab8e34eca3b0817ef7a127913fbf6d9e4"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">llvm::errs</a></div><div class="ttdeci">raw_ostream &amp; errs()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5f/raw__ostream_8cpp_source.html#l00671">raw_ostream.cpp:671</a></div></div>
<div class="ttc" id="namespacelegup_html_a1f8eb059a38f2abb733ccdd2f732ed58"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a1f8eb059a38f2abb733ccdd2f732ed58">legup::myVariables</a></div><div class="ttdeci">static REAL * myVariables</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00314">SDCScheduler.cpp:314</a></div></div>
<div class="ttc" id="X86DisassemblerTables_8h_html_a3de536c5d252022532c8f0b06e87f157"><div class="ttname"><a href="../../d3/d1d/X86DisassemblerTables_8h.html#a3de536c5d252022532c8f0b06e87f157">i2</a></div><div class="ttdeci">***NAME is the name of the raw_ostream unsigned unsigned &amp; i2</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/X86DisassemblerTables_8h_source.html#l00149">X86DisassemblerTables.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b"><div class="ttname"><a href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">llvm::AArch64CC::GE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc0/AArch64BaseInfo_8h_source.html#l00203">AArch64BaseInfo.h:203</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="namespacelegup_html_aad84fb4a56402a6c80c9b24666bdadd5"><div class="ttname"><a href="../../da/d91/namespacelegup.html#aad84fb4a56402a6c80c9b24666bdadd5">legup::ALAPPredicate</a></div><div class="ttdeci">bool ALAPPredicate(InstructionNode *d1, InstructionNode *d2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00320">SDCScheduler.cpp:320</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="namespacetesting_1_1internal_html_a8e8ff5b11e64078831112677156cb111"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">testing::internal::string</a></div><div class="ttdeci">::std::string string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/gtest-port_8h_source.html#l00766">gtest-port.h:766</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a850f20af39b30df0f7981b18445b7f12"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a850f20af39b30df0f7981b18445b7f12">legup::LegupConfig::getOpNameFromInst</a></div><div class="ttdeci">std::string getOpNameFromInst(Instruction *instr, Allocation *alloc)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00580">LegupConfig.cpp:580</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="FastISelEmitter_8cpp_html_af9c98c6400764781f845594d9436f8b5"><div class="ttname"><a href="../../d7/dce/FastISelEmitter_8cpp.html#af9c98c6400764781f845594d9436f8b5">getOpcodeName</a></div><div class="ttdeci">static std::string getOpcodeName(Record *Op, CodeGenDAGPatterns &amp;CGP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dce/FastISelEmitter_8cpp_source.html#l00390">FastISelEmitter.cpp:390</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_acff2ce24d4af2ac3479ade8f014d5347"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">legup::InstructionNode::getInst</a></div><div class="ttdeci">Instruction * getInst()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00120">SchedulerDAG.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="namespacellvm_html_a8a03c871197f8b5608e36ec07dd81339"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a8a03c871197f8b5608e36ec07dd81339">llvm::getInst</a></div><div class="ttdeci">Instruction * getInst(Value *base, char *instName)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/NVPTXUtilities_8cpp_source.html#l00480">NVPTXUtilities.cpp:480</a></div></div>
<div class="ttc" id="namespacelegup_html_a5779b3a4789cf687ef767f7e580443fd"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a5779b3a4789cf687ef767f7e580443fd">legup::starts</a></div><div class="ttdeci">static std::map&lt; InstructionNode *, unsigned &gt; * starts</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00315">SDCScheduler.cpp:315</a></div></div>
<div class="ttc" id="X86DisassemblerTables_8h_html_a22f7bc6ca5c607bad683f34b8cfd1f1c"><div class="ttname"><a href="../../d3/d1d/X86DisassemblerTables_8h.html#a22f7bc6ca5c607bad683f34b8cfd1f1c">i1</a></div><div class="ttdeci">***NAME is the name of the raw_ostream unsigned &amp; i1</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1d/X86DisassemblerTables_8h_source.html#l00149">X86DisassemblerTables.h:149</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a5ec2386ffcd0f5ea55ec051232ac881b"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a5ec2386ffcd0f5ea55ec051232ac881b">legup::Scheduler::getInitiationInterval</a></div><div class="ttdeci">static unsigned getInitiationInterval(Instruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df7/Scheduler_8cpp_source.html#l00147">Scheduler.cpp:147</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aaf76787165b40dae5e27c79a4ce0b7d1"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">legup::SDCScheduler::alloc</a></div><div class="ttdeci">Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">SDCScheduler.h:258</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10e8973dde8a2aafd145b25d51db6647"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addTimingConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add constraints to the LP formulation to realize the clock period constraints on this design. This uses the delays of LLVM instructions and the clockPeriodConstraint on the design to schedule things such that the timing constraints are met.</p>
<p>These constraints are OPTIONAL.</p>
<p>??? janders what to do about interconnect delay estimations? </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00296">296</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                                   {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// iterate over all BBs</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// iterate over the instructions in a BB</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>* iNode = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">addTimingConstraints</a>(iNode, iNode, iNode-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a0b6043ae1b19691deb1e97d66bb1cb9f">getDelay</a>());</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a10e8973dde8a2aafd145b25d51db6647"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">legup::SDCScheduler::addTimingConstraints</a></div><div class="ttdeci">void addTimingConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00296">SDCScheduler.cpp:296</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a0b6043ae1b19691deb1e97d66bb1cb9f"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a0b6043ae1b19691deb1e97d66bb1cb9f">legup::InstructionNode::getDelay</a></div><div class="ttdeci">float getDelay()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00106">SchedulerDAG.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae008ccbaacc840d5ae0263a8838ff359"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::addTimingConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *&#160;</td>
          <td class="paramname"><em>Root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *&#160;</td>
          <td class="paramname"><em>Curr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>PartialPathDelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This recursive function adds timing constraints into the math formulation between a Root node and the dependent nodes of a Curr node (which is in Root's transitive fanin). It then makes a recursive call to itself, where the Curr node is replaced with its dependant nodes. The partial path delay is the cumulative combinational delay between the Root node and the Curr node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Root</td><td><a class="el" href="../../d4/dc4/structA.html">A</a> node in the DFG. </td></tr>
    <tr><td class="paramname">Curr</td><td><a class="el" href="../../d4/dc4/structA.html">A</a> node in the DFG in the transitive fanin of the Root. </td></tr>
    <tr><td class="paramname">PartialPathDelay</td><td>The total combinational path delay from Curr to Root. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00245">245</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                                                {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">int</span> col[2];</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    REAL val[2];</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// don&#39;t constraint multi-cycle operations</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// dependency has more than 1 cycle latency, so this dependency will</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// already be in another cycle.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(Root-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()) &gt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(Curr-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()) &gt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// Walk through the dependencies</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">InstructionNode::iterator</a> i = Curr-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">dep_begin</a>(),</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            e = Curr-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">dep_end</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">// dependency from depNode -&gt; Curr</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *depNode = *i;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(depNode-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()) &gt; 0)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordtype">float</span> delay = PartialPathDelay + depNode-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a0b6043ae1b19691deb1e97d66bb1cb9f">getDelay</a>();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordtype">unsigned</span> cycleConstraint = <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa782c4e760a1f85a047f0f445fe9a166">ceil</a>(delay / <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">if</span> (cycleConstraint &gt; 0)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            cycleConstraint--;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">if</span> (cycleConstraint &gt; 0) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="comment">// if cycleConstraint == 0, we don&#39;t need to add the constraint.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="comment">// the reason is that such constraints are ALREADY present in the LP</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="comment">// formulation, as they are depedency constraints  -- constraints</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="comment">// that express that an operation must happen AFTER the operations</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">// producuing results that it depends on</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            col[0] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[Root];</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            val[0] = 1.0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            col[1] = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[depNode];</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            val[1] = -1.0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 2, val, col, <a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">GE</a>, cycleConstraint);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;CYCLE CONSTRAINT: %u BETWEEN %d %d (delay: %f period: %f)\n&quot;</span>,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    cycleConstraint, col[1], col[0], delay, <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(cycleConstraint == 0);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="comment">// recursive call to discover other instructions</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">addTimingConstraints</a>(Root, depNode, delay);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a167360fd446a3476da29fcaa3a45c3f8"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">legup::InstructionNode::dep_end</a></div><div class="ttdeci">iterator dep_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00050">SchedulerDAG.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b"><div class="ttname"><a href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">llvm::AArch64CC::GE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc0/AArch64BaseInfo_8h_source.html#l00203">AArch64BaseInfo.h:203</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_ae6ff9ff55c8b42c3edb92fe7893c39ca"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">legup::InstructionNode::iterator</a></div><div class="ttdeci">depType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00035">SchedulerDAG.h:35</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a10e8973dde8a2aafd145b25d51db6647"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">legup::SDCScheduler::addTimingConstraints</a></div><div class="ttdeci">void addTimingConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00296">SDCScheduler.cpp:296</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a1de8ce1ff517384ffc539563bee13a6b"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">legup::InstructionNode::dep_begin</a></div><div class="ttdeci">iterator dep_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00048">SchedulerDAG.h:48</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_acff2ce24d4af2ac3479ade8f014d5347"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">legup::InstructionNode::getInst</a></div><div class="ttdeci">Instruction * getInst()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00120">SchedulerDAG.h:120</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a66ada748e6712e120a70fd420b2f6766"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">legup::Scheduler::clockPeriodConstraint</a></div><div class="ttdeci">float clockPeriodConstraint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00081">Scheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a0b6043ae1b19691deb1e97d66bb1cb9f"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a0b6043ae1b19691deb1e97d66bb1cb9f">legup::InstructionNode::getDelay</a></div><div class="ttdeci">float getDelay()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00106">SchedulerDAG.h:106</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faa782c4e760a1f85a047f0f445fe9a166"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa782c4e760a1f85a047f0f445fe9a166">llvm::LibFunc::ceil</a></div><div class="ttdoc">double ceil(double x); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00157">TargetLibraryInfo.h:157</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a39b25b2e646b54dcf7124b566427785e"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">legup::Scheduler::getNumInstructionCycles</a></div><div class="ttdeci">static unsigned getNumInstructionCycles(Instruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df7/Scheduler_8cpp_source.html#l00028">Scheduler.cpp:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65a29e645bfdea35ed29f1f448412aaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool legup::Scheduler::canChainAfter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>instr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9c511cc133eb4a56993606e66c41f709"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool legup::Scheduler::canChainAfter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>instr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>before</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a24fb5f98edcbdb8ca31e02da91135603"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool legup::Scheduler::canChainBefore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>instr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab9666786f5448507cd005aede44b68df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::createLPVariables </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the mapping from LLVM instructions to variables in the LP formulation. An instruction that takes N cycles, will have N variables in the LP formulation. Variables in the LP formulation are represented by numerical indicies.</p>
<p>The variables will hold the cycle #s to which instructions are assigned in the schedule. </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00041">41</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                                {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">// iterate over all BBs</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// iterate over the instructions in a BB</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a>++;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>* iNode = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[iNode] = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keywordtype">int</span> latency = <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(i);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[iNode] = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a> + latency;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a> += (1 + latency);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor"></span>      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(i))</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;OPCODE: %s CYCLES: %d\n&quot;</span>, i-&gt;getOpcodeName(), <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(i));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor"></span>      </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;SDC: # of variables: %d # of instructions: %d\n&quot;</span>, <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>, <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// build an empty LP instance with the right # of variables</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a> = make_lp(0, <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a11954c78e86bb7875112c04451e15543"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">legup::SDCScheduler::numInst</a></div><div class="ttdeci">int numInst</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00098">SDCScheduler.h:98</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a39b25b2e646b54dcf7124b566427785e"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">legup::Scheduler::getNumInstructionCycles</a></div><div class="ttdeci">static unsigned getNumInstructionCycles(Instruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df7/Scheduler_8cpp_source.html#l00028">Scheduler.cpp:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d32ae21e37afc725753407a0b192853"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d92/classlegup_1_1SchedulerMapping.html">SchedulerMapping</a> * legup::SDCScheduler::createMapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d59/classlegup_1_1SchedulerDAG.html">SchedulerDAG</a> *&#160;</td>
          <td class="paramname"><em>dag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Key function that performs the scheduling. Only the high-level control is implemented here. </p>

<p>Implements <a class="el" href="../../d2/d0e/classlegup_1_1Scheduler.html#abbd28168524e48939946779c5d28a82f">legup::Scheduler</a>.</p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00864">864</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                                                            {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a> = <span class="keyword">new</span> <a class="code" href="../../df/d92/classlegup_1_1SchedulerMapping.html">SchedulerMapping</a>();</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  this-&gt;dag = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// create variables in the LP formulation for</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">// each of the instructions to be scheduled in the LLVM IR</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab9666786f5448507cd005aede44b68df">createLPVariables</a>(F);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="comment">// add multi-cycle instruction constraints</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="comment">// these are the the math constraints for the instructions</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="comment">// that take multiple cycles to complete, for example, the multiply instruction </span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="comment">// in the Cyclone II FPGA</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a02f1a83834eff2d38da943de44c38696">addMulticycleConstraints</a>(F);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;SDC_NO_CHAINING&quot;</span>)) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a> = <span class="keyword">false</span>; <span class="comment">// no chaining means that the design will be pipelined as much as possible</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="comment">// add the constraints to the LP so that instructions</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">// are scheduled in cycles &gt;= the cycles where their</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="comment">// dependencies are computed</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">addDependencyConstraints</a>(F);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="comment">// scheduling of llvm.dbg.value instructions (used for debugging)</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a454216548e0d8699c5275adaf13038ea">addDbgValueInstConstraints</a>(F);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a> = 15; <span class="comment">// 66 MHz</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;CLOCK_PERIOD&quot;</span>)) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a> =</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          (float)<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;CLOCK_PERIOD&quot;</span>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a> &amp;&amp; <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a> &gt; 0) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">addTimingConstraints</a>(F);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="comment">// do the scheduling</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8c9ab873c7df1d04de744987000e706b">scheduleAXAP</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// Make updates to the scheduling just produced</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8993bc31d9dd8e0705e0d9e53ad7c421">do_post_scheduling_steps</a>(F);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="comment">// deposit schedule into the schedule map data struction</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa401ccb923bb3fb537c848f7f6134004">depositSchedule</a>(F);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">// The current schedule has been stored to &quot;map&quot;. Now, check</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="comment">// whether data paths should be multi-cycled in this compilation.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">// If so, remove the registers from data paths here.</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">// Then, if software profiling was performed for this compilation,</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// check whether data path latencies should be extended for infrequent BB.</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// If they should be, a second scheduling phase is also performed here.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a39755c13df4bc75292c985f07f395675">multicycle_and_modify_schedule</a>(F);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  delete_lp(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_ab9666786f5448507cd005aede44b68df"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab9666786f5448507cd005aede44b68df">legup::SDCScheduler::createLPVariables</a></div><div class="ttdeci">void createLPVariables(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00041">SDCScheduler.cpp:41</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aa401ccb923bb3fb537c848f7f6134004"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa401ccb923bb3fb537c848f7f6134004">legup::SDCScheduler::depositSchedule</a></div><div class="ttdeci">void depositSchedule(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00605">SDCScheduler.cpp:605</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a8993bc31d9dd8e0705e0d9e53ad7c421"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8993bc31d9dd8e0705e0d9e53ad7c421">legup::SDCScheduler::do_post_scheduling_steps</a></div><div class="ttdeci">void do_post_scheduling_steps(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00758">SDCScheduler.cpp:758</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a10e8973dde8a2aafd145b25d51db6647"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">legup::SDCScheduler::addTimingConstraints</a></div><div class="ttdeci">void addTimingConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00296">SDCScheduler.cpp:296</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a22bed3c686e0b2766db6c1d6851b826f"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">legup::LegupConfig::getParameterInt</a></div><div class="ttdeci">int getParameterInt(std::string name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/LegupConfig_8h_source.html#l00315">LegupConfig.h:315</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a8c9ab873c7df1d04de744987000e706b"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8c9ab873c7df1d04de744987000e706b">legup::SDCScheduler::scheduleAXAP</a></div><div class="ttdeci">void scheduleAXAP(bool ASAP=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00664">SDCScheduler.cpp:664</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_adee619a6f52aef50f1fdb9e54230f64e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">legup::SDCScheduler::addDependencyConstraints</a></div><div class="ttdeci">void addDependencyConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00176">SDCScheduler.cpp:176</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a02f1a83834eff2d38da943de44c38696"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a02f1a83834eff2d38da943de44c38696">legup::SDCScheduler::addMulticycleConstraints</a></div><div class="ttdeci">void addMulticycleConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00070">SDCScheduler.cpp:70</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a4473cc8e60b02b83a93f1977a36f9e12"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">legup::SDCScheduler::map</a></div><div class="ttdeci">SchedulerMapping * map</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00248">SDCScheduler.h:248</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a66ada748e6712e120a70fd420b2f6766"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">legup::Scheduler::clockPeriodConstraint</a></div><div class="ttdeci">float clockPeriodConstraint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00081">Scheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a39755c13df4bc75292c985f07f395675"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a39755c13df4bc75292c985f07f395675">legup::SDCScheduler::multicycle_and_modify_schedule</a></div><div class="ttdeci">void multicycle_and_modify_schedule(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d12/MultiCycle_8cpp_source.html#l00392">MultiCycle.cpp:392</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a3dff8433b799b908fd7fffb0e087950e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">legup::SDCScheduler::chaining</a></div><div class="ttdeci">bool chaining</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00081">SDCScheduler.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a454216548e0d8699c5275adaf13038ea"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a454216548e0d8699c5275adaf13038ea">legup::SDCScheduler::addDbgValueInstConstraints</a></div><div class="ttdeci">void addDbgValueInstConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00192">SDCScheduler.cpp:192</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerMapping_html"><div class="ttname"><a href="../../df/d92/classlegup_1_1SchedulerMapping.html">legup::SchedulerMapping</a></div><div class="ttdoc">Legup Scheduler data structure for Instruction to state # lookup. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00171">SchedulerDAG.h:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa401ccb923bb3fb537c848f7f6134004"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::depositSchedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print the schedule to the screen. </p>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00605">605</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                              {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  REAL* variables = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>];</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  get_variables(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, variables);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d5/d10/namespacespill-01.html#ab04276f5fa92a67247d55e40ca7b7a04">count</a> = 0;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="comment">// iterate over all BBs</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordtype">unsigned</span> numStatesInBB = 0;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordtype">int</span> pipelined = <a class="code" href="../../da/d91/namespacelegup.html#a371f203198833c25c249f0cd7cb99e6e">getMetadataInt</a>(b-&gt;getTerminator(), <span class="stringliteral">&quot;legup.pipelined&quot;</span>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="comment">// iterate over the instructions in a BB</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordtype">unsigned</span> idx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i)];</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordtype">unsigned</span> stateAssigned = (unsigned)variables[idx];</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;BB: %d INSTR OPCODE: %s (IDX: %d) CLOCK CYCLE ASSIGNED: %u\n&quot;</span>, count, </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;               i-&gt;getOpcodeName(), idx+1, stateAssigned);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a>-&gt;<a class="code" href="../../df/d92/classlegup_1_1SchedulerMapping.html#a7595f7cdf76303380b113f87468e4561">setState</a>(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i), stateAssigned);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="comment">// add extra cycles for multi-cycle instructions</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">// except for pipelining where iterative modulo scheduling has already</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="comment">// handled multi-cycle instructions</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span> (!pipelined) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;          stateAssigned += <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">Scheduler::getNumInstructionCycles</a>(i);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="keywordflow">if</span> (stateAssigned &gt; numStatesInBB) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          numStatesInBB = stateAssigned;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    count++;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a>-&gt;<a class="code" href="../../df/d92/classlegup_1_1SchedulerMapping.html#aacd656afcc979fea701bca2d7621eb6c">setNumStates</a>(b, numStatesInBB);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// ??? janders -- not sure if the code below is NEEDED </span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// this was borrowed from the previous implementation</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *inst = b-&gt;getTerminator();</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ReturnInst&gt;(inst)) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *in = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(inst);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a>-&gt;<a class="code" href="../../df/d92/classlegup_1_1SchedulerMapping.html#a7595f7cdf76303380b113f87468e4561">setState</a>(in, numStatesInBB);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keyword">delete</span> [] variables;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerMapping_html_aacd656afcc979fea701bca2d7621eb6c"><div class="ttname"><a href="../../df/d92/classlegup_1_1SchedulerMapping.html#aacd656afcc979fea701bca2d7621eb6c">legup::SchedulerMapping::setNumStates</a></div><div class="ttdeci">void setNumStates(BasicBlock *bb, unsigned u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00176">SchedulerDAG.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="namespacelegup_html_a371f203198833c25c249f0cd7cb99e6e"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a371f203198833c25c249f0cd7cb99e6e">legup::getMetadataInt</a></div><div class="ttdeci">int getMetadataInt(const Instruction *I, std::string kind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00468">Target/Verilog/utils.cpp:468</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerMapping_html_a7595f7cdf76303380b113f87468e4561"><div class="ttname"><a href="../../df/d92/classlegup_1_1SchedulerMapping.html#a7595f7cdf76303380b113f87468e4561">legup::SchedulerMapping::setState</a></div><div class="ttdeci">void setState(InstructionNode *i, unsigned u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00174">SchedulerDAG.h:174</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a4473cc8e60b02b83a93f1977a36f9e12"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">legup::SDCScheduler::map</a></div><div class="ttdeci">SchedulerMapping * map</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00248">SDCScheduler.h:248</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a39b25b2e646b54dcf7124b566427785e"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a39b25b2e646b54dcf7124b566427785e">legup::Scheduler::getNumInstructionCycles</a></div><div class="ttdeci">static unsigned getNumInstructionCycles(Instruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df7/Scheduler_8cpp_source.html#l00028">Scheduler.cpp:28</a></div></div>
<div class="ttc" id="namespacespill-01_html_ab04276f5fa92a67247d55e40ca7b7a04"><div class="ttname"><a href="../../d5/d10/namespacespill-01.html#ab04276f5fa92a67247d55e40ca7b7a04">spill-01.count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d57/spill-01_8py_source.html#l00021">spill-01.py:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8993bc31d9dd8e0705e0d9e53ad7c421"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::do_post_scheduling_steps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00758">758</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;{</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  REAL* variables = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>];</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  get_variables(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, variables);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; i++) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;          <span class="keywordtype">unsigned</span> idx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">endVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i)];</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;          <span class="keywordtype">int</span> stateAssigned = variables[idx];</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;ASAP BB: %s INSTR: %s OPCODE: %s (IDX: %d) CLOCK &quot;</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                  <span class="stringliteral">&quot;END CYCLE ASSIGNED: %u\n&quot;</span>, <a class="code" href="../../da/d91/namespacelegup.html#a4ebc676815d68fd02755f1ecf339f0d5">getLabel</a>(b).<a class="code" href="../../d9/d4a/namespacellvm.html#af11d71816b6dc7c266e71fcff02be291">c_str</a>(),</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                  <a class="code" href="../../da/d91/namespacelegup.html#a4ebc676815d68fd02755f1ecf339f0d5">getLabel</a>(i).<a class="code" href="../../d9/d4a/namespacellvm.html#af11d71816b6dc7c266e71fcff02be291">c_str</a>(), i-&gt;getOpcodeName(), idx+1,</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                  stateAssigned);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;SDC_MULTIPUMP&quot;</span>)) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;              <a class="code" href="../../da/d91/namespacelegup.html#a7457bc6dcfcf4f47f2e9504746fb788d">asap_control_step</a>[i] = stateAssigned;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;          }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="comment">// the number of constraints in the LP formulation before we add constraints</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// for ALAP scheduling</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordtype">int</span> Nrows = 0;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;SDC_RES_CONSTRAINTS&quot;</span>)) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// ALAP scheduling, if desired, must be done</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// after ASAP scheduling.  The ASAP scheduling</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">// is used to derive a MAXIMUM cycle bound</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// on the schedule</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// we do ALAP scheduling in two cases: when the user actually WANTS it, and also when</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// we are doing resource-constrained scheduling</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    Nrows = get_Nrows(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa1018dab887a7fbd0d96796a08f84e13">addALAPConstraints</a>(F);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;SOLVING ALAP to determine ordering for resource constraints\n&quot;</span>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ae56718c7246fefd2faa102bacd465fab">scheduleALAP</a>();</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;SDC_RES_CONSTRAINTS&quot;</span>)) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// delete the ALAP constraints (the most recently added rows of the LP formulation)</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// this returns the LP formulation back to ASAP</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// the reason we are doing is that the resource constraints will (most likely)</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// dilate the schedule making it longer since the original ASAP scheduling</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// was done without considering such constraints.  </span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// so we cannot expect the resource-constrained schedule to be as short as the</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// unconstrained schedule.  we therefore must delete the ALAP constraints.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = get_Nrows(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>); i &gt; Nrows; i--)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        del_constraint(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, i);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// get all unique FU types in the function</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    std::set&lt;std::string&gt; seenFUType;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; b++) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = b-&gt;begin(), ie = b-&gt;end(); <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ie;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <a class="code" href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">std::string</a> FuName = <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a850f20af39b30df0f7981b18445b7f12">getOpNameFromInst</a>(<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    this-&gt;<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <span class="keywordflow">if</span> (seenFUType.find(FuName) != seenFUType.end()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            seenFUType.insert(FuName);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordtype">int</span> constraint;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a5be8402ab5d9747c2977138aca048784">getNumberOfFUsAllocated</a>(FuName, &amp;constraint)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d9/d4a/namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Adding constraint for specific FU: &quot;</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                &lt;&lt; FuName &lt;&lt; <span class="stringliteral">&quot; of: &quot;</span> &lt;&lt; constraint &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a659036451ae3e6550a66a87ba395bf58">addResourceConstraint</a>(F, FuName, constraint);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// invoke ASAP scheduling (with added resource constraints)</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a72002d744122621ff207f6a7e4d41dce">scheduleASAP</a>();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// must do ALAP after resource constrained ASAP scheduling because the</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// maximum cycle bound of the schedule might have changed</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">// this is only if the user WANTS ALAP scheduling (via TCL file settings)</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;SDC_ALAP&quot;</span>)) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    Nrows = get_Nrows(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa1018dab887a7fbd0d96796a08f84e13">addALAPConstraints</a>(F);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;SOLVING ALAP\n&quot;</span>);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ae56718c7246fefd2faa102bacd465fab">scheduleALAP</a>();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// for multipumping we want to group multipliers into the same cycle</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// if their min (ASAP) and max (ALAP) cycle constraints overlap</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;SDC_MULTIPUMP&quot;</span>)) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a74dbf34282228ad465bc950b6ef02a0f">add_lp_constraints_for_sdc_multipump</a>(F);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="comment">// already has ALAP constraints so we have to solve as an ALAP schedule</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="comment">// or can i...?</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="comment">//scheduleALAP();</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a72002d744122621ff207f6a7e4d41dce">scheduleASAP</a>();</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_ae56718c7246fefd2faa102bacd465fab"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ae56718c7246fefd2faa102bacd465fab">legup::SDCScheduler::scheduleALAP</a></div><div class="ttdeci">void scheduleALAP()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00660">SDCScheduler.cpp:660</a></div></div>
<div class="ttc" id="namespacellvm_html_ab8e34eca3b0817ef7a127913fbf6d9e4"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">llvm::errs</a></div><div class="ttdeci">raw_ostream &amp; errs()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5f/raw__ostream_8cpp_source.html#l00671">raw_ostream.cpp:671</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a659036451ae3e6550a66a87ba395bf58"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a659036451ae3e6550a66a87ba395bf58">legup::SDCScheduler::addResourceConstraint</a></div><div class="ttdeci">void addResourceConstraint(Function *F, std::string constrainedFuName, unsigned constraint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00341">SDCScheduler.cpp:341</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="namespacelegup_html_a4ebc676815d68fd02755f1ecf339f0d5"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a4ebc676815d68fd02755f1ecf339f0d5">legup::getLabel</a></div><div class="ttdeci">std::string getLabel(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00088">Target/Verilog/utils.cpp:88</a></div></div>
<div class="ttc" id="namespacetesting_1_1internal_html_a8e8ff5b11e64078831112677156cb111"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">testing::internal::string</a></div><div class="ttdeci">::std::string string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/gtest-port_8h_source.html#l00766">gtest-port.h:766</a></div></div>
<div class="ttc" id="namespacelegup_html_a7457bc6dcfcf4f47f2e9504746fb788d"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a7457bc6dcfcf4f47f2e9504746fb788d">legup::asap_control_step</a></div><div class="ttdeci">std::map&lt; Instruction *, unsigned &gt; asap_control_step</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00030">SDCScheduler.cpp:30</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a22bed3c686e0b2766db6c1d6851b826f"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">legup::LegupConfig::getParameterInt</a></div><div class="ttdeci">int getParameterInt(std::string name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/LegupConfig_8h_source.html#l00315">LegupConfig.h:315</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a850f20af39b30df0f7981b18445b7f12"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a850f20af39b30df0f7981b18445b7f12">legup::LegupConfig::getOpNameFromInst</a></div><div class="ttdeci">std::string getOpNameFromInst(Instruction *instr, Allocation *alloc)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00580">LegupConfig.cpp:580</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="namespacellvm_html_af11d71816b6dc7c266e71fcff02be291"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#af11d71816b6dc7c266e71fcff02be291">llvm::c_str</a></div><div class="ttdeci">SmallVectorImpl&lt; T &gt;::const_pointer c_str(SmallVectorImpl&lt; T &gt; &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d13/WindowsSupport_8h_source.html#l00158">WindowsSupport.h:158</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a72002d744122621ff207f6a7e4d41dce"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a72002d744122621ff207f6a7e4d41dce">legup::SDCScheduler::scheduleASAP</a></div><div class="ttdeci">void scheduleASAP()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00656">SDCScheduler.cpp:656</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aeb484b2563140617ae8828600f7b52eb"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aeb484b2563140617ae8828600f7b52eb">legup::SDCScheduler::endVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; endVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">SDCScheduler.h:113</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aaf76787165b40dae5e27c79a4ce0b7d1"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">legup::SDCScheduler::alloc</a></div><div class="ttdeci">Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">SDCScheduler.h:258</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aa1018dab887a7fbd0d96796a08f84e13"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa1018dab887a7fbd0d96796a08f84e13">legup::SDCScheduler::addALAPConstraints</a></div><div class="ttdeci">void addALAPConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00545">SDCScheduler.cpp:545</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a5be8402ab5d9747c2977138aca048784"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a5be8402ab5d9747c2977138aca048784">legup::LegupConfig::getNumberOfFUsAllocated</a></div><div class="ttdeci">bool getNumberOfFUsAllocated(std::string FuName, int *number)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00550">LegupConfig.cpp:550</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a74dbf34282228ad465bc950b6ef02a0f"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a74dbf34282228ad465bc950b6ef02a0f">legup::SDCScheduler::add_lp_constraints_for_sdc_multipump</a></div><div class="ttdeci">void add_lp_constraints_for_sdc_multipump(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00713">SDCScheduler.cpp:713</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59a2af252d50d2c6b537ca908e963369"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::find_instructions_to_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>Instruction_to_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html#l00225">225</a> of file <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html">MultiCycle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// for all BBs in F</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; ++b) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// Call a helper to find the instructions requiring registers</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#ad1637cd7478e8d64dab8ff157dbb7b80">is_BB_executed_infrequently</a>(b)) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a03f1c0a92ba4c54b0cee800dc78c8fa0">find_instructions_to_delay_in_BB</a>(b, mc_dest_instructions_to_state);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_ad1637cd7478e8d64dab8ff157dbb7b80"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#ad1637cd7478e8d64dab8ff157dbb7b80">legup::Allocation::is_BB_executed_infrequently</a></div><div class="ttdeci">bool is_BB_executed_infrequently(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df2/Allocation_8cpp_source.html#l01035">Allocation.cpp:1035</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a03f1c0a92ba4c54b0cee800dc78c8fa0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a03f1c0a92ba4c54b0cee800dc78c8fa0">legup::SDCScheduler::find_instructions_to_delay_in_BB</a></div><div class="ttdeci">void find_instructions_to_delay_in_BB(BasicBlock *b, std::map&lt; Instruction *, int &gt; &amp;Instruction_to_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d12/MultiCycle_8cpp_source.html#l00286">MultiCycle.cpp:286</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aaf76787165b40dae5e27c79a4ce0b7d1"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">legup::SDCScheduler::alloc</a></div><div class="ttdeci">Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">SDCScheduler.h:258</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03f1c0a92ba4c54b0cee800dc78c8fa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::find_instructions_to_delay_in_BB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>Instruction_to_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html#l00286">286</a> of file <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html">MultiCycle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot;\n\nInfrequent Basic Block:&quot;</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    REAL *variables = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>];</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    get_variables(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, variables);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// We may also want to push the terminator (branch, ret, etc.) of</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// this basic block. But only do that if the BB has some other</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// multi-cycle path in it.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">bool</span> bb_has_multicycle_path = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// for all I in BB</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(), ie = b-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>(); i != ie; ++i) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="comment">// The updated state of i is its originally scheduled state</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="comment">// plus whatever latency we want to add</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordtype">unsigned</span> idx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i)];</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordtype">unsigned</span> current_state = (unsigned)variables[idx];</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="comment">// By default we add latency depending on LLVM_PROFILE_EXTRA_CYCLES</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="comment">// However this does not work well for BB with multiple consecutive</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="comment">// paths. An alternative is to use a multiplier based on the state.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordtype">unsigned</span> extended_state;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE_STRETCH_BB&quot;</span>)) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordtype">unsigned</span> stretch_factor =</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE_EXTRA_CYCLES&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            extended_state = (unsigned)((<span class="keywordtype">float</span>)current_state *</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                        (float)(stretch_factor + 0.5));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordtype">unsigned</span> extra_latency =</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE_EXTRA_CYCLES&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            extended_state = current_state + extra_latency;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">// Another idea: Can also extend more if very infrequent (e.g. 1%,</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">// extend 2 cycles)</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">// Determine whether we want to push this instruction to a later</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">// state, i.e. if it terminates a MC path and is not a PHI or</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="comment">// something.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a2b539fac0848eda3c12837d22a056eca">mc_push_inst_to_later_state</a>(i)) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="comment">// Push to a later cycle when we re-schedule.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot;\nMulti-cycle paths: Pushing &quot;</span> &lt;&lt; *i</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot; to state &gt;= &quot;</span> &lt;&lt; extended_state;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            mc_dest_instructions_to_state[i] = extended_state;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            bb_has_multicycle_path = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// If this BB had any multi-cycle paths, now extend the latency of</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// the entire BB, thereby dilating every path &quot;exiting&quot; this BB.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (bb_has_multicycle_path) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *t = b-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot;\nBB has terminator &quot;</span> &lt;&lt; *t;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordtype">bool</span> push_to_later_state = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">if</span> (isa&lt;ReturnInst&gt;(*t)) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            push_to_later_state = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;BranchInst&gt;(*t)) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            push_to_later_state = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">            else if (isa&lt;SwitchInst&gt;(*t)) { // Not switches for now (change if</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">           needed)</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">              push_to_later_state = true;</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">if</span> (push_to_later_state) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordtype">unsigned</span> idx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(t)];</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordtype">unsigned</span> current_state = (unsigned)variables[idx];</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordtype">unsigned</span> extended_state;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE_STRETCH_BB&quot;</span>)) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordtype">unsigned</span> stretch_factor =</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE_EXTRA_CYCLES&quot;</span>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                extended_state = (unsigned)((<span class="keywordtype">float</span>)current_state *</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                            (float)(stretch_factor + 0.5));</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="keywordtype">unsigned</span> extra_latency =</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE_EXTRA_CYCLES&quot;</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                extended_state = current_state + extra_latency;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot;\nMulti-cycle paths: Pushing Terminator &quot;</span> &lt;&lt; *t</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot; to state &gt;= &quot;</span> &lt;&lt; extended_state;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            mc_dest_instructions_to_state[t] = extended_state;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">delete</span>[] variables;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00198">BasicBlock.h:198</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a22bed3c686e0b2766db6c1d6851b826f"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">legup::LegupConfig::getParameterInt</a></div><div class="ttdeci">int getParameterInt(std::string name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/LegupConfig_8h_source.html#l00315">LegupConfig.h:315</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00200">BasicBlock.h:200</a></div></div>
<div class="ttc" id="namespacelegup_html_a2b539fac0848eda3c12837d22a056eca"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a2b539fac0848eda3c12837d22a056eca">legup::mc_push_inst_to_later_state</a></div><div class="ttdeci">bool mc_push_inst_to_later_state(Instruction *i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d12/MultiCycle_8cpp_source.html#l00143">MultiCycle.cpp:143</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5cb76a65b6524dba1493dd2b9dc3abbe"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">TerminatorInst * getTerminator()</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d69/BasicBlock_8cpp_source.html#l00124">BasicBlock.cpp:124</a></div></div>
<div class="ttc" id="namespacelegup_html_a3f2cb2ea1345497edc775d45be627b2e"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">legup::mc_debug</a></div><div class="ttdeci">raw_ostream &amp; mc_debug()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00784">Target/Verilog/utils.cpp:784</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab74204446a2e894a19855dbdd4409989"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool legup::SDCScheduler::getChaining </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if chaining is permitted for the design. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00059">59</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a>; }</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a3dff8433b799b908fd7fffb0e087950e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">legup::SDCScheduler::chaining</a></div><div class="ttdeci">bool chaining</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00081">SDCScheduler.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec736b26a9c227882f52ff80dc4c3da6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float legup::Scheduler::getClockPeriodConstraint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Clock period constraint for the design. </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00056">56</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a>; }</div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a66ada748e6712e120a70fd420b2f6766"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">legup::Scheduler::clockPeriodConstraint</a></div><div class="ttdeci">float clockPeriodConstraint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00081">Scheduler.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af526c5e61424f0eb0163b36d50cac6c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d88/classlegup_1_1FiniteStateMachine.html">FiniteStateMachine</a>* legup::Scheduler::getFSM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getFSM - get the finite state machine for a function. </p>

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00035">35</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                            {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">fsm</a>.find(F) == <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">fsm</a>.end()) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">fsm</a>[<a class="code" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>] = <span class="keyword">new</span> FiniteStateMachine();</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">fsm</a>[<a class="code" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>];</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="ttc" id="namespacelegup_html_a9be4d166a8cf2bcf5b20ffb8adb19d31"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">legup::F</a></div><div class="ttdeci">static RegisterPass&lt; FuncList &gt; F(&quot;legup-func-list&quot;,&quot;Generates a list of functions&quot;)</div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a316ccd1409e214b2618fb055b0c9e113"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">legup::Scheduler::fsm</a></div><div class="ttdeci">std::map&lt; Function *, FiniteStateMachine * &gt; fsm</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00073">Scheduler.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ec2386ffcd0f5ea55ec051232ac881b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned Scheduler::getInitiationInterval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>instr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine the initiation interval for a function. This is used for shared resources and affects scheduling. For example, one may want to have a divider functional unit that takes, say 10 cycles to complete (latency), with the unit capable of starting a new division every 2 cycles (initiation interval).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instr</td><td>The instruction we wish to find the II for. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/df7/Scheduler_8cpp_source.html#l00147">147</a> of file <a class="el" href="../../df/df7/Scheduler_8cpp_source.html">Scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                            {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">switch</span>(instr-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00086">Instruction.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39b25b2e646b54dcf7124b566427785e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned Scheduler::getNumInstructionCycles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>instr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/df7/Scheduler_8cpp_source.html#l00028">28</a> of file <a class="el" href="../../df/df7/Scheduler_8cpp_source.html">Scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                                                              {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">// store should always have 1 cycle of latency (unlike a load)</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (isa&lt;StoreInst&gt;(instr)) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">alloc</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">std::string</a> FuName = <a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a850f20af39b30df0f7981b18445b7f12">getOpNameFromInst</a>(instr, <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">alloc</a>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">int</span> constraint;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#ac5c42a049f7615f8014dc8fa09c1711b">getOperationLatency</a>(FuName, &amp;constraint)) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> constraint;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (isa&lt;CallInst&gt;(instr)) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a0e9da95c52d74eb2d97e35bd13275394">isaDummyCall</a>(instr)) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">//if (dyn_cast&lt;FPExtInst&gt;(instr)){</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">//    return 2;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">//if (dyn_cast&lt;FPTruncInst&gt;(instr)){</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">//    return 3;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">//if (dyn_cast&lt;SIToFPInst&gt;(instr)){</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">//    return 6;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">//if (dyn_cast&lt;FPToSIInst&gt;(instr)){</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">//    return 6;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="../../d9/ddc/classllvm_1_1FCmpInst.html">FCmpInst</a> *cmp = dyn_cast&lt;FCmpInst&gt;(instr)){</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">switch</span> (cmp-&gt;getPredicate()) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_OEQ):</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_UEQ):</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_ONE):</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_UNE):</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_OLE):</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_ULE):</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_OLT):</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_ULT):</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_OGE):</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_UGE):</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_OGT):</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">case</span> (FCmpInst::FCMP_UGT):</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">switch</span> (instr-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">case</span> (Instruction::UDiv):</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">case</span> (Instruction::URem):</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">case</span> (Instruction::SDiv):</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">case</span> (Instruction::SRem): {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordtype">unsigned</span> pipelineDepth;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        pipelineDepth = <a class="code" href="../../da/d91/namespacelegup.html#ac7fd2be2f9a9b81715f0a60c18a4bf47">getBitWidth</a>(instr-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a2aaa56dea2808ce5bd554d9244a79476">getParameter</a>(<span class="stringliteral">&quot;DIVIDER_MODULE&quot;</span>) == <span class="stringliteral">&quot;generic&quot;</span>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            pipelineDepth++;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">return</span> pipelineDepth;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">case</span> (Instruction::Mul):</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">alloc</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;          <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">case</span> (<a class="code" href="../../d4/d47/namespacellvm_1_1SPII.html#af8c455c02638333b03ef963023367941a36b3dd3b84fde3f8494a9b18af131856">Instruction::Store</a>):</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;          <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">case</span> (<a class="code" href="../../d4/d47/namespacellvm_1_1SPII.html#af8c455c02638333b03ef963023367941a5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>):</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;          {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;              <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">alloc</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;              <a class="code" href="../../d8/d23/classlegup_1_1RAM.html">RAM</a> *ram = <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#a12ea8aa645962194627f88f5a4f1109d">getLocalRamFromInst</a>(instr);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;              <span class="keywordflow">if</span> (ram &amp;&amp; !<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#a71042fd32b32f77385f3e79757641007">isRAMGlobal</a>(ram)) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                  <span class="comment">// local memory</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                  <span class="keywordflow">return</span> ram-&gt;<a class="code" href="../../d8/d23/classlegup_1_1RAM.html#ae3393b5154d22f0b514ac58cbb8cfb70">getLatency</a>(<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">alloc</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                  <span class="comment">// global memory</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="../../da/d91/namespacelegup.html#ab09307740a051ef9bf58895bd69656d4">getGlobalMemLatency</a>();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;              }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;          }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">//Floating point core latencies (fixed) chosen based on Jack&#39;s experiment.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">//Lower latency causes Fmax to drop.  </span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">//Latencies are specified through Quartus GUI when generating the cores</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">//      case (Instruction::FAdd):</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">//          return 14;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//      case (Instruction::FSub):</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">//          return 14;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//      case (Instruction::FMul):</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">//          return 11;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">//      case (Instruction::FDiv):{</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">//          int width = instr-&gt;getOperand(0)-&gt;getType()-&gt;getPrimitiveSizeInBits();</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">//          if (width == 32)</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//              return 33;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//          else</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//              return 61;</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1RAM_html_ae3393b5154d22f0b514ac58cbb8cfb70"><div class="ttname"><a href="../../d8/d23/classlegup_1_1RAM.html#ae3393b5154d22f0b514ac58cbb8cfb70">legup::RAM::getLatency</a></div><div class="ttdeci">int getLatency(Allocation *alloc)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2c/Ram_8cpp_source.html#l00767">Ram.cpp:767</a></div></div>
<div class="ttc" id="namespacelegup_html_ab09307740a051ef9bf58895bd69656d4"><div class="ttname"><a href="../../da/d91/namespacelegup.html#ab09307740a051ef9bf58895bd69656d4">legup::getGlobalMemLatency</a></div><div class="ttdeci">int getGlobalMemLatency()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00706">Target/Verilog/utils.cpp:706</a></div></div>
<div class="ttc" id="classlegup_1_1RAM_html"><div class="ttname"><a href="../../d8/d23/classlegup_1_1RAM.html">legup::RAM</a></div><div class="ttdoc">Legup RAM Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/Ram_8h_source.html#l00033">Ram.h:33</a></div></div>
<div class="ttc" id="namespacelegup_html_a0e9da95c52d74eb2d97e35bd13275394"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a0e9da95c52d74eb2d97e35bd13275394">legup::isaDummyCall</a></div><div class="ttdeci">bool isaDummyCall(const Instruction *instr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00334">Target/Verilog/utils.cpp:334</a></div></div>
<div class="ttc" id="namespacetesting_1_1internal_html_a8e8ff5b11e64078831112677156cb111"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">testing::internal::string</a></div><div class="ttdeci">::std::string string</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/gtest-port_8h_source.html#l00766">gtest-port.h:766</a></div></div>
<div class="ttc" id="namespacelegup_html_ac7fd2be2f9a9b81715f0a60c18a4bf47"><div class="ttname"><a href="../../da/d91/namespacelegup.html#ac7fd2be2f9a9b81715f0a60c18a4bf47">legup::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth(const Type *T)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00451">Target/Verilog/utils.cpp:451</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_a12ea8aa645962194627f88f5a4f1109d"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#a12ea8aa645962194627f88f5a4f1109d">legup::Allocation::getLocalRamFromInst</a></div><div class="ttdeci">RAM * getLocalRamFromInst(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df2/Allocation_8cpp_source.html#l00367">Allocation.cpp:367</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a2aaa56dea2808ce5bd554d9244a79476"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a2aaa56dea2808ce5bd554d9244a79476">legup::LegupConfig::getParameter</a></div><div class="ttdeci">std::string getParameter(const std::string name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/LegupConfig_8h_source.html#l00273">LegupConfig.h:273</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_ac5c42a049f7615f8014dc8fa09c1711b"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#ac5c42a049f7615f8014dc8fa09c1711b">legup::LegupConfig::getOperationLatency</a></div><div class="ttdeci">bool getOperationLatency(std::string FuName, int *latency)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00558">LegupConfig.cpp:558</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_a71042fd32b32f77385f3e79757641007"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#a71042fd32b32f77385f3e79757641007">legup::Allocation::isRAMGlobal</a></div><div class="ttdeci">bool isRAMGlobal(RAM *r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/Allocation_8h_source.html#l00143">Allocation.h:143</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1FCmpInst_html"><div class="ttname"><a href="../../d9/ddc/classllvm_1_1FCmpInst.html">llvm::FCmpInst</a></div><div class="ttdoc">Represents a floating point comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l01121">Instructions.h:1121</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a850f20af39b30df0f7981b18445b7f12"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a850f20af39b30df0f7981b18445b7f12">legup::LegupConfig::getOpNameFromInst</a></div><div class="ttdeci">std::string getOpNameFromInst(Instruction *instr, Allocation *alloc)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00580">LegupConfig.cpp:580</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_af8c455c02638333b03ef963023367941a36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="../../d4/d47/namespacellvm_1_1SPII.html#af8c455c02638333b03ef963023367941a36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8e/SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a78112795826c6027bda0a9e71400de7f"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a78112795826c6027bda0a9e71400de7f">legup::Scheduler::alloc</a></div><div class="ttdeci">static Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00069">Scheduler.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00086">Instruction.h:86</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_af8c455c02638333b03ef963023367941a5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="../../d4/d47/namespacellvm_1_1SPII.html#af8c455c02638333b03ef963023367941a5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8e/SparcInstrInfo_8h_source.html#l00031">SparcInstrInfo.h:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8f80c37efb6249df3204b01f5fd155b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int legup::SDCScheduler::getNumVariables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Number of variables in the LP. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00128">128</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f5963c1b843a7198648b6ea0889356e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool legup::Scheduler::isaCheapCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>instr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa26ec50bf85f4e6b4c730c5b226dfcd4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool legup::SDCScheduler::isDependent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00099">99</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                                                             {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">//errs() &lt;&lt; &quot;isDependent() s: &quot; &lt;&lt; *source-&gt;getInst() &lt;&lt; &quot;d: &quot; &lt;&lt; *dest-&gt;getInst() &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(source-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == dest-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>());</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    set &lt;InstructionNode*&gt; seen;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    queue &lt;InstructionNode*&gt; Q;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    Q.push(dest);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">while</span> (!Q.empty()) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>* cur;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        cur = Q.front(); Q.pop();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">if</span> (cur == source) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="comment">//errs() &lt;&lt; &quot;Found dependency!\n&quot;;</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">if</span> (seen.find(cur) != seen.end()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        seen.insert(cur);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">InstructionNode::iterator</a> i = cur-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">dep_begin</a>(), e = cur-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">dep_end</a>(); i</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                != e; ++i) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="comment">// dependency from depIn -&gt; cur</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *depIn = *i;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span>(depIn-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != source-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            Q.push(depIn);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">InstructionNode::iterator</a> i = cur-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#a08050d83006095e11b9202f5b79f2190">mem_dep_begin</a>(),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                e = cur-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#ac9f056dc835b8ebf0499b0625cff6f1c">mem_dep_end</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="comment">// dependency from depIn -&gt; cur</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a> *depIn = *i;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">if</span>(depIn-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != source-&gt;<a class="code" href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">getInst</a>()-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            Q.push(depIn);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a167360fd446a3476da29fcaa3a45c3f8"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a167360fd446a3476da29fcaa3a45c3f8">legup::InstructionNode::dep_end</a></div><div class="ttdeci">iterator dep_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00050">SchedulerDAG.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_ac9f056dc835b8ebf0499b0625cff6f1c"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#ac9f056dc835b8ebf0499b0625cff6f1c">legup::InstructionNode::mem_dep_end</a></div><div class="ttdeci">iterator mem_dep_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00081">SchedulerDAG.h:81</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_ae6ff9ff55c8b42c3edb92fe7893c39ca"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#ae6ff9ff55c8b42c3edb92fe7893c39ca">legup::InstructionNode::iterator</a></div><div class="ttdeci">depType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00035">SchedulerDAG.h:35</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a1de8ce1ff517384ffc539563bee13a6b"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a1de8ce1ff517384ffc539563bee13a6b">legup::InstructionNode::dep_begin</a></div><div class="ttdeci">iterator dep_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00048">SchedulerDAG.h:48</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html">legup::InstructionNode</a></div><div class="ttdoc">Legup Instruction container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00030">SchedulerDAG.h:30</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_acff2ce24d4af2ac3479ade8f014d5347"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#acff2ce24d4af2ac3479ade8f014d5347">legup::InstructionNode::getInst</a></div><div class="ttdeci">Instruction * getInst()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00120">SchedulerDAG.h:120</a></div></div>
<div class="ttc" id="classlegup_1_1InstructionNode_html_a08050d83006095e11b9202f5b79f2190"><div class="ttname"><a href="../../d6/d2d/classlegup_1_1InstructionNode.html#a08050d83006095e11b9202f5b79f2190">legup::InstructionNode::mem_dep_begin</a></div><div class="ttdeci">iterator mem_dep_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00079">SchedulerDAG.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39755c13df4bc75292c985f07f395675"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::multicycle_and_modify_schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The functions below are used to perform a second scheduling phase that removes registers for all data paths in certain basic blocks. </p>

<p>Definition at line <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html#l00392">392</a> of file <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html">MultiCycle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// MULTICYCLE_TODO: For now disable multi-cycle paths in cases where</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// resources are pipelined (includes loop pipelining). Also only</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// enable for the pure-HW flow</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#af2ec0493fe25542274e6fa4fbfc309a7">does_flow_support_multicycle_paths</a>()) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// Extend the latency of paths in infrequently executed BB</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordtype">bool</span> re_schedule_to_add_latency =</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a250cc5ecaeff069ea0e2c22890e918ae">should_scheduling_be_repeated_to_add_latency</a>();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (re_schedule_to_add_latency) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="comment">// 1. Find instructions in all basic blocks whose state should be</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">//    delayed in the second scheduling.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        std::map&lt;Instruction *, int&gt; mc_dest_instructions_to_state;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a59a2af252d50d2c6b537ca908e963369">find_instructions_to_delay</a>(F, mc_dest_instructions_to_state);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">// 2. Delete the current LP and create a new one, adding</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment">//    only dependency constraints</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        delete_lp(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a> = 0;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a> = 0;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab9666786f5448507cd005aede44b68df">createLPVariables</a>(F);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a02f1a83834eff2d38da943de44c38696">addMulticycleConstraints</a>(F);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">addDependencyConstraints</a>(F);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="comment">// Note: For now I&#39;ll also re-add timing constraints</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">addTimingConstraints</a>(F);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="comment">// 3. Add LP constraints for instructions whose state will persist</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">//    in the second scheduling (i.e. MC destination instructions)</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        std::map&lt;Instruction *, int&gt;::const_iterator inst_it =</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            mc_dest_instructions_to_state.begin();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">for</span> (; inst_it != mc_dest_instructions_to_state.end(); ++inst_it) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="comment">// Constraints are of the form:   1.0 * VAR_INDEX &gt;= STATE</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            REAL var_coefficient = 1.0;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *persistent_instruction = inst_it-&gt;first;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordtype">int</span> var_index = 1 + <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                    persistent_instruction)];</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            REAL state = REAL(inst_it-&gt;second);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="comment">// Force it to the same state</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            add_constraintex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, 1, &amp;var_coefficient, &amp;var_index, <a class="code" href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">GE</a>, state);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">// 4. Schedule ASAP</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a72002d744122621ff207f6a7e4d41dce">scheduleASAP</a>();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="comment">// Resource constraints are added here and scheduling is done again</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8993bc31d9dd8e0705e0d9e53ad7c421">do_post_scheduling_steps</a>(F);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="comment">// 5. Update the states for each instruction, as well as the number</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="comment">//    of instructions in each BB in case extending path latencies</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="comment">//    increased any BB latencies.</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa401ccb923bb3fb537c848f7f6134004">depositSchedule</a>(F);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// Store the states of all instructions. This is used in GenerateRTL</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// when printing multi-cycle timing constraints.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a5ff2e10c50abd78832ca08b2654a5125">save_instruction_states</a>(F);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a5ff2e10c50abd78832ca08b2654a5125"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a5ff2e10c50abd78832ca08b2654a5125">legup::SDCScheduler::save_instruction_states</a></div><div class="ttdeci">void save_instruction_states(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d12/MultiCycle_8cpp_source.html#l00247">MultiCycle.cpp:247</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_ab9666786f5448507cd005aede44b68df"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#ab9666786f5448507cd005aede44b68df">legup::SDCScheduler::createLPVariables</a></div><div class="ttdeci">void createLPVariables(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00041">SDCScheduler.cpp:41</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b"><div class="ttname"><a href="../../d5/df5/namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a2f9f5539ad5eab7c3de9fb21766bc78b">llvm::AArch64CC::GE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc0/AArch64BaseInfo_8h_source.html#l00203">AArch64BaseInfo.h:203</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aa401ccb923bb3fb537c848f7f6134004"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aa401ccb923bb3fb537c848f7f6134004">legup::SDCScheduler::depositSchedule</a></div><div class="ttdeci">void depositSchedule(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00605">SDCScheduler.cpp:605</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a11954c78e86bb7875112c04451e15543"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">legup::SDCScheduler::numInst</a></div><div class="ttdeci">int numInst</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00098">SDCScheduler.h:98</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a8993bc31d9dd8e0705e0d9e53ad7c421"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8993bc31d9dd8e0705e0d9e53ad7c421">legup::SDCScheduler::do_post_scheduling_steps</a></div><div class="ttdeci">void do_post_scheduling_steps(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00758">SDCScheduler.cpp:758</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a10e8973dde8a2aafd145b25d51db6647"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a10e8973dde8a2aafd145b25d51db6647">legup::SDCScheduler::addTimingConstraints</a></div><div class="ttdeci">void addTimingConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00296">SDCScheduler.cpp:296</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a250cc5ecaeff069ea0e2c22890e918ae"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a250cc5ecaeff069ea0e2c22890e918ae">legup::SDCScheduler::should_scheduling_be_repeated_to_add_latency</a></div><div class="ttdeci">bool should_scheduling_be_repeated_to_add_latency()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d12/MultiCycle_8cpp_source.html#l00381">MultiCycle.cpp:381</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a59a2af252d50d2c6b537ca908e963369"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a59a2af252d50d2c6b537ca908e963369">legup::SDCScheduler::find_instructions_to_delay</a></div><div class="ttdeci">void find_instructions_to_delay(Function *F, std::map&lt; Instruction *, int &gt; &amp;Instruction_to_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d12/MultiCycle_8cpp_source.html#l00225">MultiCycle.cpp:225</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_adee619a6f52aef50f1fdb9e54230f64e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#adee619a6f52aef50f1fdb9e54230f64e">legup::SDCScheduler::addDependencyConstraints</a></div><div class="ttdeci">void addDependencyConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00176">SDCScheduler.cpp:176</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a02f1a83834eff2d38da943de44c38696"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a02f1a83834eff2d38da943de44c38696">legup::SDCScheduler::addMulticycleConstraints</a></div><div class="ttdeci">void addMulticycleConstraints(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00070">SDCScheduler.cpp:70</a></div></div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_af2ec0493fe25542274e6fa4fbfc309a7"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#af2ec0493fe25542274e6fa4fbfc309a7">legup::LegupConfig::does_flow_support_multicycle_paths</a></div><div class="ttdeci">bool does_flow_support_multicycle_paths()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/LegupConfig_8h_source.html#l00319">LegupConfig.h:319</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a72002d744122621ff207f6a7e4d41dce"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a72002d744122621ff207f6a7e4d41dce">legup::SDCScheduler::scheduleASAP</a></div><div class="ttdeci">void scheduleASAP()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00656">SDCScheduler.cpp:656</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ff2e10c50abd78832ca08b2654a5125"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::save_instruction_states </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html#l00247">247</a> of file <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html">MultiCycle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    REAL *variables = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">numVars</a>];</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    get_variables(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, variables);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// for all BBs in F</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">Function::iterator</a> b = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), be = F-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); b != be; ++b) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="comment">// for all I in BB</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot;\n\nInstruction to state mappings:\n&quot;</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> i = b-&gt;begin(), ie = b-&gt;end(); i != ie; ++i) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordtype">unsigned</span> idx = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">dag</a>-&gt;<a class="code" href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">getInstructionNode</a>(i)];</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordtype">unsigned</span> state = (unsigned)variables[idx];</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="comment">// Store this instruction state in a map</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#a01d59038a3a65b9d0cd49e1259db3566">add_registered_instruction</a>(i, state);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot;\n    Instruction &quot;</span> &lt;&lt; *i &lt;&lt; <span class="stringliteral">&quot; mapped to state &quot;</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                       &lt;&lt; state;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="comment">// Also store whether or not this instruction still has a register</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">// once we multi-cycle all the datapaths</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a414e68f17059c2a4fd62209a30085351">is_inst_a_mc_path_src_or_dest</a>(i)) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#a7a92f164b9fb10bcf4b63dcceade5af8">set_register_type</a>(i, <span class="stringliteral">&quot;registered&quot;</span>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot; (registered)&quot;</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#a7a92f164b9fb10bcf4b63dcceade5af8">set_register_type</a>(i, <span class="stringliteral">&quot;unregistered&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot; (NOT registered)&quot;</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">mc_debug</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">// Store the number of states in each BB.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">// Note: add 1 since map-&gt;getNumStates returns the last</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">// state #, and states start at 0</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">alloc</a>-&gt;<a class="code" href="../../da/de0/classlegup_1_1Allocation.html#a33eb90651f3b3b4ee8b24ebb757b98f1">set_num_states_in_BB</a>(b, <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">map</a>-&gt;<a class="code" href="../../df/d92/classlegup_1_1SchedulerMapping.html#a4a0cd2fbcdec310379e435e4252e4fc0">getNumStates</a>(b) + 1);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keyword">delete</span>[] variables;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a043e15ee5e8955857b7419349e9018fe"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a043e15ee5e8955857b7419349e9018fe">legup::SDCScheduler::dag</a></div><div class="ttdeci">SchedulerDAG * dag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">SDCScheduler.h:74</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_a01d59038a3a65b9d0cd49e1259db3566"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#a01d59038a3a65b9d0cd49e1259db3566">legup::Allocation::add_registered_instruction</a></div><div class="ttdeci">void add_registered_instruction(Instruction *i, int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/Allocation_8h_source.html#l00209">Allocation.h:209</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00402">Function.h:402</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerMapping_html_a4a0cd2fbcdec310379e435e4252e4fc0"><div class="ttname"><a href="../../df/d92/classlegup_1_1SchedulerMapping.html#a4a0cd2fbcdec310379e435e4252e4fc0">legup::SchedulerMapping::getNumStates</a></div><div class="ttdeci">unsigned getNumStates(BasicBlock *bb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00175">SchedulerDAG.h:175</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerDAG_html_ad666f182788ceb058276f36bdc6e402c"><div class="ttname"><a href="../../dc/d59/classlegup_1_1SchedulerDAG.html#ad666f182788ceb058276f36bdc6e402c">legup::SchedulerDAG::getInstructionNode</a></div><div class="ttdeci">InstructionNode * getInstructionNode(Instruction *inst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d08/SchedulerDAG_8h_source.html#l00146">SchedulerDAG.h:146</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a2808c424921565945720d1c2cedef9a0"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a2808c424921565945720d1c2cedef9a0">legup::SDCScheduler::numVars</a></div><div class="ttdeci">int numVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">SDCScheduler.h:93</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a4473cc8e60b02b83a93f1977a36f9e12"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a4473cc8e60b02b83a93f1977a36f9e12">legup::SDCScheduler::map</a></div><div class="ttdeci">SchedulerMapping * map</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00248">SDCScheduler.h:248</a></div></div>
<div class="ttc" id="namespacelegup_html_a414e68f17059c2a4fd62209a30085351"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a414e68f17059c2a4fd62209a30085351">legup::is_inst_a_mc_path_src_or_dest</a></div><div class="ttdeci">bool is_inst_a_mc_path_src_or_dest(Instruction *i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d12/MultiCycle_8cpp_source.html#l00068">MultiCycle.cpp:68</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_a7a92f164b9fb10bcf4b63dcceade5af8"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#a7a92f164b9fb10bcf4b63dcceade5af8">legup::Allocation::set_register_type</a></div><div class="ttdeci">void set_register_type(Instruction *i, std::string s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/Allocation_8h_source.html#l00212">Allocation.h:212</a></div></div>
<div class="ttc" id="classlegup_1_1Allocation_html_a33eb90651f3b3b4ee8b24ebb757b98f1"><div class="ttname"><a href="../../da/de0/classlegup_1_1Allocation.html#a33eb90651f3b3b4ee8b24ebb757b98f1">legup::Allocation::set_num_states_in_BB</a></div><div class="ttdeci">void set_num_states_in_BB(BasicBlock *BB, int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/Allocation_8h_source.html#l00207">Allocation.h:207</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_aaf76787165b40dae5e27c79a4ce0b7d1"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#aaf76787165b40dae5e27c79a4ce0b7d1">legup::SDCScheduler::alloc</a></div><div class="ttdeci">Allocation * alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">SDCScheduler.h:258</a></div></div>
<div class="ttc" id="namespacelegup_html_a3f2cb2ea1345497edc775d45be627b2e"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a3f2cb2ea1345497edc775d45be627b2e">legup::mc_debug</a></div><div class="ttdeci">raw_ostream &amp; mc_debug()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d34/Target_2Verilog_2utils_8cpp_source.html#l00784">Target/Verilog/utils.cpp:784</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac29686c34ca43f51b616e74ca0cdc730"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::Scheduler::schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d59/classlegup_1_1SchedulerDAG.html">SchedulerDAG</a> *&#160;</td>
          <td class="paramname"><em>dag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00043">43</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                  {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#aaaccf16e0705d13397fd4a02b1a8f2c5">mapping</a> = <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#abbd28168524e48939946779c5d28a82f">createMapping</a>(F, dag);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(<a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#aaaccf16e0705d13397fd4a02b1a8f2c5">mapping</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">fsm</a>[<a class="code" href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">F</a>] = <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#aaaccf16e0705d13397fd4a02b1a8f2c5">mapping</a>-&gt;<a class="code" href="../../df/d92/classlegup_1_1SchedulerMapping.html#ae544a4d6139d1b9ad57a03bebf2f9c13">createFSM</a>(F, dag);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="ttc" id="classlegup_1_1Scheduler_html_abbd28168524e48939946779c5d28a82f"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#abbd28168524e48939946779c5d28a82f">legup::Scheduler::createMapping</a></div><div class="ttdeci">virtual SchedulerMapping * createMapping(Function *F, SchedulerDAG *dag)=0</div></div>
<div class="ttc" id="namespacelegup_html_a9be4d166a8cf2bcf5b20ffb8adb19d31"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a9be4d166a8cf2bcf5b20ffb8adb19d31">legup::F</a></div><div class="ttdeci">static RegisterPass&lt; FuncList &gt; F(&quot;legup-func-list&quot;,&quot;Generates a list of functions&quot;)</div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a316ccd1409e214b2618fb055b0c9e113"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a316ccd1409e214b2618fb055b0c9e113">legup::Scheduler::fsm</a></div><div class="ttdeci">std::map&lt; Function *, FiniteStateMachine * &gt; fsm</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00073">Scheduler.h:73</a></div></div>
<div class="ttc" id="classlegup_1_1Scheduler_html_aaaccf16e0705d13397fd4a02b1a8f2c5"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#aaaccf16e0705d13397fd4a02b1a8f2c5">legup::Scheduler::mapping</a></div><div class="ttdeci">SchedulerMapping * mapping</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00072">Scheduler.h:72</a></div></div>
<div class="ttc" id="classlegup_1_1SchedulerMapping_html_ae544a4d6139d1b9ad57a03bebf2f9c13"><div class="ttname"><a href="../../df/d92/classlegup_1_1SchedulerMapping.html#ae544a4d6139d1b9ad57a03bebf2f9c13">legup::SchedulerMapping::createFSM</a></div><div class="ttdeci">FiniteStateMachine * createFSM(Function *, SchedulerDAG *)</div><div class="ttdoc">createFSM - create a Finite State Machine object from the scheduler mapping. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4c/SchedulerDAG_8cpp_source.html#l00382">SchedulerDAG.cpp:382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae56718c7246fefd2faa102bacd465fab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::scheduleALAP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00660">660</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                                {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8c9ab873c7df1d04de744987000e706b">scheduleAXAP</a>(<span class="comment">/*ASAP=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a8c9ab873c7df1d04de744987000e706b"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8c9ab873c7df1d04de744987000e706b">legup::SDCScheduler::scheduleAXAP</a></div><div class="ttdeci">void scheduleAXAP(bool ASAP=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00664">SDCScheduler.cpp:664</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72002d744122621ff207f6a7e4d41dce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::scheduleASAP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00656">656</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8c9ab873c7df1d04de744987000e706b">scheduleAXAP</a>(<span class="comment">/*ASAP=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a8c9ab873c7df1d04de744987000e706b"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a8c9ab873c7df1d04de744987000e706b">legup::SDCScheduler::scheduleAXAP</a></div><div class="ttdeci">void scheduleAXAP(bool ASAP=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/SDCScheduler_8cpp_source.html#l00664">SDCScheduler.cpp:664</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c9ab873c7df1d04de744987000e706b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::scheduleAXAP </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ASAP</em> = <code><a class="el" href="../../d6/d0d/LoopSimplify_8cpp.html#a13f020c6a40eb04f1b4f9ddfbb004ce0">true</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform ASAP OR ALAP scheduling. The workhorse function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ASAP</td><td>should be set to TRUE if ASAP scheduling is desired; otherwise, ALAP scheduling will be invoked. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html#l00664">664</a> of file <a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                         {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="comment">// In this case, we simply minimize the sum of the starting cycles</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// for all instructions.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordtype">int</span> *variableIndices = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a>];</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  REAL *variableCoefficients = <span class="keyword">new</span> REAL[<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a>];</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d5/d10/namespacespill-01.html#ab04276f5fa92a67247d55e40ca7b7a04">count</a> = 0;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">for</span> (std::map&lt;InstructionNode*, unsigned&gt;::iterator i = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>.begin(), </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;     e = <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">startVariableIndex</a>.end(); i != e; i++) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordtype">unsigned</span> varIndex = i-&gt;second;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    variableIndices[<a class="code" href="../../d5/d10/namespacespill-01.html#ab04276f5fa92a67247d55e40ca7b7a04">count</a>] = 1 + varIndex;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    variableCoefficients[<a class="code" href="../../d5/d10/namespacespill-01.html#ab04276f5fa92a67247d55e40ca7b7a04">count</a>] = 1.0;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    count++;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(count == <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">numInst</a>);  </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  set_obj_fnex(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, count, variableCoefficients, variableIndices);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">if</span> (ASAP)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    set_minim(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    set_maxim(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    write_LP(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>, stdout);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    set_verbose(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>,1);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordtype">int</span> ret = <a class="code" href="../../d4/d3f/namespacePBQP_1_1RegAlloc.html#aea00bbb4eefe3ca5deb29cd85c3ab48d">solve</a>(<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">lp</a>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">SDCdebug</a>) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">printf</a>(<span class="stringliteral">&quot;SDC solver status: %d\n&quot;</span>, ret);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;LP solver returned: &quot;</span> &lt;&lt; ret &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <a class="code" href="../../d9/d4a/namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;LP solver could not find an optimal solution&quot;</span>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keyword">delete</span> [] variableCoefficients;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keyword">delete</span> [] variableIndices;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
<div class="ttc" id="namespacellvm_html_ab8e34eca3b0817ef7a127913fbf6d9e4"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">llvm::errs</a></div><div class="ttdeci">raw_ostream &amp; errs()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5f/raw__ostream_8cpp_source.html#l00671">raw_ostream.cpp:671</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf498ee7f0dfcd726c0c3e71ce25f8170">llvm::LibFunc::printf</a></div><div class="ttdoc">int printf(const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00460">TargetLibraryInfo.h:460</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a32582d1da3945e9460131234272ebdec"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a32582d1da3945e9460131234272ebdec">legup::SDCScheduler::lp</a></div><div class="ttdeci">lprec * lp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">SDCScheduler.h:88</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/ErrorHandling_8cpp_source.html#l00060">ErrorHandling.cpp:60</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a11954c78e86bb7875112c04451e15543"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a11954c78e86bb7875112c04451e15543">legup::SDCScheduler::numInst</a></div><div class="ttdeci">int numInst</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00098">SDCScheduler.h:98</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a66412d16d59ccf9ceac7b8e9540c6658"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a66412d16d59ccf9ceac7b8e9540c6658">legup::SDCScheduler::SDCdebug</a></div><div class="ttdeci">bool SDCdebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">SDCScheduler.h:251</a></div></div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a701f0d481a4189a3c31d0b1e2d8a3556"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a701f0d481a4189a3c31d0b1e2d8a3556">legup::SDCScheduler::startVariableIndex</a></div><div class="ttdeci">std::map&lt; InstructionNode *, unsigned &gt; startVariableIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">SDCScheduler.h:108</a></div></div>
<div class="ttc" id="namespacePBQP_1_1RegAlloc_html_aea00bbb4eefe3ca5deb29cd85c3ab48d"><div class="ttname"><a href="../../d4/d3f/namespacePBQP_1_1RegAlloc.html#aea00bbb4eefe3ca5deb29cd85c3ab48d">PBQP::RegAlloc::solve</a></div><div class="ttdeci">Solution solve(Graph &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/RegAllocSolver_8h_source.html#l00349">RegAllocSolver.h:349</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacespill-01_html_ab04276f5fa92a67247d55e40ca7b7a04"><div class="ttname"><a href="../../d5/d10/namespacespill-01.html#ab04276f5fa92a67247d55e40ca7b7a04">spill-01.count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d57/spill-01_8py_source.html#l00021">spill-01.py:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc37cf4143faad1fc887a3fef0265452"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::scheduleLatency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform latency-driven scheduling, driven by a trace-based profiling of how many times certain basic blocks are executed.</p>
<p>NOT YET IMPLEMENTED &ndash; this is a placeholder for future development. </p>

</div>
</div>
<a class="anchor" id="a779911e941a46ed65c771e968594b47e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::scheduleSlackDriven </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform slack-driven scheduling. Maximimize the amount of slack in the final schedule. This idea is presented in Cong's paper.</p>
<p>NOT YET IMPLEMENTED &ndash; placeholder for future development. </p>

</div>
</div>
<a class="anchor" id="a36d09072911d361b58d2e1620443f1dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::SDCScheduler::setChaining </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allows control over whether chaining is permitted in the design. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>Should be set to true if chaining is allows. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00064">64</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{ <a class="code" href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">chaining</a> = <a class="code" href="../../d1/dca/dwarfdump-test4-part1_8cc.html#aa888519f7b6707707b5b5dc3f1eb8055">c</a>; }</div>
<div class="ttc" id="classlegup_1_1SDCScheduler_html_a3dff8433b799b908fd7fffb0e087950e"><div class="ttname"><a href="../../d5/d0f/classlegup_1_1SDCScheduler.html#a3dff8433b799b908fd7fffb0e087950e">legup::SDCScheduler::chaining</a></div><div class="ttdeci">bool chaining</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd2/SDCScheduler_8h_source.html#l00081">SDCScheduler.h:81</a></div></div>
<div class="ttc" id="dwarfdump-test4-part1_8cc_html_aa888519f7b6707707b5b5dc3f1eb8055"><div class="ttname"><a href="../../d1/dca/dwarfdump-test4-part1_8cc.html#aa888519f7b6707707b5b5dc3f1eb8055">c</a></div><div class="ttdeci">int c()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/dwarfdump-test4-part1_8cc_source.html#l00002">dwarfdump-test4-part1.cc:2</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5f2fabfd5b46756c531ff01bcfe48c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void legup::Scheduler::setClockPeriodConstraint </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allow user to set the target clock period for the design. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>Target clock period in nanoseconds. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00061">61</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{ <a class="code" href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">clockPeriodConstraint</a> = <a class="code" href="../../d1/dca/dwarfdump-test4-part1_8cc.html#aa888519f7b6707707b5b5dc3f1eb8055">c</a>; }</div>
<div class="ttc" id="classlegup_1_1Scheduler_html_a66ada748e6712e120a70fd420b2f6766"><div class="ttname"><a href="../../d2/d0e/classlegup_1_1Scheduler.html#a66ada748e6712e120a70fd420b2f6766">legup::Scheduler::clockPeriodConstraint</a></div><div class="ttdeci">float clockPeriodConstraint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7f/Scheduler_8h_source.html#l00081">Scheduler.h:81</a></div></div>
<div class="ttc" id="dwarfdump-test4-part1_8cc_html_aa888519f7b6707707b5b5dc3f1eb8055"><div class="ttname"><a href="../../d1/dca/dwarfdump-test4-part1_8cc.html#aa888519f7b6707707b5b5dc3f1eb8055">c</a></div><div class="ttdeci">int c()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/dwarfdump-test4-part1_8cc_source.html#l00002">dwarfdump-test4-part1.cc:2</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a250cc5ecaeff069ea0e2c22890e918ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool legup::SDCScheduler::should_scheduling_be_repeated_to_add_latency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html#l00381">381</a> of file <a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html">MultiCycle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                                                {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/d86/regcomp_8c.html#a919284efeea9e5256497a0778b7fdd75">repeat</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE&quot;</span>)) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        repeat = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">LEGUP_CONFIG</a>-&gt;<a class="code" href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">getParameterInt</a>(<span class="stringliteral">&quot;LLVM_PROFILE_EXTRA_CYCLES&quot;</span>) &lt;=</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;               0) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        repeat = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d86/regcomp_8c.html#a919284efeea9e5256497a0778b7fdd75">repeat</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="ttc" id="classlegup_1_1LegupConfig_html_a22bed3c686e0b2766db6c1d6851b826f"><div class="ttname"><a href="../../dd/df8/classlegup_1_1LegupConfig.html#a22bed3c686e0b2766db6c1d6851b826f">legup::LegupConfig::getParameterInt</a></div><div class="ttdeci">int getParameterInt(std::string name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/LegupConfig_8h_source.html#l00315">LegupConfig.h:315</a></div></div>
<div class="ttc" id="namespacelegup_html_a18fe9ecb945342c73f57177ffa327da2"><div class="ttname"><a href="../../da/d91/namespacelegup.html#a18fe9ecb945342c73f57177ffa327da2">legup::LEGUP_CONFIG</a></div><div class="ttdeci">LegupConfig * LEGUP_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddb/LegupConfig_8cpp_source.html#l00024">LegupConfig.cpp:24</a></div></div>
<div class="ttc" id="regcomp_8c_html_a919284efeea9e5256497a0778b7fdd75"><div class="ttname"><a href="../../d0/d86/regcomp_8c.html#a919284efeea9e5256497a0778b7fdd75">repeat</a></div><div class="ttdeci">static void repeat(struct parse *, sopno, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/regcomp_8c_source.html#l00975">regcomp.c:975</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="aaf76787165b40dae5e27c79a4ce0b7d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/de0/classlegup_1_1Allocation.html">Allocation</a>* legup::SDCScheduler::alloc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00258">258</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a42ceade701f4f1095aa1186eba4279e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="../../d8/d1b/classlegup_1_1State.html">State</a> *&gt; legup::Scheduler::bbFirstState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00074">74</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3dff8433b799b908fd7fffb0e087950e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool legup::SDCScheduler::chaining</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If set to true, chaining of operations in a cycle is permitted. If false, no chaining is allowed &ndash; design will be maximally pipeliend. Default: false </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00081">81</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a66ada748e6712e120a70fd420b2f6766"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float legup::Scheduler::clockPeriodConstraint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clock period constraint on the design. (from user or automatically-generated). </p>

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00081">81</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a043e15ee5e8955857b7419349e9018fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d59/classlegup_1_1SchedulerDAG.html">SchedulerDAG</a>* legup::SDCScheduler::dag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The scheduler DAG keeps track of the dependencies between LLVM instructions. This is needed so things are scheduled in the correct order. The class also can be queried for the delay of a particular instruction </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00074">74</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeb484b2563140617ae8828600f7b52eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>*, unsigned&gt; legup::SDCScheduler::endVariableIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mapping between instructions and variable indices in the LP formulation. This map holds the ending variable indices for instructions. </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00113">113</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a316ccd1409e214b2618fb055b0c9e113"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../de/d7c/classllvm_1_1Function.html">Function</a> *, <a class="el" href="../../d6/d88/classlegup_1_1FiniteStateMachine.html">FiniteStateMachine</a> *&gt; legup::Scheduler::fsm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00073">73</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a32582d1da3945e9460131234272ebdec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dd2/SDCScheduler_8h.html#afe42f1373b9ee8d824b5cad6a22d24c6">lprec</a>* legup::SDCScheduler::lp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The LP problem formulation. This data structure holds the entire LP formulation: all the constraints, variables, etc. Used by the lpsolve solver. </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00088">88</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4473cc8e60b02b83a93f1977a36f9e12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d92/classlegup_1_1SchedulerMapping.html">SchedulerMapping</a>* legup::SDCScheduler::map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Holds the schedule, i.e., the instruction-&gt;cycle# assignment. Also responsible for FSM generation. ??? janders: unclear whether will use this, since it is tied to basic block scheduling </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00248">248</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaaccf16e0705d13397fd4a02b1a8f2c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d92/classlegup_1_1SchedulerMapping.html">SchedulerMapping</a>* legup::Scheduler::mapping</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00072">72</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6c4735eb25581acda40bdca92534a009"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned* legup::SDCScheduler::maxCycle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00257">257</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a11954c78e86bb7875112c04451e15543"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int legup::SDCScheduler::numInst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of instructions to be scheduled. </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00098">98</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2808c424921565945720d1c2cedef9a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int legup::SDCScheduler::numVars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of variables in the LP formulation. </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00093">93</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a66412d16d59ccf9ceac7b8e9540c6658"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool legup::SDCScheduler::SDCdebug</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00251">251</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a701f0d481a4189a3c31d0b1e2d8a3556"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../d6/d2d/classlegup_1_1InstructionNode.html">InstructionNode</a>*, unsigned&gt; legup::SDCScheduler::startVariableIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mapping between instructions and variable indicies in the LP formulation. This map holds the starting variable indices for instructions.</p>
<p>Instructions that are not multi-cycle have only a single variable in the LP. Instructions that take N cycles to complete (N &gt; 1) have N variables in the LP. </p>

<p>Definition at line <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html#l00108">108</a> of file <a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5b543ecf14dacf96703fde0c73a13a70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d1b/classlegup_1_1State.html">State</a>* legup::Scheduler::waitState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d7f/Scheduler_8h_source.html#l00075">75</a> of file <a class="el" href="../../d7/d7f/Scheduler_8h_source.html">Scheduler.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d9/dd2/SDCScheduler_8h_source.html">SDCScheduler.h</a></li>
<li><a class="el" href="../../d7/d12/MultiCycle_8cpp_source.html">MultiCycle.cpp</a></li>
<li><a class="el" href="../../d8/d16/SDCScheduler_8cpp_source.html">SDCScheduler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../da/d91/namespacelegup.html">legup</a></li><li class="navelem"><a class="el" href="../../d5/d0f/classlegup_1_1SDCScheduler.html">SDCScheduler</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:46:40 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
