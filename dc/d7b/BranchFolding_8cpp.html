<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: BranchFolding.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/d7b/BranchFolding_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">BranchFolding.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../dd/dd2/BranchFolding_8h_source.html">BranchFolding.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d98/STLExtras_8h_source.html">llvm/ADT/STLExtras.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/d64/SmallSet_8h_source.html">llvm/ADT/SmallSet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d5f/Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d41/MachineFunctionPass_8h_source.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/dbf/MachineJumpTableInfo_8h_source.html">llvm/CodeGen/MachineJumpTableInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d6c/MachineModuleInfo_8h_source.html">llvm/CodeGen/MachineModuleInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/deb/MachineRegisterInfo_8h_source.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/dbb/include_2llvm_2CodeGen_2Passes_8h_source.html">llvm/CodeGen/Passes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/d05/RegisterScavenging_8h_source.html">llvm/CodeGen/RegisterScavenging.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/df5/Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d41/CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d3f/ErrorHandling_8h_source.html">llvm/Support/ErrorHandling.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d82/raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d44/TargetInstrInfo_8h_source.html">llvm/Target/TargetInstrInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/d21/Target_2TargetMachine_8h_source.html">llvm/Target/TargetMachine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d26/TargetRegisterInfo_8h_source.html">llvm/Target/TargetRegisterInfo.h</a>&quot;</code><br/>
<code>#include &lt;algorithm&gt;</code><br/>
</div>
<p><a href="../../dc/d7b/BranchFolding_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;branchfolding&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7fc12fa408f3c5a5e8c205a77ee5c667"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a7fc12fa408f3c5a5e8c205a77ee5c667">STATISTIC</a> (NumDeadBlocks,&quot;Number of dead blocks removed&quot;)</td></tr>
<tr class="separator:a7fc12fa408f3c5a5e8c205a77ee5c667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ab12dec7d98a4be54800eb47f33a60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a52ab12dec7d98a4be54800eb47f33a60">STATISTIC</a> (NumBranchOpts,&quot;Number of branches optimized&quot;)</td></tr>
<tr class="separator:a52ab12dec7d98a4be54800eb47f33a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4f23d5dc4bc52d2f9fe7466852c6dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a1e4f23d5dc4bc52d2f9fe7466852c6dd">STATISTIC</a> (NumTailMerge,&quot;Number of block tails merged&quot;)</td></tr>
<tr class="separator:a1e4f23d5dc4bc52d2f9fe7466852c6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec13ac4c05563ee8d0f2bd1b4ac9027"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#abec13ac4c05563ee8d0f2bd1b4ac9027">STATISTIC</a> (NumHoist,&quot;Number of times common <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> are hoisted&quot;)</td></tr>
<tr class="separator:abec13ac4c05563ee8d0f2bd1b4ac9027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82220ff274d037282208b6b3d75975c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a82220ff274d037282208b6b3d75975c5">INITIALIZE_PASS</a> (BranchFolderPass,&quot;branch-folder&quot;,&quot;Control Flow <a class="el" href="../../d6/d9c/GlobalOpt_8cpp.html#a23fd01d07baea6623f8b2019dd8f2f21">Optimizer</a>&quot;, false, <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>) bool BranchFolderPass</td></tr>
<tr class="separator:a82220ff274d037282208b6b3d75975c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27436de2b027bf7b58f23547b654603d"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a27436de2b027bf7b58f23547b654603d">HashMachineInstr</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)</td></tr>
<tr class="memdesc:a27436de2b027bf7b58f23547b654603d"><td class="mdescLeft">&#160;</td><td class="mdescRight">HashMachineInstr - Compute a hash value for MI and its operands.  <a href="#a27436de2b027bf7b58f23547b654603d">More...</a><br/></td></tr>
<tr class="separator:a27436de2b027bf7b58f23547b654603d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f0fe5fd9bac0df47092cb480fbe136"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a23f0fe5fd9bac0df47092cb480fbe136">HashEndOfMBB</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB)</td></tr>
<tr class="memdesc:a23f0fe5fd9bac0df47092cb480fbe136"><td class="mdescLeft">&#160;</td><td class="mdescRight">HashEndOfMBB - Hash the last instruction in the MBB.  <a href="#a23f0fe5fd9bac0df47092cb480fbe136">More...</a><br/></td></tr>
<tr class="separator:a23f0fe5fd9bac0df47092cb480fbe136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff8a27be1a6683026280a4611628562"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a0ff8a27be1a6683026280a4611628562">ComputeCommonTailLength</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB1, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB2, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;I1, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;I2)</td></tr>
<tr class="separator:a0ff8a27be1a6683026280a4611628562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df528512b8aed2e9f70a3f9b3128507"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a0df528512b8aed2e9f70a3f9b3128507">EstimateRuntime</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> E)</td></tr>
<tr class="separator:a0df528512b8aed2e9f70a3f9b3128507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653145c23a36602493bb8dae8ef3d73b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a653145c23a36602493bb8dae8ef3d73b">FixTail</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *CurMBB, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccBB, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d06/classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="el" href="../../d5/d6a/HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>)</td></tr>
<tr class="separator:a653145c23a36602493bb8dae8ef3d73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a41d2e125b5d09248ee68674761fb14"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a3a41d2e125b5d09248ee68674761fb14">CountTerminators</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</td></tr>
<tr class="separator:a3a41d2e125b5d09248ee68674761fb14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a05cc04c5d50a14920721da5f53e1fe"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a0a05cc04c5d50a14920721da5f53e1fe">ProfitableToMerge</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB1, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB2, unsigned minCommonTailLength, unsigned &amp;CommonTailLen, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;I1, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;I2, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccBB, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *PredBB)</td></tr>
<tr class="separator:a0a05cc04c5d50a14920721da5f53e1fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87d0fbdabd17122a3febe35d7fbefb60"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a87d0fbdabd17122a3febe35d7fbefb60">IsEmptyBlock</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB)</td></tr>
<tr class="separator:a87d0fbdabd17122a3febe35d7fbefb60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17cea834a55a63f670e77230917423e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#ab17cea834a55a63f670e77230917423e">IsBranchOnlyBlock</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB)</td></tr>
<tr class="separator:ab17cea834a55a63f670e77230917423e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda790896623fd894c71bf79f1bbcfea"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#acda790896623fd894c71bf79f1bbcfea">IsBetterFallthrough</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB1, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB2)</td></tr>
<tr class="separator:acda790896623fd894c71bf79f1bbcfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebca59e55e33781db69d5909a2b2bc49"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/d65/classllvm_1_1DebugLoc.html">DebugLoc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#aebca59e55e33781db69d5909a2b2bc49">getBranchDebugLoc</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB)</td></tr>
<tr class="separator:aebca59e55e33781db69d5909a2b2bc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ecfd2e4efef37daed6d6fdea800a28"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#ac3ecfd2e4efef37daed6d6fdea800a28">findFalseBlock</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BB, <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TrueBB)</td></tr>
<tr class="separator:ac3ecfd2e4efef37daed6d6fdea800a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa3cf4dae61117e2ed40085d8b119bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#aeaa3cf4dae61117e2ed40085d8b119bb">findHoistingInsertPosAndDeps</a> (<a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d06/classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="el" href="../../d5/d6a/HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI, <a class="el" href="../../d1/d2f/classllvm_1_1SmallSet.html">SmallSet</a>&lt; unsigned, 4 &gt; &amp;Uses, <a class="el" href="../../d1/d2f/classllvm_1_1SmallSet.html">SmallSet</a>&lt; unsigned, 4 &gt; &amp;Defs)</td></tr>
<tr class="separator:aeaa3cf4dae61117e2ed40085d8b119bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae07ef8db7162ea7ac8f04e13f75a3580"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="../../dd/df9/namespacellvm_1_1cl.html#a9241f2e42b7587b123c885d7a659ad44">cl::boolOrDefault</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#ae07ef8db7162ea7ac8f04e13f75a3580">FlagEnableTailMerge</a> (&quot;enable-tail-merge&quot;, cl::init(cl::BOU_UNSET), cl::Hidden)</td></tr>
<tr class="separator:ae07ef8db7162ea7ac8f04e13f75a3580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02dc8f03ab0fbd643e0015ca91923d33"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a02dc8f03ab0fbd643e0015ca91923d33">TailMergeThreshold</a> (&quot;tail-merge-threshold&quot;, cl::desc(&quot;Max number of predecessors to consider tail merging&quot;), cl::init(150), cl::Hidden)</td></tr>
<tr class="separator:a02dc8f03ab0fbd643e0015ca91923d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287825ab3d1df2312dfb4c694a70cf43"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html#a287825ab3d1df2312dfb4c694a70cf43">TailMergeSize</a> (&quot;tail-merge-size&quot;, cl::desc(&quot;Min number of <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> to consider tail merging&quot;), cl::init(3), cl::Hidden)</td></tr>
<tr class="separator:a287825ab3d1df2312dfb4c694a70cf43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;branchfolding&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00040">40</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0ff8a27be1a6683026280a4611628562"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned ComputeCommonTailLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>I1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>I2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ComputeCommonTailLength - Given two machine basic blocks, compute the number of instructions they actually have in common together at their end. Return iterators for the first shared instruction in each block. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00313">313</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                                       {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  I1 = MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  I2 = MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordtype">unsigned</span> TailLen = 0;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">while</span> (I1 != MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; I2 != MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    --I1; --I2;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// Skip debugging pseudos; necessary to avoid changing the code.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">while</span> (I1-&gt;isDebugValue()) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">if</span> (I1==MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">while</span> (I2-&gt;isDebugValue()) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          <span class="keywordflow">if</span> (I2==MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="comment">// I1==DBG at begin; I2==DBG at begin</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">return</span> TailLen;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          --I2;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        ++I2;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// I1==DBG at begin; I2==non-DBG, or first of DBGs not at begin</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span> TailLen;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      --I1;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// I1==first (untested) non-DBG preceding known match</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">while</span> (I2-&gt;isDebugValue()) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> (I2==MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        ++I1;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="comment">// I1==non-DBG, or first of DBGs not at begin; I2==DBG at begin</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">return</span> TailLen;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      --I2;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// I1, I2==first (untested) non-DBGs preceding known match</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (!I1-&gt;isIdenticalTo(I2) ||</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment">// FIXME: This check is dubious. It&#39;s used to get around a problem where</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="comment">// people incorrectly expect inline asm directives to remain in the same</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="comment">// relative order. This is untenable because normal compiler</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="comment">// optimizations (like this one) may reorder and/or merge these</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="comment">// directives.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        I1-&gt;isInlineAsm()) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      ++I1; ++I2;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    ++TailLen;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// Back past possible debugging pseudos at beginning of block.  This matters</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// when one block differs from the other only by whether debugging pseudos</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// are present at the beginning.  (This way, the various checks later for</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// I1==MBB1-&gt;begin() work as expected.)</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">if</span> (I1 == MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; I2 != MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    --I2;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">while</span> (I2-&gt;isDebugValue()) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">if</span> (I2 == MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">return</span> TailLen;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      --I2;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    ++I2;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (I2 == MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; I1 != MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    --I1;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">while</span> (I1-&gt;isDebugValue()) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">if</span> (I1 == MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">return</span> TailLen;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      --I1;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    ++I1;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> TailLen;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a41d2e125b5d09248ee68674761fb14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned CountTerminators </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>CountTerminators - Count the number of terminators in the given block and set I to the position of the first non-terminator, if there is one, or MBB-&gt;<a class="el" href="../../dc/dbc/namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d" title="Get end iterator over path. ">end()</a> otherwise. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00510">510</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                                               {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  I = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordtype">unsigned</span> NumTerms = 0;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (I == MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      I = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    --<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (!I-&gt;isTerminator()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    ++NumTerms;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">return</span> NumTerms;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0df528512b8aed2e9f70a3f9b3128507"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned EstimateRuntime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>&#160;</td>
          <td class="paramname"><em>E</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>EstimateRuntime - Make a rough estimate for how long it will take to run the specified code. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00446">446</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                                             {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordtype">unsigned</span> Time = 0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">for</span> (; I != E; ++<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (I-&gt;isDebugValue())</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> (I-&gt;isCall())</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      Time += 10;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (I-&gt;mayLoad() || I-&gt;mayStore())</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      Time += 2;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      ++Time;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">return</span> Time;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3ecfd2e4efef37daed6d6fdea800a28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>* findFalseBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>BB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>TrueBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>findFalseBlock - BB has a fallthrough. Find its 'false' successor given its 'true' successor. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l01470">1470</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                                                                    {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">MachineBasicBlock::succ_iterator</a> SI = BB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">succ_begin</a>(),</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;         E = BB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">succ_end</a>(); SI != E; ++SI) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccBB = *SI;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">if</span> (SuccBB != TrueBB)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">return</span> SuccBB;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a3ddd708642d60c1661992ff8ba1b215d"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">llvm::MachineBasicBlock::succ_end</a></div><div class="ttdeci">succ_iterator succ_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00288">MachineBasicBlock.h:288</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_aefba5f2af370add1bc8aaceedf7878ef"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">llvm::MachineBasicBlock::succ_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::iterator succ_iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00260">MachineBasicBlock.h:260</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6321b189ea8fd5058663f8a87d6c23e9"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">llvm::MachineBasicBlock::succ_begin</a></div><div class="ttdeci">succ_iterator succ_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00286">MachineBasicBlock.h:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeaa3cf4dae61117e2ed40085d8b119bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> findHoistingInsertPosAndDeps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d06/classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *&#160;</td>
          <td class="paramname"><em>TII</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d7/d2e/classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *&#160;</td>
          <td class="paramname"><em>TRI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d2f/classllvm_1_1SmallSet.html">SmallSet</a>&lt; unsigned, 4 &gt; &amp;&#160;</td>
          <td class="paramname"><em>Uses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d2f/classllvm_1_1SmallSet.html">SmallSet</a>&lt; unsigned, 4 &gt; &amp;&#160;</td>
          <td class="paramname"><em>Defs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>findHoistingInsertPosAndDeps - Find the location to move common instructions in successors to. The location is usually just before the terminator, however if the terminator is a conditional branch and its previous instruction is the flag setting instruction, the previous instruction is the preferred location. This function also gathers uses and defs of the instructions from the insertion point to the end of the block. The data is used by HoistCommonCodeInSuccs to ensure safety. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l01489">1489</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                                                                              {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> Loc = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">getFirstTerminator</a>();</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordflow">if</span> (!TII-&gt;<a class="code" href="../../de/d06/classllvm_1_1TargetInstrInfo.html#aad7e5ed58daa51de3466752823b2f76e">isUnpredicatedTerminator</a>(Loc))</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">return</span> MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Loc-&gt;getNumOperands(); i != e; ++i) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Loc-&gt;getOperand(i);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>())</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../df/db6/namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">if</span> (!Reg)</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">isUse</a>()) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> AI(Reg, TRI, <span class="keyword">true</span>); AI.<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">isValid</a>(); ++AI)</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        Uses.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(*AI);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>())</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="comment">// Don&#39;t try to hoist code in the rare case the terminator defines a</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="comment">// register that is later used.</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">return</span> MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <span class="comment">// If the terminator defines a register, make sure we don&#39;t hoist</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      <span class="comment">// the instruction whose def might be clobbered by the terminator.</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> AI(Reg, TRI, <span class="keyword">true</span>); AI.<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">isValid</a>(); ++AI)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        Defs.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(*AI);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">if</span> (Uses.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#ad1fc9d053ca7e09f7ac983572a57e5af">empty</a>())</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">return</span> Loc;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">if</span> (Loc == MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">return</span> MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="comment">// The terminator is probably a conditional branch, try not to separate the</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="comment">// branch from condition setting instruction.</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> PI = Loc;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  --PI;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">while</span> (PI != MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; PI-&gt;isDebugValue())</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    --PI;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordtype">bool</span> IsDef = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = PI-&gt;getNumOperands(); !IsDef &amp;&amp; i != e; ++i) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = PI-&gt;getOperand(i);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="comment">// If PI has a regmask operand, it is probably a call. Separate away.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">isRegMask</a>())</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="keywordflow">return</span> Loc;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() || MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">isUse</a>())</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordtype">unsigned</span> Reg = MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span> (!Reg)</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">if</span> (Uses.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#a75238c8d967e3014bc35c24c843c230f">count</a>(Reg))</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      IsDef = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordflow">if</span> (!IsDef)</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="comment">// The condition setting instruction is not just before the conditional</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="comment">// branch.</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">return</span> Loc;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="comment">// Be conservative, don&#39;t insert instruction above something that may have</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">// side-effects. And since it&#39;s potentially bad to separate flag setting</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="comment">// instruction from the conditional branch, just abort the optimization</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="comment">// completely.</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="comment">// Also avoid moving code above predicated instruction since it&#39;s hard to</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="comment">// reason about register liveness with predicated instruction.</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keywordtype">bool</span> DontMoveAcrossStore = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">if</span> (!PI-&gt;isSafeToMove(TII, <span class="keyword">nullptr</span>, DontMoveAcrossStore) ||</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      TII-&gt;<a class="code" href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a2a69dd402cbc7f6282c93c32161395bc">isPredicated</a>(PI))</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">return</span> MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="comment">// Find out what registers are live. Note this routine is ignoring other live</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="comment">// registers which are only used by instructions in successor blocks.</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = PI-&gt;getNumOperands(); i != e; ++i) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = PI-&gt;getOperand(i);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>())</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordtype">unsigned</span> Reg = MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">if</span> (!Reg)</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">isUse</a>()) {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> AI(Reg, TRI, <span class="keyword">true</span>); AI.<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">isValid</a>(); ++AI)</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        Uses.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(*AI);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <span class="keywordflow">if</span> (Uses.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">erase</a>(Reg)) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d0/dbe/classllvm_1_1MCSubRegIterator.html">MCSubRegIterator</a> SubRegs(Reg, TRI); SubRegs.<a class="code" href="../../dd/da4/classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#abccd358b92366e5284e7e674e86b241f">isValid</a>(); ++SubRegs)</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;          Uses.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">erase</a>(*SubRegs); <span class="comment">// Use sub-registers to be conservative</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> AI(Reg, TRI, <span class="keyword">true</span>); AI.<a class="code" href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">isValid</a>(); ++AI)</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        Defs.<a class="code" href="../../d1/d2f/classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(*AI);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    }</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keywordflow">return</span> PI;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_1_1DiffListIterator_html_abccd358b92366e5284e7e674e86b241f"><div class="ttname"><a href="../../dd/da4/classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#abccd358b92366e5284e7e674e86b241f">llvm::MCRegisterInfo::DiffListIterator::isValid</a></div><div class="ttdeci">bool isValid() const </div><div class="ttdoc">isValid - returns true if this iterator is not yet at the end. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5f/MCRegisterInfo_8h_source.html#l00217">MCRegisterInfo.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a7f0521fa2de44271fd4b909ea7351ef3"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a7f0521fa2de44271fd4b909ea7351ef3">llvm::MachineBasicBlock::getFirstTerminator</a></div><div class="ttdeci">iterator getFirstTerminator()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/MachineBasicBlock_8cpp_source.html#l00174">MachineBasicBlock.cpp:174</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a196420aa839c2b21f42c4bf5c36df437"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00289">MachineOperand.h:289</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html_a75a2d2ad3b3dce6702750d570ee8f343"><div class="ttname"><a href="../../d1/d2f/classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">llvm::SmallSet::erase</a></div><div class="ttdeci">bool erase(const T &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/SmallSet_8h_source.html#l00090">SmallSet.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html_ad1fc9d053ca7e09f7ac983572a57e5af"><div class="ttname"><a href="../../d1/d2f/classllvm_1_1SmallSet.html#ad1fc9d053ca7e09f7ac983572a57e5af">llvm::SmallSet::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/SmallSet_8h_source.html#l00043">SmallSet.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad8198d6d83af9410d867136e33fbf4b2"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const </div><div class="ttdoc">isReg - Tests if this is a MO_Register operand. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00227">MachineOperand.h:227</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="../../df/db6/namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc3/X86DisassemblerDecoder_8h_source.html#l00429">X86DisassemblerDecoder.h:429</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegAliasIterator_html_abf2eadac3ea84e2e2739444c40421eac"><div class="ttname"><a href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">llvm::MCRegAliasIterator::isValid</a></div><div class="ttdeci">bool isValid() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5f/MCRegisterInfo_8h_source.html#l00580">MCRegisterInfo.h:580</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html_a8d8348060ccdeeba13fb8bc651dfbf82"><div class="ttname"><a href="../../d1/d2f/classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">llvm::SmallSet::insert</a></div><div class="ttdeci">bool insert(const T &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/SmallSet_8h_source.html#l00063">SmallSet.h:63</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegAliasIterator_html"><div class="ttname"><a href="../../d8/dfb/classllvm_1_1MCRegAliasIterator.html">llvm::MCRegAliasIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5f/MCRegisterInfo_8h_source.html#l00555">MCRegisterInfo.h:555</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubRegIterator_html"><div class="ttname"><a href="../../d0/dbe/classllvm_1_1MCSubRegIterator.html">llvm::MCSubRegIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5f/MCRegisterInfo_8h_source.html#l00441">MCRegisterInfo.h:441</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2c5eddfba64e7a44deba1b5a0d45a017"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">llvm::MachineOperand::isRegMask</a></div><div class="ttdeci">bool isRegMask() const </div><div class="ttdoc">isRegMask - Tests if this is a MO_RegisterMask operand. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00251">MachineOperand.h:251</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html_a75238c8d967e3014bc35c24c843c230f"><div class="ttname"><a href="../../d1/d2f/classllvm_1_1SmallSet.html#a75238c8d967e3014bc35c24c843c230f">llvm::SmallSet::count</a></div><div class="ttdeci">size_type count(const T &amp;V) const </div><div class="ttdoc">count - Return 1 if the element is in the set, 0 otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/SmallSet_8h_source.html#l00052">SmallSet.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_aad7e5ed58daa51de3466752823b2f76e"><div class="ttname"><a href="../../de/d06/classllvm_1_1TargetInstrInfo.html#aad7e5ed58daa51de3466752823b2f76e">llvm::TargetInstrInfo::isUnpredicatedTerminator</a></div><div class="ttdeci">virtual bool isUnpredicatedTerminator(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/TargetInstrInfo_8cpp_source.html#l00202">TargetInstrInfo.cpp:202</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a57bf9ee7219097ff0f98da23a3b3b782"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00274">MachineOperand.h:274</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00264">MachineOperand.h:264</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a2a69dd402cbc7f6282c93c32161395bc"><div class="ttname"><a href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a2a69dd402cbc7f6282c93c32161395bc">llvm::TargetInstrInfo::isPredicated</a></div><div class="ttdeci">virtual bool isPredicated(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d44/TargetInstrInfo_8h_source.html#l00688">TargetInstrInfo.h:688</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a653145c23a36602493bb8dae8ef3d73b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FixTail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>CurMBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>SuccBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d06/classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *&#160;</td>
          <td class="paramname"><em>TII</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00466">466</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                                {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = CurMBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="../../d9/d2c/namespacebranch-range-01.html#a02ead9d2b33486f3c82bfae74da33a5a">std::next</a>(<a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a>(CurMBB));</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TBB = <span class="keyword">nullptr</span>, *FBB = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 4&gt;</a> Cond;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="../../dc/d65/classllvm_1_1DebugLoc.html">DebugLoc</a> dl;  <span class="comment">// FIXME: this is nowhere</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">if</span> (I != MF-&gt;<a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">end</a>() &amp;&amp;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      !TII-&gt;<a class="code" href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a641441a84a88e01223f3c091dfb50694">AnalyzeBranch</a>(*CurMBB, TBB, FBB, Cond, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *NextBB = <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (TBB == NextBB &amp;&amp; !Cond.<a class="code" href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; !FBB) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">if</span> (!TII-&gt;<a class="code" href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a051d866f5c8c28d14ebe529a33f5f7b1">ReverseBranchCondition</a>(Cond)) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        TII-&gt;<a class="code" href="../../de/d06/classllvm_1_1TargetInstrInfo.html#abce62a681f245fc78059890e4ca83210">RemoveBranch</a>(*CurMBB);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        TII-&gt;<a class="code" href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a8afe41bda071ea77c815f7bd436fdd82">InsertBranch</a>(*CurMBB, SuccBB, <span class="keyword">nullptr</span>, Cond, dl);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  TII-&gt;<a class="code" href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a8afe41bda071ea77c815f7bd436fdd82">InsertBranch</a>(*CurMBB, SuccBB, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 0&gt;</a>(), dl);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a9d017af749f76484cb9aec9ff6e4330c"><div class="ttname"><a href="../../d5/d77/classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">llvm::MachineFunction::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1c/MachineFunction_8h_source.html#l00314">MachineFunction.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="../../d5/d77/classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1c/MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a641441a84a88e01223f3c091dfb50694"><div class="ttname"><a href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a641441a84a88e01223f3c091dfb50694">llvm::TargetInstrInfo::AnalyzeBranch</a></div><div class="ttdeci">virtual bool AnalyzeBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify=false) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d44/TargetInstrInfo_8h_source.html#l00289">TargetInstrInfo.h:289</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="../../dc/d65/classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2d/DebugLoc_8h_source.html#l00029">DebugLoc.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_abce62a681f245fc78059890e4ca83210"><div class="ttname"><a href="../../de/d06/classllvm_1_1TargetInstrInfo.html#abce62a681f245fc78059890e4ca83210">llvm::TargetInstrInfo::RemoveBranch</a></div><div class="ttdeci">virtual unsigned RemoveBranch(MachineBasicBlock &amp;MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d44/TargetInstrInfo_8h_source.html#l00299">TargetInstrInfo.h:299</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="../../db/dc5/classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00057">SmallVector.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a051d866f5c8c28d14ebe529a33f5f7b1"><div class="ttname"><a href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a051d866f5c8c28d14ebe529a33f5f7b1">llvm::TargetInstrInfo::ReverseBranchCondition</a></div><div class="ttdeci">virtual bool ReverseBranchCondition(SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d44/TargetInstrInfo_8h_source.html#l00670">TargetInstrInfo.h:670</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="../../d0/d78/classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00845">SmallVector.h:845</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a8afe41bda071ea77c815f7bd436fdd82"><div class="ttname"><a href="../../de/d06/classllvm_1_1TargetInstrInfo.html#a8afe41bda071ea77c815f7bd436fdd82">llvm::TargetInstrInfo::InsertBranch</a></div><div class="ttdeci">virtual unsigned InsertBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *TBB, MachineBasicBlock *FBB, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, DebugLoc DL) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d44/TargetInstrInfo_8h_source.html#l00313">TargetInstrInfo.h:313</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a340712de3e78fec11c338735cab17df7"><div class="ttname"><a href="../../d5/d77/classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">llvm::MachineFunction::iterator</a></div><div class="ttdeci">BasicBlockListType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1c/MachineFunction_8h_source.html#l00300">MachineFunction.h:300</a></div></div>
<div class="ttc" id="namespacebranch-range-01_html_a02ead9d2b33486f3c82bfae74da33a5a"><div class="ttname"><a href="../../d9/d2c/namespacebranch-range-01.html#a02ead9d2b33486f3c82bfae74da33a5a">branch-range-01.next</a></div><div class="ttdeci">string next</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d37/branch-range-01_8py_source.html#l00079">branch-range-01.py:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aebca59e55e33781db69d5909a2b2bc49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/d65/classllvm_1_1DebugLoc.html">DebugLoc</a> getBranchDebugLoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>getBranchDebugLoc - Find and return, if any, the DebugLoc of the branch instructions on the block. Always use the DebugLoc of the first branching instruction found unless its absent, in which case use the DebugLoc of the second if present. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l01052">1052</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                                                          {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB.<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">if</span> (I == MBB.<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d65/classllvm_1_1DebugLoc.html">DebugLoc</a>();</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  --<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">while</span> (I-&gt;isDebugValue() &amp;&amp; I != MBB.<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    --I;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordflow">if</span> (I-&gt;isBranch())</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">return</span> I-&gt;getDebugLoc();</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/d65/classllvm_1_1DebugLoc.html">DebugLoc</a>();</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="../../dc/d65/classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2d/DebugLoc_8h_source.html#l00029">DebugLoc.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23f0fe5fd9bac0df47092cb480fbe136"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned HashEndOfMBB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>HashEndOfMBB - Hash the last instruction in the MBB. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00294">294</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                                           {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::const_iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (I == MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> 0;   <span class="comment">// Empty MBB.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  --<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// Skip debug info so it will not affect codegen.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">while</span> (I-&gt;isDebugValue()) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (I==MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">return</span> 0;      <span class="comment">// MBB empty except for debug info.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    --<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/d7b/BranchFolding_8cpp.html#a27436de2b027bf7b58f23547b654603d">HashMachineInstr</a>(I);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
<div class="ttc" id="BranchFolding_8cpp_html_a27436de2b027bf7b58f23547b654603d"><div class="ttname"><a href="../../dc/d7b/BranchFolding_8cpp.html#a27436de2b027bf7b58f23547b654603d">HashMachineInstr</a></div><div class="ttdeci">static unsigned HashMachineInstr(const MachineInstr *MI)</div><div class="ttdoc">HashMachineInstr - Compute a hash value for MI and its operands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/BranchFolding_8cpp_source.html#l00261">BranchFolding.cpp:261</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27436de2b027bf7b58f23547b654603d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned HashMachineInstr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/d53/classllvm_1_1MachineInstr.html">MachineInstr</a> *&#160;</td>
          <td class="paramname"><em>MI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>HashMachineInstr - Compute a hash value for MI and its operands. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00261">261</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                                         {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">unsigned</span> Hash = MI-&gt;<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = MI-&gt;<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Op = MI-&gt;<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(i);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// Merge in bits from the operand if easy.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">unsigned</span> OperandHash = 0;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">switch</span> (Op.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a1b63a086907e5b144612bb4266b713d6">getType</a>()) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_Register:          OperandHash = Op.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_Immediate:         OperandHash = Op.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>(); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_MachineBasicBlock:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      OperandHash = Op.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a3350f7760c4eec67ea7d8f3063c3d748">getMBB</a>()-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_FrameIndex:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_ConstantPoolIndex:</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_JumpTableIndex:</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      OperandHash = Op.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_GlobalAddress:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">case</span> MachineOperand::MO_ExternalSymbol:</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="comment">// Global address / external symbol are too hard, don&#39;t bother, but do</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="comment">// pull in the offset.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      OperandHash = Op.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#ae73de4f077ea9862af9611652396202b">getOffset</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    Hash += ((OperandHash &lt;&lt; 3) | Op.<a class="code" href="../../d2/d04/classllvm_1_1MachineOperand.html#a1b63a086907e5b144612bb4266b713d6">getType</a>()) &lt;&lt; (i&amp;31);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">return</span> Hash;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a3350f7760c4eec67ea7d8f3063c3d748"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#a3350f7760c4eec67ea7d8f3063c3d748">llvm::MachineOperand::getMBB</a></div><div class="ttdeci">MachineBasicBlock * getMBB() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00422">MachineOperand.h:422</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00274">MachineInstr.h:274</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00270">MachineInstr.h:270</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00407">MachineOperand.h:407</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00276">MachineInstr.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ae73de4f077ea9862af9611652396202b"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#ae73de4f077ea9862af9611652396202b">llvm::MachineOperand::getOffset</a></div><div class="ttdeci">int64_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00455">MachineOperand.h:455</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a1b63a086907e5b144612bb4266b713d6"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#a1b63a086907e5b144612bb4266b713d6">llvm::MachineOperand::getType</a></div><div class="ttdeci">MachineOperandType getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00188">MachineOperand.h:188</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ac9485ae7d6fedd71ad4460f72c799c98"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00427">MachineOperand.h:427</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="../../d2/d04/classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da0/MachineOperand_8h_source.html#l00264">MachineOperand.h:264</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a82220ff274d037282208b6b3d75975c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS </td>
          <td>(</td>
          <td class="paramtype">BranchFolderPass&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;branch-folder&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Control Flow <a class="el" href="../../d6/d9c/GlobalOpt_8cpp.html#a23fd01d07baea6623f8b2019dd8f2f21">Optimizer</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00082">82</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                                               {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (skipOptnoneFunction(*MF.getFunction()))</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="../../d5/d03/classllvm_1_1TargetPassConfig.html">TargetPassConfig</a> *PassConfig = &amp;getAnalysis&lt;TargetPassConfig&gt;();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// TailMerge can create jump into if branches that make CFG irreducible for</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// HW that requires structurized CFG.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">bool</span> EnableTailMerge = !MF.getTarget().requiresStructuredCFG() &amp;&amp;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      PassConfig-&gt;<a class="code" href="../../d5/d03/classllvm_1_1TargetPassConfig.html#a0e23643ef5185f324c3214f72f821953">getEnableTailMerge</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="../../d0/deb/classllvm_1_1BranchFolder.html">BranchFolder</a> Folder(EnableTailMerge, <span class="comment">/*CommonHoist=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">return</span> Folder.OptimizeFunction(MF,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                 MF.getTarget().getInstrInfo(),</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                 MF.getTarget().getRegisterInfo(),</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                 getAnalysisIfAvailable&lt;MachineModuleInfo&gt;());</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1TargetPassConfig_html"><div class="ttname"><a href="../../d5/d03/classllvm_1_1TargetPassConfig.html">llvm::TargetPassConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dbb/include_2llvm_2CodeGen_2Passes_8h_source.html#l00087">include/llvm/CodeGen/Passes.h:87</a></div></div>
<div class="ttc" id="classllvm_1_1TargetPassConfig_html_a0e23643ef5185f324c3214f72f821953"><div class="ttname"><a href="../../d5/d03/classllvm_1_1TargetPassConfig.html#a0e23643ef5185f324c3214f72f821953">llvm::TargetPassConfig::getEnableTailMerge</a></div><div class="ttdeci">bool getEnableTailMerge() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dbb/include_2llvm_2CodeGen_2Passes_8h_source.html#l00155">include/llvm/CodeGen/Passes.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1BranchFolder_html"><div class="ttname"><a href="../../d0/deb/classllvm_1_1BranchFolder.html">llvm::BranchFolder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd2/BranchFolding_8h_source.html#l00024">BranchFolding.h:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acda790896623fd894c71bf79f1bbcfea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsBetterFallthrough </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>IsBetterFallthrough - Return true if it would be clearly better to fall-through to MBB1 than to fall through into MBB2. This has to return a strict ordering, returning true for both (MBB1,MBB2) and (MBB2,MBB1) will result in infinite loops. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l01024">1024</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                                                         {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="comment">// Right now, we use a simple heuristic.  If MBB2 ends with a call, and</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// MBB1 doesn&#39;t, we prefer to fall through into MBB1.  This allows us to</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="comment">// optimize branches that branch to either a return block or an assert block</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="comment">// into a fallthrough to the return.</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7b/BranchFolding_8cpp.html#a87d0fbdabd17122a3febe35d7fbefb60">IsEmptyBlock</a>(MBB1) || <a class="code" href="../../dc/d7b/BranchFolding_8cpp.html#a87d0fbdabd17122a3febe35d7fbefb60">IsEmptyBlock</a>(MBB2)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="comment">// If there is a clear successor ordering we make sure that one block</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">// will fall through to the next</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">if</span> (MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a57f25804288bc580d7b2e4016a38aec9">isSuccessor</a>(MBB2)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordflow">if</span> (MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a57f25804288bc580d7b2e4016a38aec9">isSuccessor</a>(MBB1)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// Neither block consists entirely of debug info (per IsEmptyBlock check),</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="comment">// so we needn&#39;t test for falling off the beginning here.</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> MBB1I = --MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keywordflow">while</span> (MBB1I-&gt;isDebugValue())</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    --MBB1I;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> MBB2I = --MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">while</span> (MBB2I-&gt;isDebugValue())</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    --MBB2I;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordflow">return</span> MBB2I-&gt;isCall() &amp;&amp; !MBB1I-&gt;isCall();</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="BranchFolding_8cpp_html_a87d0fbdabd17122a3febe35d7fbefb60"><div class="ttname"><a href="../../dc/d7b/BranchFolding_8cpp.html#a87d0fbdabd17122a3febe35d7fbefb60">IsEmptyBlock</a></div><div class="ttdeci">static bool IsEmptyBlock(MachineBasicBlock *MBB)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/BranchFolding_8cpp_source.html#l00998">BranchFolding.cpp:998</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a57f25804288bc580d7b2e4016a38aec9"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a57f25804288bc580d7b2e4016a38aec9">llvm::MachineBasicBlock::isSuccessor</a></div><div class="ttdeci">bool isSuccessor(const MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/MachineBasicBlock_8cpp_source.html#l00625">MachineBasicBlock.cpp:625</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab17cea834a55a63f670e77230917423e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsBranchOnlyBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l01011">1011</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                                                      {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> MBBI, MBBE;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">for</span> (MBBI = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), MBBE = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>(); MBBI!=MBBE; ++MBBI) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (!MBBI-&gt;isDebugValue())</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">return</span> (MBBI-&gt;isBranch());</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a87d0fbdabd17122a3febe35d7fbefb60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsEmptyBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00998">998</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                                                 {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">if</span> (MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#aa37d95a1d7bc824da0c596d8334c4ceb">empty</a>())</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> MBBI = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), MBBE = MBB-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;       MBBI!=MBBE; ++MBBI) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span> (!MBBI-&gt;isDebugValue())</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_aa37d95a1d7bc824da0c596d8334c4ceb"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#aa37d95a1d7bc824da0c596d8334c4ceb">llvm::MachineBasicBlock::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00220">MachineBasicBlock.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a05cc04c5d50a14920721da5f53e1fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ProfitableToMerge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>MBB2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>minCommonTailLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned &amp;&#160;</td>
          <td class="paramname"><em>CommonTailLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>I1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>I2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>SuccBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&#160;</td>
          <td class="paramname"><em>PredBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ProfitableToMerge - <a class="el" href="../../d8/d2b/namespaceCheck.html">Check</a> if two machine basic blocks have a common tail and decide if it would be profitable to merge those tails. Return the length of the common tail and iterators to the first common instruction in each block. </p>

<p>Definition at line <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html#l00530">530</a> of file <a class="el" href="../../dc/d7b/BranchFolding_8cpp_source.html">BranchFolding.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                                                         {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  CommonTailLen = <a class="code" href="../../dc/d7b/BranchFolding_8cpp.html#a0ff8a27be1a6683026280a4611628562">ComputeCommonTailLength</a>(MBB1, MBB2, I1, I2);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span> (CommonTailLen == 0)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Common tail length of BB#&quot;</span> &lt;&lt; MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>()</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; and BB#&quot;</span> &lt;&lt; MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">getNumber</a>() &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; CommonTailLen</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;               &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// It&#39;s almost always profitable to merge any number of non-terminator</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// instructions with the block that falls through into the common successor.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">if</span> (MBB1 == PredBB || MBB2 == PredBB) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">MachineBasicBlock::iterator</a> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">unsigned</span> NumTerms = <a class="code" href="../../dc/d7b/BranchFolding_8cpp.html#a3a41d2e125b5d09248ee68674761fb14">CountTerminators</a>(MBB1 == PredBB ? MBB2 : MBB1, I);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (CommonTailLen &gt; NumTerms)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// If one of the blocks can be completely merged and happens to be in</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// a position where the other could fall through into it, merge any number</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// of instructions, because it can be done without a branch.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// TODO: If the blocks are not adjacent, move one of them so that they are?</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a0fc7a349a4ab737607def6cb461791fd">isLayoutSuccessor</a>(MBB2) &amp;&amp; I2 == MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a0fc7a349a4ab737607def6cb461791fd">isLayoutSuccessor</a>(MBB1) &amp;&amp; I1 == MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">// If both blocks have an unconditional branch temporarily stripped out,</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// count that as an additional common instruction for the following</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// heuristics.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordtype">unsigned</span> EffectiveTailLen = CommonTailLen;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (SuccBB &amp;&amp; MBB1 != PredBB &amp;&amp; MBB2 != PredBB &amp;&amp;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      !MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">back</a>().<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#a5ca4eb718a8caedcad900fd7cd937cac">isBarrier</a>() &amp;&amp;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      !MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">back</a>().<a class="code" href="../../dc/d53/classllvm_1_1MachineInstr.html#a5ca4eb718a8caedcad900fd7cd937cac">isBarrier</a>())</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    ++EffectiveTailLen;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">// Check if the common tail is long enough to be worthwhile.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (EffectiveTailLen &gt;= minCommonTailLength)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// If we are optimizing for code size, 2 instructions in common is enough if</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// we don&#39;t have to split a block.  At worst we will be introducing 1 new</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// branch instruction, which is likely to be smaller than the 2</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="comment">// instructions that would be deleted in the merge.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">if</span> (EffectiveTailLen &gt;= 2 &amp;&amp;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      MF-&gt;<a class="code" href="../../d5/d77/classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="../../de/d7c/classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        hasAttribute(AttributeSet::FunctionIndex, Attribute::OptimizeForSize) &amp;&amp;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      (I1 == MBB1-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() || I2 == MBB2-&gt;<a class="code" href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()))</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="../../d5/d77/classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1c/MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6acda287e5c19ffb173b0bf8f1dd9c5e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a6acda287e5c19ffb173b0bf8f1dd9c5e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00644">MachineBasicBlock.h:644</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ad784a6594990530bffb2018aeeed56f3"><div class="ttname"><a href="../../d5/d77/classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">const Function * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1c/MachineFunction_8h_source.html#l00151">MachineFunction.h:151</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ace3ed0412f841777b7de55d47883890e"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">llvm::MachineBasicBlock::back</a></div><div class="ttdeci">MachineInstr &amp; back()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00228">MachineBasicBlock.h:228</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_1_1bundle__iterator_html"><div class="ttname"><a href="../../de/db4/classllvm_1_1MachineBasicBlock_1_1bundle__iterator.html">llvm::MachineBasicBlock::bundle_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00144">MachineBasicBlock.h:144</a></div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="BranchFolding_8cpp_html_a3a41d2e125b5d09248ee68674761fb14"><div class="ttname"><a href="../../dc/d7b/BranchFolding_8cpp.html#a3a41d2e125b5d09248ee68674761fb14">CountTerminators</a></div><div class="ttdeci">static unsigned CountTerminators(MachineBasicBlock *MBB, MachineBasicBlock::iterator &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/BranchFolding_8cpp_source.html#l00510">BranchFolding.cpp:510</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="../../de/d7c/classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/df5/Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df3/MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a0fc7a349a4ab737607def6cb461791fd"><div class="ttname"><a href="../../dc/dfe/classllvm_1_1MachineBasicBlock.html#a0fc7a349a4ab737607def6cb461791fd">llvm::MachineBasicBlock::isLayoutSuccessor</a></div><div class="ttdeci">bool isLayoutSuccessor(const MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/MachineBasicBlock_8cpp_source.html#l00629">MachineBasicBlock.cpp:629</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4eb718a8caedcad900fd7cd937cac"><div class="ttname"><a href="../../dc/d53/classllvm_1_1MachineInstr.html#a5ca4eb718a8caedcad900fd7cd937cac">llvm::MachineInstr::isBarrier</a></div><div class="ttdeci">bool isBarrier(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MachineInstr_8h_source.html#l00411">MachineInstr.h:411</a></div></div>
<div class="ttc" id="BranchFolding_8cpp_html_a0ff8a27be1a6683026280a4611628562"><div class="ttname"><a href="../../dc/d7b/BranchFolding_8cpp.html#a0ff8a27be1a6683026280a4611628562">ComputeCommonTailLength</a></div><div class="ttdeci">static unsigned ComputeCommonTailLength(MachineBasicBlock *MBB1, MachineBasicBlock *MBB2, MachineBasicBlock::iterator &amp;I1, MachineBasicBlock::iterator &amp;I2)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/BranchFolding_8cpp_source.html#l00313">BranchFolding.cpp:313</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7fc12fa408f3c5a5e8c205a77ee5c667"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumDeadBlocks&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of dead blocks removed&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a52ab12dec7d98a4be54800eb47f33a60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumBranchOpts&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of branches optimized&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1e4f23d5dc4bc52d2f9fe7466852c6dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumTailMerge&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of block tails merged&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abec13ac4c05563ee8d0f2bd1b4ac9027"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumHoist&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of times common <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> are hoisted&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae07ef8db7162ea7ac8f04e13f75a3580"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="../../dd/df9/namespacellvm_1_1cl.html#a9241f2e42b7587b123c885d7a659ad44">cl::boolOrDefault</a>&gt; FlagEnableTailMerge(&quot;enable-tail-merge&quot;, cl::init(cl::BOU_UNSET), cl::Hidden)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a287825ab3d1df2312dfb4c694a70cf43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;unsigned&gt; TailMergeSize(&quot;tail-merge-size&quot;, cl::desc(&quot;Min number of <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> to consider tail merging&quot;), cl::init(3), cl::Hidden)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a02dc8f03ab0fbd643e0015ca91923d33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;unsigned&gt; TailMergeThreshold(&quot;tail-merge-threshold&quot;, cl::desc(&quot;Max number of predecessors to consider tail merging&quot;), cl::init(150), cl::Hidden)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_211fb134ce6a4c3329568c5b3817f0ae.html">llvm</a></li><li class="navelem"><a class="el" href="../../dir_68ef2609279916640dd02c22eb347286.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_06f60f07f4cf4ff2ccf75b14642ffc3e.html">CodeGen</a></li><li class="navelem"><a class="el" href="../../dc/d7b/BranchFolding_8cpp.html">BranchFolding.cpp</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:43:22 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
