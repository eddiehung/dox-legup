<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: CodeGenPrepare.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/d08/CodeGenPrepare_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">CodeGenPrepare.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../de/dbb/include_2llvm_2CodeGen_2Passes_8h_source.html">llvm/CodeGen/Passes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dc/d73/DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/d64/SmallSet_8h_source.html">llvm/ADT/SmallSet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d5f/Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d48/InstructionSimplify_8h_source.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/daf/CallSite_8h_source.html">llvm/IR/CallSite.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/d45/Constants_8h_source.html">llvm/IR/Constants.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d19/DataLayout_8h_source.html">llvm/IR/DataLayout.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/df5/DerivedTypes_8h_source.html">llvm/IR/DerivedTypes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d50/Dominators_8h_source.html">llvm/IR/Dominators.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/df5/Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/d06/GetElementPtrTypeIterator_8h_source.html">llvm/IR/GetElementPtrTypeIterator.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/d60/IRBuilder_8h_source.html">llvm/IR/IRBuilder.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d64/InlineAsm_8h_source.html">llvm/IR/InlineAsm.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/dd5/Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/dfe/IntrinsicInst_8h_source.html">llvm/IR/IntrinsicInst.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d65/PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/d31/ValueHandle_8h_source.html">llvm/IR/ValueHandle.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/ddc/ValueMap_8h_source.html">llvm/IR/ValueMap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d29/Pass_8h_source.html">llvm/Pass.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/d41/CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d82/raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dc/d1a/TargetLibraryInfo_8h_source.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d56/TargetLowering_8h_source.html">llvm/Target/TargetLowering.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d11/TargetSubtargetInfo_8h_source.html">llvm/Target/TargetSubtargetInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d18/BasicBlockUtils_8h_source.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/d7f/BuildLibCalls_8h_source.html">llvm/Transforms/Utils/BuildLibCalls.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/da3/BypassSlowDivision_8h_source.html">llvm/Transforms/Utils/BypassSlowDivision.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d5/d6f/Local_8h_source.html">llvm/Transforms/Utils/Local.h</a>&quot;</code><br/>
</div>
<p><a href="../../dc/d08/CodeGenPrepare_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;codegenprepare&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3bdfef32b8f739f6dfb8ac8728d4fdd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a3bdfef32b8f739f6dfb8ac8728d4fdd7">STATISTIC</a> (NumBlocksElim,&quot;Number of blocks eliminated&quot;)</td></tr>
<tr class="separator:a3bdfef32b8f739f6dfb8ac8728d4fdd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2876695442585bf0804347b8551ebec8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a2876695442585bf0804347b8551ebec8">STATISTIC</a> (NumPHIsElim,&quot;Number of trivial PHIs eliminated&quot;)</td></tr>
<tr class="separator:a2876695442585bf0804347b8551ebec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f8c4f6eccf53325db01dee519f1cf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a95f8c4f6eccf53325db01dee519f1cf6">STATISTIC</a> (NumGEPsElim,&quot;Number of GEPs converted to casts&quot;)</td></tr>
<tr class="separator:a95f8c4f6eccf53325db01dee519f1cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f1967d0fa996f8a3eba5ec51a2645f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#ab8f1967d0fa996f8a3eba5ec51a2645f">STATISTIC</a> (NumCmpUses,&quot;Number of uses of Cmp expressions replaced with uses of &quot;&quot;sunken Cmps&quot;)</td></tr>
<tr class="separator:ab8f1967d0fa996f8a3eba5ec51a2645f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca9f610a5f0de0fcac1a8b9feb4fede"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a1ca9f610a5f0de0fcac1a8b9feb4fede">STATISTIC</a> (NumCastUses,&quot;Number of uses of Cast expressions replaced with uses &quot;&quot;of sunken Casts&quot;)</td></tr>
<tr class="separator:a1ca9f610a5f0de0fcac1a8b9feb4fede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187cf414ffc426db115cbf09c281c4e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a187cf414ffc426db115cbf09c281c4e1">STATISTIC</a> (NumMemoryInsts,&quot;Number of memory <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> whose address &quot;&quot;computations were sunk&quot;)</td></tr>
<tr class="separator:a187cf414ffc426db115cbf09c281c4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042d52e914f276381aa5c5e2b6835dd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a042d52e914f276381aa5c5e2b6835dd7">STATISTIC</a> (NumExtsMoved,&quot;Number of [s|z]ext <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> combined with loads&quot;)</td></tr>
<tr class="separator:a042d52e914f276381aa5c5e2b6835dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68e8fdbe2d4031d73464696fc256c042"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a68e8fdbe2d4031d73464696fc256c042">STATISTIC</a> (NumExtUses,&quot;Number of uses of [s|z]ext <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> optimized&quot;)</td></tr>
<tr class="separator:a68e8fdbe2d4031d73464696fc256c042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5cc62fe77243a148319b0c3dd21fbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a8c5cc62fe77243a148319b0c3dd21fbd">STATISTIC</a> (NumRetsDup,&quot;Number of return <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> duplicated&quot;)</td></tr>
<tr class="separator:a8c5cc62fe77243a148319b0c3dd21fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affafa2ab903e5e3c17534dfba79bbd98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#affafa2ab903e5e3c17534dfba79bbd98">STATISTIC</a> (NumDbgValueMoved,&quot;Number of <a class="el" href="../../da/d40/PointerAnalysis_8cpp.html#a6295d47efda04de55c38cb8ea1cdb807">debug</a> value <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> moved&quot;)</td></tr>
<tr class="separator:affafa2ab903e5e3c17534dfba79bbd98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d979d9b17c795f4b9034896a0096fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a71d979d9b17c795f4b9034896a0096fc">STATISTIC</a> (NumSelectsExpanded,&quot;Number of selects turned into branches&quot;)</td></tr>
<tr class="separator:a71d979d9b17c795f4b9034896a0096fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac127d2b7e99559fed29ffb425226ed03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#ac127d2b7e99559fed29ffb425226ed03">STATISTIC</a> (NumAndCmpsMoved,&quot;Number of and/cmp's pushed into branches&quot;)</td></tr>
<tr class="separator:ac127d2b7e99559fed29ffb425226ed03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1fe310194ee43cf18239682c36f055"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a2d1fe310194ee43cf18239682c36f055">INITIALIZE_TM_PASS</a> (CodeGenPrepare,&quot;codegenprepare&quot;,&quot;Optimize <a class="el" href="../../df/dca/GlobalMerge_8cpp.html#ac16d0ba14eb60334c1bfc84c4b00734a">for</a> code generation&quot;, false, <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>) <a class="el" href="../../d5/d43/classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="el" href="../../d3/d9e/IndVarSimplify2_8cpp.html#ac4f815981d19a995ed4c02690e805630">llvm</a></td></tr>
<tr class="separator:a2d1fe310194ee43cf18239682c36f055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cc8a3a2506bf528398d0aef0850f31a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a3cc8a3a2506bf528398d0aef0850f31a">SinkCast</a> (<a class="el" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *CI)</td></tr>
<tr class="memdesc:a3cc8a3a2506bf528398d0aef0850f31a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SinkCast - Sink the specified cast instruction into its user blocks.  <a href="#a3cc8a3a2506bf528398d0aef0850f31a">More...</a><br/></td></tr>
<tr class="separator:a3cc8a3a2506bf528398d0aef0850f31a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5879e98ff962702779287b966f4dce4b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a5879e98ff962702779287b966f4dce4b">OptimizeNoopCopyExpression</a> (<a class="el" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *CI, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d6/d03/classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI)</td></tr>
<tr class="separator:a5879e98ff962702779287b966f4dce4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cb7b30ab9793838d6ad4e23f67673d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#aa7cb7b30ab9793838d6ad4e23f67673d">OptimizeCmpExpression</a> (<a class="el" href="../../df/de6/classllvm_1_1CmpInst.html">CmpInst</a> *CI)</td></tr>
<tr class="separator:aa7cb7b30ab9793838d6ad4e23f67673d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e2fd6fce422c4ab3cea555782abbb6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a19e2fd6fce422c4ab3cea555782abbb6">isExtractBitsCandidateUse</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="el" href="../../d6/d1b/classllvm_1_1User.html">User</a>)</td></tr>
<tr class="separator:a19e2fd6fce422c4ab3cea555782abbb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a80e565e135f572b94ad0a6038c3746"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a7a80e565e135f572b94ad0a6038c3746">SinkShiftAndTruncate</a> (<a class="el" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *ShiftI, <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="el" href="../../d6/d1b/classllvm_1_1User.html">User</a>, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI, <a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> * &gt; &amp;InsertedShifts, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d6/d03/classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI)</td></tr>
<tr class="separator:a7a80e565e135f572b94ad0a6038c3746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0219b8f9437081ade76bf2f75a88e9b1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a0219b8f9437081ade76bf2f75a88e9b1">OptimizeExtractBits</a> (<a class="el" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *ShiftI, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d6/d03/classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI)</td></tr>
<tr class="separator:a0219b8f9437081ade76bf2f75a88e9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad897d4beb50aa8f0d4d2eaa08ac0987d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#ad897d4beb50aa8f0d4d2eaa08ac0987d">IsNonLocalValue</a> (<a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *V, <a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *BB)</td></tr>
<tr class="separator:ad897d4beb50aa8f0d4d2eaa08ac0987d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f66db387331ade4548891d8fa6d296"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a90f66db387331ade4548891d8fa6d296">isFormingBranchFromSelectProfitable</a> (<a class="el" href="../../d1/dd2/classllvm_1_1SelectInst.html">SelectInst</a> *SI)</td></tr>
<tr class="separator:a90f66db387331ade4548891d8fa6d296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34961a84a16597337f984a82dcd9938"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#af34961a84a16597337f984a82dcd9938">isBroadcastShuffle</a> (<a class="el" href="../../da/da0/classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> *SVI)</td></tr>
<tr class="separator:af34961a84a16597337f984a82dcd9938"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae51b73b67e301b063abfdd618fc6537e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#ae51b73b67e301b063abfdd618fc6537e">DisableBranchOpts</a> (&quot;disable-cgp-branch-<a class="el" href="../../dc/dd7/PeepholeOptimizer_8cpp.html#a67a996f7ec1e175832d24c93cf7af789">opts</a>&quot;, cl::Hidden, cl::init(<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Disable branch optimizations in CodeGenPrepare&quot;))</td></tr>
<tr class="separator:ae51b73b67e301b063abfdd618fc6537e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ea06b4e195aedc9dbd091d60d74365"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a18ea06b4e195aedc9dbd091d60d74365">DisableSelectToBranch</a> (&quot;disable-cgp-select2branch&quot;, cl::Hidden, cl::init(<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Disable select to branch conversion.&quot;))</td></tr>
<tr class="separator:a18ea06b4e195aedc9dbd091d60d74365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bef2b63ce245e6f105c1b207d77128d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#a2bef2b63ce245e6f105c1b207d77128d">AddrSinkUsingGEPs</a> (&quot;addr-<a class="el" href="../../d1/d81/dwarfdump-type-units_8cc.html#a6ac495c0425f7d6f873d10ee57f4bf28">sink</a>-using-<a class="el" href="../../d5/d92/SeparateConstOffsetFromGEP_8cpp.html#a589d62ce2ac872ff25beaad782d27235">gep</a>&quot;, cl::Hidden, cl::init(<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Address <a class="el" href="../../dd/d89/MachineSink_8cpp.html#a640e4b41923b109e68705e2ca9918848">sinking</a> in CGP using GEPs.&quot;))</td></tr>
<tr class="separator:a2bef2b63ce245e6f105c1b207d77128d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab578df6035c026da33776b9367923c61"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html#ab578df6035c026da33776b9367923c61">EnableAndCmpSinking</a> (&quot;enable-andcmp-<a class="el" href="../../dd/d89/MachineSink_8cpp.html#a640e4b41923b109e68705e2ca9918848">sinking</a>&quot;, cl::Hidden, cl::init(<a class="el" href="../../d6/d0d/LoopSimplify_8cpp.html#a13f020c6a40eb04f1b4f9ddfbb004ce0">true</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable sinkinig and/cmp into branches.&quot;))</td></tr>
<tr class="separator:ab578df6035c026da33776b9367923c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;codegenprepare&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00049">49</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2d1fe310194ee43cf18239682c36f055"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_TM_PASS </td>
          <td>(</td>
          <td class="paramtype">CodeGenPrepare&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;codegenprepare&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Optimize <a class="el" href="../../df/dca/GlobalMerge_8cpp.html#ac16d0ba14eb60334c1bfc84c4b00734a">for</a> code generation&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00154">154</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                                                    {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> CodeGenPrepare(<a class="code" href="../../d3/df8/namespacellvm_1_1SystemZISD.html#a4d5cce353b23f56865ff1b28e3d4855ca68ace50a32835aa0562cf8f9694ba510">TM</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a4d5cce353b23f56865ff1b28e3d4855ca68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="../../d3/df8/namespacellvm_1_1SystemZISD.html#a4d5cce353b23f56865ff1b28e3d4855ca68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7d/SystemZISelLowering_8h_source.html#l00063">SystemZISelLowering.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af34961a84a16597337f984a82dcd9938"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isBroadcastShuffle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/da0/classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> *&#160;</td>
          <td class="paramname"><em>SVI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l03046">3046</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;                                                       {</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <a class="code" href="../../d0/d78/classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> Mask(SVI-&gt;<a class="code" href="../../da/da0/classllvm_1_1ShuffleVectorInst.html#a9c80f50938746bc0d8828fac15f4e0a6">getShuffleMask</a>());</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  <span class="keywordtype">int</span> SplatElem = -1;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; Mask.size(); ++i) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <span class="keywordflow">if</span> (SplatElem != -1 &amp;&amp; Mask[i] != -1 &amp;&amp; Mask[i] != SplatElem)</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    SplatElem = Mask[i];</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  }</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="../../d0/d78/classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d33/SmallVector_8h_source.html#l00845">SmallVector.h:845</a></div></div>
<div class="ttc" id="classllvm_1_1ShuffleVectorInst_html_a9c80f50938746bc0d8828fac15f4e0a6"><div class="ttname"><a href="../../da/da0/classllvm_1_1ShuffleVectorInst.html#a9c80f50938746bc0d8828fac15f4e0a6">llvm::ShuffleVectorInst::getShuffleMask</a></div><div class="ttdeci">static void getShuffleMask(Constant *Mask, SmallVectorImpl&lt; int &gt; &amp;Result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d98/Instructions_8cpp_source.html#l01639">Instructions.cpp:1639</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a19e2fd6fce422c4ab3cea555782abbb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isExtractBitsCandidateUse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>User</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>isExtractBitsCandidateUse - <a class="el" href="../../d8/d2b/namespaceCheck.html">Check</a> if the candidates could be combined with shift instruction, which includes:</p>
<ol type="1">
<li>Truncate instruction</li>
<li>And instruction and the imm is a mask of the low bits: imm &amp; (imm+1) == 0 </li>
</ol>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00626">626</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                                                         {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;TruncInst&gt;(User)) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> (User-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>() != <a class="code" href="../../db/dad/namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a> ||</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        !isa&lt;ConstantInt&gt;(User-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)))</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;Cimm = cast&lt;ConstantInt&gt;(User-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))-&gt;getValue();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> ((Cimm &amp; (Cimm + 1)).getBoolValue())</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a684cfe02c582e8d75cd6d457e63e6c25"><div class="ttname"><a href="../../db/dad/namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">llvm::APIntOps::And</a></div><div class="ttdeci">APInt And(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise AND function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01865">APInt.h:1865</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00086">Instruction.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90f66db387331ade4548891d8fa6d296"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isFormingBranchFromSelectProfitable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dd2/classllvm_1_1SelectInst.html">SelectInst</a> *&#160;</td>
          <td class="paramname"><em>SI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>isFormingBranchFromSelectProfitable - Returns true if a SelectInst should be turned into an explicit branch. </p>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l02960">2960</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                                                                {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <span class="comment">// FIXME: This should use the same heuristics as IfConversion to determine</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="comment">// whether a select is better represented as a branch.  This requires that</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <span class="comment">// branch probability metadata is preserved for the select, which is not the</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <span class="comment">// case currently.</span></div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <a class="code" href="../../df/de6/classllvm_1_1CmpInst.html">CmpInst</a> *Cmp = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html">CmpInst</a>&gt;(SI-&gt;<a class="code" href="../../d1/dd2/classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">getCondition</a>());</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <span class="comment">// If the branch is predicted right, an out of order CPU can avoid blocking on</span></div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <span class="comment">// the compare.  Emit cmovs on compares with a memory operand as branches to</span></div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="comment">// avoid stalls on the load from memory.  If the compare has more than one use</span></div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <span class="comment">// there&#39;s probably another cmov or setcc around so it&#39;s not worth emitting a</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="comment">// branch.</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <span class="keywordflow">if</span> (!Cmp)</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *CmpOp0 = Cmp-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *CmpOp1 = Cmp-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="comment">// We check that the memory operand has one use to avoid uses of the loaded</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="comment">// value directly after the compare, making branches unprofitable.</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="keywordflow">return</span> Cmp-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>() &amp;&amp;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;         ((isa&lt;LoadInst&gt;(CmpOp0) &amp;&amp; CmpOp0-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>()) ||</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;          (isa&lt;LoadInst&gt;(CmpOp1) &amp;&amp; CmpOp1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>()));</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00654">InstrTypes.h:654</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_ad285a69e32ddeee367fed93b5f392801"><div class="ttname"><a href="../../d1/dd2/classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">llvm::SelectInst::getCondition</a></div><div class="ttdeci">const Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l01564">Instructions.h:1564</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a085b82f074c28030fb8e194377ed2d0c"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00284">Value.h:284</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad897d4beb50aa8f0d4d2eaa08ac0987d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsNonLocalValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td>
          <td class="paramname"><em>BB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>IsNonLocalValue - Return true if the specified values are defined in a different basic block than BB. </p>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l02472">2472</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                                                      {</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() != BB;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7cb7b30ab9793838d6ad4e23f67673d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool OptimizeCmpExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/de6/classllvm_1_1CmpInst.html">CmpInst</a> *&#160;</td>
          <td class="paramname"><em>CI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>OptimizeCmpExpression - sink the given CmpInst into user blocks to reduce the number of virtual registers that must be created and coalesced. This is a clear win except on targets with multiple condition code registers (PowerPC), where it might lose; some adjustment may be wanted there.</p>
<p>Return true if any changes are made. </p>
<p>InsertedCmp - Only insert a cmp in each block once. </p>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00572">572</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                               {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *DefBB = CI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">  /// InsertedCmp - Only insert a cmp in each block once.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"></span>  <a class="code" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock*, CmpInst*&gt;</a> InsertedCmps;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">Value::user_iterator</a> UI = CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>(), E = CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">user_end</a>();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;       UI != E; ) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="../../d0/d66/classllvm_1_1Use.html">Use</a> &amp;TheUse = UI.getUse();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> = cast&lt;Instruction&gt;(*UI);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// Preincrement use iterator so we don&#39;t invalidate it.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    ++UI;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// Don&#39;t bother for PHI nodes.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(User))</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// Figure out which BB this cmp is used in.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *UserBB = User-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// If this user is in the same block as the cmp, don&#39;t change the cmp.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (UserBB == DefBB) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// If we have already inserted a cmp into this block, use it.</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="../../df/de6/classllvm_1_1CmpInst.html">CmpInst</a> *&amp;InsertedCmp = InsertedCmps[UserBB];</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (!InsertedCmp) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> InsertPt = UserBB-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">getFirstInsertionPt</a>();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      InsertedCmp =</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">CmpInst::Create</a>(CI-&gt;<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#afb3301fb99a3b118d9fe496faf1b114b">getOpcode</a>(),</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                        CI-&gt;<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>(),  CI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0),</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                        CI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), <span class="stringliteral">&quot;&quot;</span>, InsertPt);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// Replace a use of the cmp with a use of the new cmp.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    TheUse = InsertedCmp;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    ++NumCmpUses;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// If we removed all uses, nuke the cmp.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>())</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    CI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00654">InstrTypes.h:654</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/Instruction_8cpp_source.html#l00076">Instruction.cpp:76</a></div></div>
<div class="ttc" id="classllvm_1_1Value_1_1user__iterator__impl_html"><div class="ttname"><a href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">llvm::Value::user_iterator_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00134">Value.h:134</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="../../d5/d64/classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00529">DenseMap.h:529</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00035">User.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="../../d0/d66/classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/Use_8h_source.html#l00069">Use.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00735">InstrTypes.h:735</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="llvm-ar_8cpp_html_afdde8653309ceae1b97f0328e2d1a465"><div class="ttname"><a href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">Create</a></div><div class="ttdeci">static bool Create</div><div class="ttdoc">&#39;c&#39; modifier </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc6/llvm-ar_8cpp_source.html#l00117">llvm-ar.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_afb3301fb99a3b118d9fe496faf1b114b"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#afb3301fb99a3b118d9fe496faf1b114b">llvm::CmpInst::getOpcode</a></div><div class="ttdeci">OtherOps getOpcode() const </div><div class="ttdoc">Get the opcode casted to the right type. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00730">InstrTypes.h:730</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac38c53f76ef532f91f1666c8a87370e9"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00250">Value.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a158da2b6d3d938aaa15b6acd00150e2c"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">llvm::Value::user_begin</a></div><div class="ttdeci">user_iterator user_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00267">Value.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ab1cd5a3713b93a33f89a2086d473cf6e"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">llvm::BasicBlock::getFirstInsertionPt</a></div><div class="ttdeci">iterator getFirstInsertionPt()</div><div class="ttdoc">Returns an iterator to the first instruction in this block that is suitable for inserting a non-PHI i...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d69/BasicBlock_8cpp_source.html#l00174">BasicBlock.cpp:174</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_aa22118b2b3f206bfda2ffab4cda94d64"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">llvm::Value::user_end</a></div><div class="ttdeci">user_iterator user_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00269">Value.h:269</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0219b8f9437081ade76bf2f75a88e9b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool OptimizeExtractBits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *&#160;</td>
          <td class="paramname"><em>ShiftI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>CI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d6/d03/classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;&#160;</td>
          <td class="paramname"><em>TLI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>OptimizeExtractBits - sink the shift <em>right</em> instruction into user blocks if the uses could potentially be combined with this shift instruction and generate BitExtract instruction. It will only be applied if the architecture supports BitExtract instruction. Here is an example: BB1: x.extract.shift = lshr i64 arg1, 32 BB2: x.extract.trunc = trunc i64 x.extract.shift to i16 ==&gt;</p>
<p>BB2: x.extract.shift.1 = lshr i64 arg1, 32 x.extract.trunc = trunc i64 x.extract.shift.1 to i16</p>
<p>CodeGen will recoginze the pattern in BB2 and generate BitExtract instruction. Return true if any changes are made. </p>
<p>Only insert instructions in each block once. </p>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00725">725</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                                           {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *DefBB = ShiftI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">  /// Only insert instructions in each block once.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"></span>  <a class="code" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, BinaryOperator *&gt;</a> InsertedShifts;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keywordtype">bool</span> shiftIsLegal = TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a9a29cc66e132c19330ddabb82d44bef7">getValueType</a>(ShiftI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()));</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">Value::user_iterator</a> UI = ShiftI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>(), E = ShiftI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">user_end</a>();</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;       UI != E;) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="../../d0/d66/classllvm_1_1Use.html">Use</a> &amp;TheUse = UI.getUse();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> = cast&lt;Instruction&gt;(*UI);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// Preincrement use iterator so we don&#39;t invalidate it.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    ++UI;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Don&#39;t bother for PHI nodes.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(User))</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d08/CodeGenPrepare_8cpp.html#a19e2fd6fce422c4ab3cea555782abbb6">isExtractBitsCandidateUse</a>(User))</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *UserBB = User-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (UserBB == DefBB) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="comment">// If the shift and truncate instruction are in the same BB. The use of</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="comment">// the truncate(TruncUse) may still introduce another truncate if not</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="comment">// legal. In this case, we would like to sink both shift and truncate</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="comment">// instruction to the BB of TruncUse.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="comment">// for example:</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="comment">// BB1:</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="comment">// i64 shift.result = lshr i64 opnd, imm</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="comment">// trunc.result = trunc shift.result to i16</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="comment">// BB2:</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="comment">//   ----&gt; We will have an implicit truncate here if the architecture does</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="comment">//   not have i16 compare.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="comment">// cmp i16 trunc.result, opnd2</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">if</span> (isa&lt;TruncInst&gt;(User) &amp;&amp; shiftIsLegal</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;          <span class="comment">// If the type of the truncate is legal, no trucate will be</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          <span class="comment">// introduced in other basic blocks.</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          &amp;&amp; (!TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a9a29cc66e132c19330ddabb82d44bef7">getValueType</a>(User-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))))</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        MadeChange =</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="../../dc/d08/CodeGenPrepare_8cpp.html#a7a80e565e135f572b94ad0a6038c3746">SinkShiftAndTruncate</a>(ShiftI, User, CI, InsertedShifts, TLI);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// If we have already inserted a shift into this block, use it.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *&amp;InsertedShift = InsertedShifts[UserBB];</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (!InsertedShift) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> InsertPt = UserBB-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">getFirstInsertionPt</a>();</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">if</span> (ShiftI-&gt;<a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() == Instruction::AShr)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        InsertedShift =</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            BinaryOperator::CreateAShr(ShiftI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), CI, <span class="stringliteral">&quot;&quot;</span>, InsertPt);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        InsertedShift =</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            BinaryOperator::CreateLShr(ShiftI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), CI, <span class="stringliteral">&quot;&quot;</span>, InsertPt);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// Replace a use of the shift with a use of the new shift.</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    TheUse = InsertedShift;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// If we removed all uses, nuke the shift.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">if</span> (ShiftI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>())</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    ShiftI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/Instruction_8cpp_source.html#l00076">Instruction.cpp:76</a></div></div>
<div class="ttc" id="classllvm_1_1Value_1_1user__iterator__impl_html"><div class="ttname"><a href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">llvm::Value::user_iterator_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00134">Value.h:134</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="../../d5/d64/classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00529">DenseMap.h:529</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00035">User.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a9a29cc66e132c19330ddabb82d44bef7"><div class="ttname"><a href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a9a29cc66e132c19330ddabb82d44bef7">llvm::TargetLoweringBase::getValueType</a></div><div class="ttdeci">EVT getValueType(Type *Ty, bool AllowUnknown=false) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d56/TargetLowering_8h_source.html#l00638">TargetLowering.h:638</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="../../d0/d66/classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/Use_8h_source.html#l00069">Use.h:69</a></div></div>
<div class="ttc" id="CodeGenPrepare_8cpp_html_a7a80e565e135f572b94ad0a6038c3746"><div class="ttname"><a href="../../dc/d08/CodeGenPrepare_8cpp.html#a7a80e565e135f572b94ad0a6038c3746">SinkShiftAndTruncate</a></div><div class="ttdeci">static bool SinkShiftAndTruncate(BinaryOperator *ShiftI, Instruction *User, ConstantInt *CI, DenseMap&lt; BasicBlock *, BinaryOperator * &gt; &amp;InsertedShifts, const TargetLowering &amp;TLI)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00643">CodeGenPrepare.cpp:643</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="CodeGenPrepare_8cpp_html_a19e2fd6fce422c4ab3cea555782abbb6"><div class="ttname"><a href="../../dc/d08/CodeGenPrepare_8cpp.html#a19e2fd6fce422c4ab3cea555782abbb6">isExtractBitsCandidateUse</a></div><div class="ttdeci">static bool isExtractBitsCandidateUse(Instruction *User)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00626">CodeGenPrepare.cpp:626</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a861aaccc0f468493e76c011811548804"><div class="ttname"><a href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">llvm::TargetLoweringBase::isTypeLegal</a></div><div class="ttdeci">bool isTypeLegal(EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d56/TargetLowering_8h_source.html#l00341">TargetLowering.h:341</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a88505baf41407782678a5df1702d2d31"><div class="ttname"><a href="../../d0/d24/classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00326">InstrTypes.h:326</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="../../d0/d24/classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac38c53f76ef532f91f1666c8a87370e9"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00250">Value.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a158da2b6d3d938aaa15b6acd00150e2c"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">llvm::Value::user_begin</a></div><div class="ttdeci">user_iterator user_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00267">Value.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ab1cd5a3713b93a33f89a2086d473cf6e"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">llvm::BasicBlock::getFirstInsertionPt</a></div><div class="ttdeci">iterator getFirstInsertionPt()</div><div class="ttdoc">Returns an iterator to the first instruction in this block that is suitable for inserting a non-PHI i...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d69/BasicBlock_8cpp_source.html#l00174">BasicBlock.cpp:174</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_aa22118b2b3f206bfda2ffab4cda94d64"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">llvm::Value::user_end</a></div><div class="ttdeci">user_iterator user_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00269">Value.h:269</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5879e98ff962702779287b966f4dce4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool OptimizeNoopCopyExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *&#160;</td>
          <td class="paramname"><em>CI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d6/d03/classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;&#160;</td>
          <td class="paramname"><em>TLI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>OptimizeNoopCopyExpression - If the specified cast instruction is a noop copy (e.g. it's casting from one pointer type to another, i32-&gt;i8 on PPC), sink it into user blocks to reduce the number of virtual registers that must be created and coalesced.</p>
<p>Return true if any changes are made. </p>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00536">536</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                                                                               {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// If this is a noop copy,</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="../../df/db3/structllvm_1_1EVT.html">EVT</a> SrcVT = TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a9a29cc66e132c19330ddabb82d44bef7">getValueType</a>(CI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <a class="code" href="../../df/db3/structllvm_1_1EVT.html">EVT</a> DstVT = TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a9a29cc66e132c19330ddabb82d44bef7">getValueType</a>(CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// This is an fp&lt;-&gt;int conversion?</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">if</span> (SrcVT.<a class="code" href="../../df/db3/structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>() != DstVT.<a class="code" href="../../df/db3/structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>())</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// If this is an extension, it will be a zero or sign extension, which</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// isn&#39;t a noop.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">if</span> (SrcVT.<a class="code" href="../../df/db3/structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">bitsLT</a>(DstVT)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// If these values will be promoted, find out what they will be promoted</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// to.  This helps us consider truncates on PPC as noop copies when they</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">// are.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a7b93b105a426bc0eda1eadd856aa195e">getTypeAction</a>(CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), SrcVT) ==</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      TargetLowering::TypePromoteInteger)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    SrcVT = TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), SrcVT);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a7b93b105a426bc0eda1eadd856aa195e">getTypeAction</a>(CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), DstVT) ==</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      TargetLowering::TypePromoteInteger)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    DstVT = TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), DstVT);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// If, after promotion, these are the same types, this is a noop copy.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (SrcVT != DstVT)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/d08/CodeGenPrepare_8cpp.html#a3cc8a3a2506bf528398d0aef0850f31a">SinkCast</a>(CI);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a7b93b105a426bc0eda1eadd856aa195e"><div class="ttname"><a href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a7b93b105a426bc0eda1eadd856aa195e">llvm::TargetLoweringBase::getTypeAction</a></div><div class="ttdeci">LegalizeTypeAction getTypeAction(LLVMContext &amp;Context, EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d56/TargetLowering_8h_source.html#l00375">TargetLowering.h:375</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5ebe5227fe53e0dcf4102a6ebf1594a2"><div class="ttname"><a href="../../df/db3/structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">llvm::EVT::bitsLT</a></div><div class="ttdeci">bool bitsLT(EVT VT) const </div><div class="ttdoc">bitsLT - Return true if this has less bits than VT. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/ValueTypes_8h_source.html#l00190">ValueTypes.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a9a29cc66e132c19330ddabb82d44bef7"><div class="ttname"><a href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a9a29cc66e132c19330ddabb82d44bef7">llvm::TargetLoweringBase::getValueType</a></div><div class="ttdeci">EVT getValueType(Type *Ty, bool AllowUnknown=false) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d56/TargetLowering_8h_source.html#l00638">TargetLowering.h:638</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a8cc407ac00df4edd4ec4d5168d6ecb26"><div class="ttname"><a href="../../df/db3/structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">llvm::EVT::isInteger</a></div><div class="ttdeci">bool isInteger() const </div><div class="ttdoc">isInteger - Return true if this is an integer, or a vector integer type. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/ValueTypes_8h_source.html#l00111">ValueTypes.h:111</a></div></div>
<div class="ttc" id="CodeGenPrepare_8cpp_html_a3cc8a3a2506bf528398d0aef0850f31a"><div class="ttname"><a href="../../dc/d08/CodeGenPrepare_8cpp.html#a3cc8a3a2506bf528398d0aef0850f31a">SinkCast</a></div><div class="ttdeci">static bool SinkCast(CastInst *CI)</div><div class="ttdoc">SinkCast - Sink the specified cast instruction into its user blocks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00479">CodeGenPrepare.cpp:479</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html"><div class="ttname"><a href="../../df/db3/structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/ValueTypes_8h_source.html#l00031">ValueTypes.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00615">Value.cpp:615</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a76daffc43a9b516f4fe4999c7b680ca0"><div class="ttname"><a href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">llvm::TargetLoweringBase::getTypeToTransformTo</a></div><div class="ttdeci">EVT getTypeToTransformTo(LLVMContext &amp;Context, EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d56/TargetLowering_8h_source.html#l00388">TargetLowering.h:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3cc8a3a2506bf528398d0aef0850f31a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool SinkCast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *&#160;</td>
          <td class="paramname"><em>CI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SinkCast - Sink the specified cast instruction into its user blocks. </p>
<p>InsertedCasts - Only insert a cast in each block once. </p>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00479">479</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                   {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *DefBB = CI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">  /// InsertedCasts - Only insert a cast in each block once.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"></span>  <a class="code" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock*, CastInst*&gt;</a> InsertedCasts;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">Value::user_iterator</a> UI = CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>(), E = CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">user_end</a>();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;       UI != E; ) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="../../d0/d66/classllvm_1_1Use.html">Use</a> &amp;TheUse = UI.getUse();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> = cast&lt;Instruction&gt;(*UI);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// Figure out which BB this cast is used in.  For PHI&#39;s this is the</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// appropriate predecessor block.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *UserBB = User-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d4a/classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(User)) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      UserBB = PN-&gt;getIncomingBlock(TheUse);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// Preincrement use iterator so we don&#39;t invalidate it.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    ++UI;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// If this user is in the same block as the cast, don&#39;t change the cast.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (UserBB == DefBB) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// If we have already inserted a cast into this block, use it.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *&amp;InsertedCast = InsertedCasts[UserBB];</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (!InsertedCast) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> InsertPt = UserBB-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">getFirstInsertionPt</a>();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      InsertedCast =</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">CastInst::Create</a>(CI-&gt;<a class="code" href="../../de/dcc/classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">getOpcode</a>(), CI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                         InsertPt);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// Replace a use of the cast with a use of the new cast.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    TheUse = InsertedCast;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    ++NumCastUses;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// If we removed all uses, nuke the cast.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    CI-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1CastInst_html_adc3489e61d5f37a0e4c5589859fbccc2"><div class="ttname"><a href="../../de/dcc/classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">llvm::CastInst::getOpcode</a></div><div class="ttdeci">Instruction::CastOps getOpcode() const </div><div class="ttdoc">Return the opcode of this CastInst. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00624">InstrTypes.h:624</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/Instruction_8cpp_source.html#l00076">Instruction.cpp:76</a></div></div>
<div class="ttc" id="classllvm_1_1Value_1_1user__iterator__impl_html"><div class="ttname"><a href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">llvm::Value::user_iterator_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00134">Value.h:134</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="../../d5/d64/classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00529">DenseMap.h:529</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="../../da/d4a/classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l02076">Instructions.h:2076</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00035">User.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1CastInst_html"><div class="ttname"><a href="../../de/dcc/classllvm_1_1CastInst.html">llvm::CastInst</a></div><div class="ttdoc">Base class of casting instructions. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00387">InstrTypes.h:387</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="../../d0/d66/classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/Use_8h_source.html#l00069">Use.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="llvm-ar_8cpp_html_afdde8653309ceae1b97f0328e2d1a465"><div class="ttname"><a href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">Create</a></div><div class="ttdeci">static bool Create</div><div class="ttdoc">&#39;c&#39; modifier </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc6/llvm-ar_8cpp_source.html#l00117">llvm-ar.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac38c53f76ef532f91f1666c8a87370e9"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00250">Value.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a158da2b6d3d938aaa15b6acd00150e2c"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">llvm::Value::user_begin</a></div><div class="ttdeci">user_iterator user_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00267">Value.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ab1cd5a3713b93a33f89a2086d473cf6e"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">llvm::BasicBlock::getFirstInsertionPt</a></div><div class="ttdeci">iterator getFirstInsertionPt()</div><div class="ttdoc">Returns an iterator to the first instruction in this block that is suitable for inserting a non-PHI i...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d69/BasicBlock_8cpp_source.html#l00174">BasicBlock.cpp:174</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_aa22118b2b3f206bfda2ffab4cda94d64"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">llvm::Value::user_end</a></div><div class="ttdeci">user_iterator user_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00269">Value.h:269</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a80e565e135f572b94ad0a6038c3746"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool SinkShiftAndTruncate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *&#160;</td>
          <td class="paramname"><em>ShiftI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>User</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>CI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap</a>&lt; <a class="el" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>InsertedShifts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../d6/d03/classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;&#160;</td>
          <td class="paramname"><em>TLI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>SinkShiftAndTruncate - sink both shift and truncate instruction to the use of truncate's BB. </p>

<p>Definition at line <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html#l00643">643</a> of file <a class="el" href="../../dc/d08/CodeGenPrepare_8cpp_source.html">CodeGenPrepare.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                                                {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *UserBB = User-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="../../d5/d64/classllvm_1_1DenseMap.html">DenseMap&lt;BasicBlock *, CastInst *&gt;</a> InsertedTruncs;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <a class="code" href="../../d4/dec/classllvm_1_1TruncInst.html">TruncInst</a> *TruncI = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d4/dec/classllvm_1_1TruncInst.html">TruncInst</a>&gt;(User);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordtype">bool</span> MadeChange = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">Value::user_iterator</a> TruncUI = TruncI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">user_begin</a>(),</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                            TruncE = TruncI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">user_end</a>();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;       TruncUI != TruncE;) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="../../d0/d66/classllvm_1_1Use.html">Use</a> &amp;TruncTheUse = TruncUI.getUse();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *TruncUser = cast&lt;Instruction&gt;(*TruncUI);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// Preincrement use iterator so we don&#39;t invalidate it.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    ++TruncUI;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordtype">int</span> ISDOpcode = TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#ad0f1b1c62254e7dbd1794305eda5c15e">InstructionOpcodeToISD</a>(TruncUser-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>());</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (!ISDOpcode)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// If the use is actually a legal node, there will not be an implicit</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// truncate.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a087dd0f9650e999b087c17cc7f46f2d0">isOperationLegalOrCustom</a>(ISDOpcode,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                                     EVT::getEVT(TruncUser-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())))</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="comment">// Don&#39;t bother for PHI nodes.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(TruncUser))</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html">BasicBlock</a> *TruncUserBB = TruncUser-&gt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (UserBB == TruncUserBB)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *&amp;InsertedShift = InsertedShifts[TruncUserBB];</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="../../de/dcc/classllvm_1_1CastInst.html">CastInst</a> *&amp;InsertedTrunc = InsertedTruncs[TruncUserBB];</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span> (!InsertedShift &amp;&amp; !InsertedTrunc) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> InsertPt = TruncUserBB-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">getFirstInsertionPt</a>();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="comment">// Sink the shift</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">if</span> (ShiftI-&gt;<a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() == Instruction::AShr)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        InsertedShift =</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            BinaryOperator::CreateAShr(ShiftI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), CI, <span class="stringliteral">&quot;&quot;</span>, InsertPt);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        InsertedShift =</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            BinaryOperator::CreateLShr(ShiftI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), CI, <span class="stringliteral">&quot;&quot;</span>, InsertPt);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="comment">// Sink the trunc</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <a class="code" href="../../d0/dc1/classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> TruncInsertPt = TruncUserBB-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">getFirstInsertionPt</a>();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      TruncInsertPt++;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      InsertedTrunc = <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">CastInst::Create</a>(TruncI-&gt;<a class="code" href="../../de/dcc/classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">getOpcode</a>(), InsertedShift,</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                       TruncI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="stringliteral">&quot;&quot;</span>, TruncInsertPt);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      MadeChange = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      TruncTheUse = InsertedTrunc;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">return</span> MadeChange;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1CastInst_html_adc3489e61d5f37a0e4c5589859fbccc2"><div class="ttname"><a href="../../de/dcc/classllvm_1_1CastInst.html#adc3489e61d5f37a0e4c5589859fbccc2">llvm::CastInst::getOpcode</a></div><div class="ttdeci">Instruction::CastOps getOpcode() const </div><div class="ttdoc">Return the opcode of this CastInst. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00624">InstrTypes.h:624</a></div></div>
<div class="ttc" id="classllvm_1_1Value_1_1user__iterator__impl_html"><div class="ttname"><a href="../../d7/d1e/classllvm_1_1Value_1_1user__iterator__impl.html">llvm::Value::user_iterator_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00134">Value.h:134</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="../../d5/d64/classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/DenseMap_8h_source.html#l00529">DenseMap.h:529</a></div></div>
<div class="ttc" id="classllvm_1_1CastInst_html"><div class="ttname"><a href="../../de/dcc/classllvm_1_1CastInst.html">llvm::CastInst</a></div><div class="ttdoc">Base class of casting instructions. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00387">InstrTypes.h:387</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="../../d0/d66/classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/Use_8h_source.html#l00069">Use.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_ad0f1b1c62254e7dbd1794305eda5c15e"><div class="ttname"><a href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#ad0f1b1c62254e7dbd1794305eda5c15e">llvm::TargetLoweringBase::InstructionOpcodeToISD</a></div><div class="ttdeci">int InstructionOpcodeToISD(unsigned Opcode) const </div><div class="ttdoc">Get the ISD node that corresponds to the Instruction class opcode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc2/TargetLoweringBase_8cpp_source.html#l01353">TargetLoweringBase.cpp:1353</a></div></div>
<div class="ttc" id="classllvm_1_1TruncInst_html"><div class="ttname"><a href="../../d4/dec/classllvm_1_1TruncInst.html">llvm::TruncInst</a></div><div class="ttdoc">This class represents a truncation of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l03317">Instructions.h:3317</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a087dd0f9650e999b087c17cc7f46f2d0"><div class="ttname"><a href="../../d3/d47/classllvm_1_1TargetLoweringBase.html#a087dd0f9650e999b087c17cc7f46f2d0">llvm::TargetLoweringBase::isOperationLegalOrCustom</a></div><div class="ttdeci">bool isOperationLegalOrCustom(unsigned Op, EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d56/TargetLowering_8h_source.html#l00489">TargetLowering.h:489</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a88505baf41407782678a5df1702d2d31"><div class="ttname"><a href="../../d0/d24/classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00326">InstrTypes.h:326</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="../../d0/dc1/classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dfc/ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="../../d0/d24/classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="llvm-ar_8cpp_html_afdde8653309ceae1b97f0328e2d1a465"><div class="ttname"><a href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">Create</a></div><div class="ttdeci">static bool Create</div><div class="ttdoc">&#39;c&#39; modifier </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc6/llvm-ar_8cpp_source.html#l00117">llvm-ar.cpp:117</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a158da2b6d3d938aaa15b6acd00150e2c"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a158da2b6d3d938aaa15b6acd00150e2c">llvm::Value::user_begin</a></div><div class="ttdeci">user_iterator user_begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00267">Value.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00086">Instruction.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ab1cd5a3713b93a33f89a2086d473cf6e"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#ab1cd5a3713b93a33f89a2086d473cf6e">llvm::BasicBlock::getFirstInsertionPt</a></div><div class="ttdeci">iterator getFirstInsertionPt()</div><div class="ttdoc">Returns an iterator to the first instruction in this block that is suitable for inserting a non-PHI i...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d69/BasicBlock_8cpp_source.html#l00174">BasicBlock.cpp:174</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_aa22118b2b3f206bfda2ffab4cda94d64"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#aa22118b2b3f206bfda2ffab4cda94d64">llvm::Value::user_end</a></div><div class="ttdeci">user_iterator user_end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00269">Value.h:269</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3bdfef32b8f739f6dfb8ac8728d4fdd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumBlocksElim&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of blocks eliminated&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2876695442585bf0804347b8551ebec8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumPHIsElim&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of trivial PHIs eliminated&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a95f8c4f6eccf53325db01dee519f1cf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumGEPsElim&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of GEPs converted to casts&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab8f1967d0fa996f8a3eba5ec51a2645f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumCmpUses&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of uses of Cmp expressions replaced with uses of &quot;&quot;sunken Cmps&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1ca9f610a5f0de0fcac1a8b9feb4fede"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumCastUses&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of uses of Cast expressions replaced with uses &quot;&quot;of sunken Casts&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a187cf414ffc426db115cbf09c281c4e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumMemoryInsts&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of memory <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> whose address &quot;&quot;computations were sunk&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a042d52e914f276381aa5c5e2b6835dd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumExtsMoved&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of ext <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> combined with loads&quot;&#160;</td>
          <td class="paramname">[s|z]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a68e8fdbe2d4031d73464696fc256c042"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumExtUses&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of uses of ext <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> optimized&quot;&#160;</td>
          <td class="paramname">[s|z]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c5cc62fe77243a148319b0c3dd21fbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumRetsDup&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of return <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> duplicated&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="affafa2ab903e5e3c17534dfba79bbd98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumDbgValueMoved&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="../../da/d40/PointerAnalysis_8cpp.html#a6295d47efda04de55c38cb8ea1cdb807">debug</a> value <a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#afbf38da490ab8cea559fee0c9081db06">instructions</a> moved&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a71d979d9b17c795f4b9034896a0096fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumSelectsExpanded&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of selects turned into branches&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac127d2b7e99559fed29ffb425226ed03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumAndCmpsMoved&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of and/cmp's pushed into branches&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a2bef2b63ce245e6f105c1b207d77128d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; AddrSinkUsingGEPs(&quot;addr-<a class="el" href="../../d1/d81/dwarfdump-type-units_8cc.html#a6ac495c0425f7d6f873d10ee57f4bf28">sink</a>-using-<a class="el" href="../../d5/d92/SeparateConstOffsetFromGEP_8cpp.html#a589d62ce2ac872ff25beaad782d27235">gep</a>&quot;, cl::Hidden, cl::init(<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Address <a class="el" href="../../dd/d89/MachineSink_8cpp.html#a640e4b41923b109e68705e2ca9918848">sinking</a> in CGP using GEPs.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae51b73b67e301b063abfdd618fc6537e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; DisableBranchOpts(&quot;disable-cgp-branch-<a class="el" href="../../dc/dd7/PeepholeOptimizer_8cpp.html#a67a996f7ec1e175832d24c93cf7af789">opts</a>&quot;, cl::Hidden, cl::init(<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Disable branch optimizations in CodeGenPrepare&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a18ea06b4e195aedc9dbd091d60d74365"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; DisableSelectToBranch(&quot;disable-cgp-select2branch&quot;, cl::Hidden, cl::init(<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Disable select to branch conversion.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab578df6035c026da33776b9367923c61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1d/classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;bool&gt; EnableAndCmpSinking(&quot;enable-andcmp-<a class="el" href="../../dd/d89/MachineSink_8cpp.html#a640e4b41923b109e68705e2ca9918848">sinking</a>&quot;, cl::Hidden, cl::init(<a class="el" href="../../d6/d0d/LoopSimplify_8cpp.html#a13f020c6a40eb04f1b4f9ddfbb004ce0">true</a>), <a class="el" href="../../da/def/structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable sinkinig and/cmp into branches.&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_211fb134ce6a4c3329568c5b3817f0ae.html">llvm</a></li><li class="navelem"><a class="el" href="../../dir_68ef2609279916640dd02c22eb347286.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_06f60f07f4cf4ff2ccf75b14642ffc3e.html">CodeGen</a></li><li class="navelem"><a class="el" href="../../dc/d08/CodeGenPrepare_8cpp.html">CodeGenPrepare.cpp</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:43:24 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
