<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: APInt.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/de4/APInt_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">APInt.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/dcb/APInt_8h_source.html">llvm/ADT/APInt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/dc3/FoldingSet_8h_source.html">llvm/ADT/FoldingSet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d0/d4e/Hashing_8h_source.html">llvm/ADT/Hashing.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d85/SmallString_8h_source.html">llvm/ADT/SmallString.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/dd0/StringRef_8h_source.html">llvm/ADT/StringRef.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d3f/ErrorHandling_8h_source.html">llvm/Support/ErrorHandling.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/dab/MathExtras_8h_source.html">llvm/Support/MathExtras.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../df/d82/raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br/>
<code>#include &lt;cmath&gt;</code><br/>
<code>#include &lt;cstdlib&gt;</code><br/>
<code>#include &lt;cstring&gt;</code><br/>
<code>#include &lt;limits&gt;</code><br/>
</div>
<p><a href="../../de/de4/APInt_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;apint&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a14f772ba33630fcb09163ed22e4f2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a7a14f772ba33630fcb09163ed22e4f2e">COMPILE_TIME_ASSERT</a>(cond)&#160;&#160;&#160;extern int CTAssert[(cond) ? 1 : -1]</td></tr>
<tr class="separator:a7a14f772ba33630fcb09163ed22e4f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8713f0a0451f250c8758df35f856faa1"><td class="memItemLeft" align="right" valign="top">static uint64_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a8713f0a0451f250c8758df35f856faa1">getClearedMemory</a> (unsigned numWords)</td></tr>
<tr class="separator:a8713f0a0451f250c8758df35f856faa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1231a0ba09e3575004f28f4c8751c1b"><td class="memItemLeft" align="right" valign="top">static uint64_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#ae1231a0ba09e3575004f28f4c8751c1b">getMemory</a> (unsigned numWords)</td></tr>
<tr class="separator:ae1231a0ba09e3575004f28f4c8751c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced746e8db93cd749b6226df5350cc1d"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#aced746e8db93cd749b6226df5350cc1d">getDigit</a> (char cdigit, uint8_t radix)</td></tr>
<tr class="memdesc:aced746e8db93cd749b6226df5350cc1d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d4/dc4/structA.html">A</a> utility function that converts a character to a digit.  <a href="#aced746e8db93cd749b6226df5350cc1d">More...</a><br/></td></tr>
<tr class="separator:aced746e8db93cd749b6226df5350cc1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad409837c6a6b615d816509f357afb35"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#aad409837c6a6b615d816509f357afb35">add_1</a> (uint64_t dest[], uint64_t x[], unsigned <a class="el" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>, uint64_t y)</td></tr>
<tr class="separator:aad409837c6a6b615d816509f357afb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fd1429352ceab0a87cb024e163bd8f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#aa6fd1429352ceab0a87cb024e163bd8f">sub_1</a> (uint64_t x[], unsigned <a class="el" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>, uint64_t y)</td></tr>
<tr class="separator:aa6fd1429352ceab0a87cb024e163bd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dcb210aee6db4fbd6c608c9195a48d8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a1dcb210aee6db4fbd6c608c9195a48d8">add</a> (uint64_t *dest, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *x, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *y, unsigned <a class="el" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>)</td></tr>
<tr class="memdesc:a1dcb210aee6db4fbd6c608c9195a48d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">General addition of 64-bit integer arrays.  <a href="#a1dcb210aee6db4fbd6c608c9195a48d8">More...</a><br/></td></tr>
<tr class="separator:a1dcb210aee6db4fbd6c608c9195a48d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05972b4953d3d2c9332002f96c0f9f2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#ab05972b4953d3d2c9332002f96c0f9f2">sub</a> (uint64_t *dest, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *x, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *y, unsigned <a class="el" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>)</td></tr>
<tr class="memdesc:ab05972b4953d3d2c9332002f96c0f9f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generalized subtraction of 64-bit integer arrays.  <a href="#ab05972b4953d3d2c9332002f96c0f9f2">More...</a><br/></td></tr>
<tr class="separator:ab05972b4953d3d2c9332002f96c0f9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4d4a8f7668dd517881defd4b04e1d3"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a4d4d4a8f7668dd517881defd4b04e1d3">mul_1</a> (uint64_t dest[], uint64_t x[], unsigned <a class="el" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>, uint64_t y)</td></tr>
<tr class="memdesc:a4d4d4a8f7668dd517881defd4b04e1d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiply a multi-digit APInt by a single digit (64-bit) integer.  <a href="#a4d4d4a8f7668dd517881defd4b04e1d3">More...</a><br/></td></tr>
<tr class="separator:a4d4d4a8f7668dd517881defd4b04e1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e710871d1f1c7be38b5c5f22cff93c8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a6e710871d1f1c7be38b5c5f22cff93c8">mul</a> (uint64_t dest[], uint64_t x[], unsigned xlen, uint64_t y[], unsigned ylen)</td></tr>
<tr class="memdesc:a6e710871d1f1c7be38b5c5f22cff93c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generalized multiplicate of integer arrays.  <a href="#a6e710871d1f1c7be38b5c5f22cff93c8">More...</a><br/></td></tr>
<tr class="separator:a6e710871d1f1c7be38b5c5f22cff93c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ab4012ddf1b44addec910bc0a342aa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a97ab4012ddf1b44addec910bc0a342aa">lshrNear</a> (uint64_t *Dst, uint64_t *Src, unsigned Words, unsigned Shift)</td></tr>
<tr class="separator:a97ab4012ddf1b44addec910bc0a342aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a877c15efe55a9b5fd6b3124d18f4c0c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a877c15efe55a9b5fd6b3124d18f4c0c5">KnuthDiv</a> (unsigned *u, unsigned *v, unsigned *q, unsigned *r, unsigned m, unsigned n)</td></tr>
<tr class="separator:a877c15efe55a9b5fd6b3124d18f4c0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e1b17e80337e92ee7355683c3f6ed3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de4/APInt_8cpp.html#a70e1b17e80337e92ee7355683c3f6ed3">COMPILE_TIME_ASSERT</a> (integerPartWidth%2==0)</td></tr>
<tr class="separator:a70e1b17e80337e92ee7355683c3f6ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a7a14f772ba33630fcb09163ed22e4f2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMPILE_TIME_ASSERT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond</td><td>)</td>
          <td>&#160;&#160;&#160;extern int CTAssert[(cond) ? 1 : -1]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l02273">2273</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;apint&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00030">30</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1dcb210aee6db4fbd6c608c9195a48d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool add </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>General addition of 64-bit integer arrays. </p>
<p>add - This function adds the integer array x to the integer array Y and places the result in dest. </p>
<dl class="section return"><dt>Returns</dt><dd>the carry out from the addition </dd></dl>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00238">238</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                              {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordtype">bool</span> carry = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i&lt; <a class="code" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>; ++i) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    uint64_t limit = std::min(x[i],y[i]); <span class="comment">// must come first in case dest == x</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    dest[i] = x[i] + y[i] + carry;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    carry = dest[i] &lt; limit || (carry &amp;&amp; dest[i] == limit);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">return</span> carry;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="ttc" id="test_8cpp_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dac/test_8cpp_source.html#l00005">test.cpp:5</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad409837c6a6b615d816509f357afb35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool add_1 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>add_1 - This function adds a single "digit" integer, y, to the multiple "digit" integer array, x[]. x[] is modified to reflect the addition and 1 is returned if there is a carry out, otherwise 0 is returned. </p>
<dl class="section return"><dt>Returns</dt><dd>the carry of the addition. </dd></dl>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00183">183</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                                                           {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>; ++i) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    dest[i] = y + x[i];</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (dest[i] &lt; y)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      y = 1; <span class="comment">// Carry one to next digit.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      y = 0; <span class="comment">// No need to carry so exit early</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">return</span> y;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="ttc" id="test_8cpp_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dac/test_8cpp_source.html#l00005">test.cpp:5</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a70e1b17e80337e92ee7355683c3f6ed3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COMPILE_TIME_ASSERT </td>
          <td>(</td>
          <td class="paramtype">integerPartWidth%&#160;</td>
          <td class="paramname"><em>2</em> = <code>=0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8713f0a0451f250c8758df35f856faa1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t* getClearedMemory </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>numWords</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="../../d4/dc4/structA.html">A</a> utility function for allocating memory, checking for allocation failures, and ensuring the contents are zeroed. </p>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00034">34</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                                            {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  uint64_t * result = <span class="keyword">new</span> uint64_t[numWords];</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(result &amp;&amp; <span class="stringliteral">&quot;APInt memory allocation fails!&quot;</span>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9f7f1b6be1144152902121f2463d0368">memset</a>(result, 0, numWords * <span class="keyword">sizeof</span>(uint64_t));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa9f7f1b6be1144152902121f2463d0368"><div class="ttname"><a href="../../d2/d4d/namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa9f7f1b6be1144152902121f2463d0368">llvm::LibFunc::memset</a></div><div class="ttdoc">void *memset(void *b, int c, size_t len); </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/TargetLibraryInfo_8h_source.html#l00414">TargetLibraryInfo.h:414</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aced746e8db93cd749b6226df5350cc1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned getDigit </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>cdigit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>radix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dc4/structA.html">A</a> utility function that converts a character to a digit. </p>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00050">50</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                            {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordtype">unsigned</span> r;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">if</span> (radix == 16 || radix == 36) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    r = cdigit - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (r &lt;= 9)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    r = cdigit - <span class="charliteral">&#39;A&#39;</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (r &lt;= radix - 11U)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="keywordflow">return</span> r + 10;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    r = cdigit - <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (r &lt;= radix - 11U)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">return</span> r + 10;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    radix = 10;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  r = cdigit - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">if</span> (r &lt; radix)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">return</span> -1U;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae1231a0ba09e3575004f28f4c8751c1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t* getMemory </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>numWords</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="../../d4/dc4/structA.html">A</a> utility function for allocating memory and checking for allocation failure. The content is not zeroed. </p>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00043">43</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                     {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  uint64_t * result = <span class="keyword">new</span> uint64_t[numWords];</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(result &amp;&amp; <span class="stringliteral">&quot;APInt memory allocation fails!&quot;</span>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a877c15efe55a9b5fd6b3124d18f4c0c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void KnuthDiv </td>
          <td>(</td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementation of Knuth's Algorithm D (Division of nonnegative integers) from "Art of Computer Programming, Volume 2", section 4.3.1, p. 272. The variables here have the same names as in the algorithm. Comments explain the algorithm and any deviation from it. </p>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l01488">1488</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                                             {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(u &amp;&amp; <span class="stringliteral">&quot;Must provide dividend&quot;</span>);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(v &amp;&amp; <span class="stringliteral">&quot;Must provide divisor&quot;</span>);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(q &amp;&amp; <span class="stringliteral">&quot;Must provide quotient&quot;</span>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(u != v &amp;&amp; u != q &amp;&amp; v != q &amp;&amp; <span class="stringliteral">&quot;Must us different memory&quot;</span>);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(n&gt;1 &amp;&amp; <span class="stringliteral">&quot;n must be &gt; 1&quot;</span>);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// Knuth uses the value b as the base of the number system. In our case b</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="comment">// is 2^31 so we just set it to -1u.</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  uint64_t b = uint64_t(1) &lt;&lt; 32;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="preprocessor"></span>  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: m=&quot;</span> &lt;&lt; m &lt;&lt; <span class="stringliteral">&quot; n=&quot;</span> &lt;&lt; n &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: original:&quot;</span>);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m+n; i &gt;=0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; u[i]);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; by&quot;</span>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = n; i &gt;0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; v[i-1]);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="preprocessor"></span>  <span class="comment">// D1. [Normalize.] Set d = b / (v[n-1] + 1) and multiply all the digits of</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// u and v by d. Note that we have taken Knuth&#39;s advice here to use a power</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="comment">// of 2 value for d such that d * v[n-1] &gt;= b/2 (b is the base). A power of</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// 2 allows us to shift instead of multiply and it is easy to determine the</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// shift amount from the leading zeros.  We are basically normalizing the u</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">// and v so that its high bits are shifted to the top of v&#39;s range without</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// overflow. Note that this can require an extra word in u so that u must</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// be of length m+n+1.</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordtype">unsigned</span> shift = <a class="code" href="../../d9/d4a/namespacellvm.html#a57ab1fac7b65cde5654e4e1ca9bf9f90">countLeadingZeros</a>(v[n-1]);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordtype">unsigned</span> v_carry = 0;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordtype">unsigned</span> u_carry = 0;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keywordflow">if</span> (shift) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; m+n; ++i) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keywordtype">unsigned</span> u_tmp = u[i] &gt;&gt; (32 - shift);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      u[i] = (u[i] &lt;&lt; shift) | u_carry;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      u_carry = u_tmp;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="keywordtype">unsigned</span> v_tmp = v[i] &gt;&gt; (32 - shift);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      v[i] = (v[i] &lt;&lt; shift) | v_carry;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      v_carry = v_tmp;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  u[m+n] = u_carry;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="preprocessor"></span>  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv:   normal:&quot;</span>);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m+n; i &gt;=0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; u[i]);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; by&quot;</span>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = n; i &gt;0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; v[i-1]);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// D2. [Initialize j.]  Set j to m. This is the loop counter over the places.</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="keywordtype">int</span> j = m;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: quotient digit #&quot;</span> &lt;&lt; j &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="comment">// D3. [Calculate q&#39;.].</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="comment">//     Set qp = (u[j+n]*b + u[j+n-1]) / v[n-1]. (qp=qprime=q&#39;)</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="comment">//     Set rp = (u[j+n]*b + u[j+n-1]) % v[n-1]. (rp=rprime=r&#39;)</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="comment">// Now test if qp == b or qp*v[n-2] &gt; b*rp + u[j+n-2]; if so, decrease</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="comment">// qp by 1, inrease rp by v[n-1], and repeat this test if rp &lt; b. The test</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="comment">// on v[n-2] determines at high speed most of the cases in which the trial</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// value qp is one too large, and it eliminates all cases where qp is two</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="comment">// too large.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    uint64_t dividend = ((uint64_t(u[j+n]) &lt;&lt; 32) + u[j+n-1]);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: dividend == &quot;</span> &lt;&lt; dividend &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    uint64_t qp = dividend / v[n-1];</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    uint64_t rp = dividend % v[n-1];</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">if</span> (qp == b || qp*v[n-2] &gt; b*rp + u[j+n-2]) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      qp--;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      rp += v[n-1];</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">if</span> (rp &lt; b &amp;&amp; (qp == b || qp*v[n-2] &gt; b*rp + u[j+n-2]))</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        qp--;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    }</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: qp == &quot;</span> &lt;&lt; qp &lt;&lt; <span class="stringliteral">&quot;, rp == &quot;</span> &lt;&lt; rp &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="comment">// D4. [Multiply and subtract.] Replace (u[j+n]u[j+n-1]...u[j]) with</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// (u[j+n]u[j+n-1]..u[j]) - qp * (v[n-1]...v[1]v[0]). This computation</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">// consists of a simple multiplication by a one-place number, combined with</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="comment">// a subtraction.</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordtype">bool</span> isNeg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      uint64_t u_tmp = uint64_t(u[j+i]) | (uint64_t(u[j+i+1]) &lt;&lt; 32);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      uint64_t subtrahend = uint64_t(qp) * uint64_t(v[i]);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordtype">bool</span> borrow = subtrahend &gt; u_tmp;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: u_tmp == &quot;</span> &lt;&lt; u_tmp</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;, subtrahend == &quot;</span> &lt;&lt; subtrahend</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;, borrow = &quot;</span> &lt;&lt; borrow &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      uint64_t result = u_tmp - subtrahend;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      <span class="keywordtype">unsigned</span> k = j + i;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      u[k++] = (unsigned)(result &amp; (b-1)); <span class="comment">// subtract low word</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      u[k++] = (unsigned)(result &gt;&gt; 32);   <span class="comment">// subtract high word</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="keywordflow">while</span> (borrow &amp;&amp; k &lt;= m+n) { <span class="comment">// deal with borrow to the left</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        borrow = u[k] == 0;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        u[k]--;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        k++;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      isNeg |= borrow;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: u[j+i] == &quot;</span> &lt;&lt; u[j+i] &lt;&lt; <span class="stringliteral">&quot;,  u[j+i+1] == &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                    u[j+i+1] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: after subtraction:&quot;</span>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m+n; i &gt;=0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; u[i]);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="comment">// The digits (u[j+n]...u[j]) should be kept positive; if the result of</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">// this step is actually negative, (u[j+n]...u[j]) should be left as the</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// true value plus b**(n+1), namely as the b&#39;s complement of</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="comment">// the true value, and a &quot;borrow&quot; to the left should be remembered.</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">if</span> (isNeg) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      <span class="keywordtype">bool</span> carry = <span class="keyword">true</span>;  <span class="comment">// true because b&#39;s complement is &quot;complement + 1&quot;</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt;= m+n; ++i) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        u[i] = ~u[i] + carry; <span class="comment">// b&#39;s complement</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        carry = carry &amp;&amp; u[i] == 0;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: after complement:&quot;</span>);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m+n; i &gt;=0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; u[i]);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="comment">// D5. [Test remainder.] Set q[j] = qp. If the result of step D4 was</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// negative, go to step D6; otherwise go on to step D7.</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    q[j] = (unsigned)qp;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">if</span> (isNeg) {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <span class="comment">// D6. [Add back]. The probability that this step is necessary is very</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      <span class="comment">// small, on the order of only 2/b. Make sure that test data accounts for</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <span class="comment">// this possibility. Decrease q[j] by 1</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      q[j]--;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="comment">// and add (0v[n-1]...v[1]v[0]) to (u[j+n]u[j+n-1]...u[j+1]u[j]).</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      <span class="comment">// A carry will occur to the left of u[j+n], and it should be ignored</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <span class="comment">// since it cancels with the borrow that occurred in D4.</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="keywordtype">bool</span> carry = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; n; i++) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="keywordtype">unsigned</span> limit = std::min(u[j+i],v[i]);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        u[j+i] += v[i] + carry;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        carry = u[j+i] &lt; limit || (carry &amp;&amp; u[j+i] == limit);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      u[j+n] += carry;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: after correction:&quot;</span>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m+n; i &gt;=0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt;<span class="stringliteral">&quot; &quot;</span> &lt;&lt; u[i]);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nKnuthDiv: digit result = &quot;</span> &lt;&lt; q[j] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="comment">// D7. [Loop on j.]  Decrease j by one. Now if j &gt;= 0, go back to D3.</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  } <span class="keywordflow">while</span> (--j &gt;= 0);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: quotient:&quot;</span>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m; i &gt;=0; i--) <a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt;<span class="stringliteral">&quot; &quot;</span> &lt;&lt; q[i]);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="comment">// D8. [Unnormalize]. Now q[...] is the desired quotient, and the desired</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="comment">// remainder may be obtained by dividing u[...] by d. If r is non-null we</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="comment">// compute the remainder (urem uses this).</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">if</span> (r) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="comment">// The value d is expressed by the &quot;shift&quot; value above since we avoided</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="comment">// multiplication by d by using a shift left. So, all we have to do is</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="comment">// shift right here. In order to mak</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordflow">if</span> (shift) {</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <span class="keywordtype">unsigned</span> carry = 0;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;KnuthDiv: remainder:&quot;</span>);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = n-1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        r[i] = (u[i] &gt;&gt; shift) | carry;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        carry = u[i] &lt;&lt; (32 - shift);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; r[i]);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      }</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = n-1; i &gt;= 0; i--) {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        r[i] = u[i];</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; r[i]);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      }</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="preprocessor"></span>  <a class="code" href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="namespacellvm_html_a57ab1fac7b65cde5654e4e1ca9bf9f90"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a57ab1fac7b65cde5654e4e1ca9bf9f90">llvm::countLeadingZeros</a></div><div class="ttdeci">std::enable_if&lt; std::numeric_limits&lt; T &gt;::is_integer &amp;&amp;!std::numeric_limits&lt; T &gt;::is_signed, std::size_t &gt;::type countLeadingZeros(T Val, ZeroBehavior ZB=ZB_Width)</div><div class="ttdoc">Count number of 0&#39;s from the most significant bit to the least stopping at the first 1...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dab/MathExtras_8h_source.html#l00120">MathExtras.h:120</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="include_2llvm_2Support_2Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="../../de/dcb/include_2llvm_2Support_2Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcb/include_2llvm_2Support_2Debug_8h_source.html#l00093">include/llvm/Support/Debug.h:93</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/Support_2Debug_8cpp_source.html#l00101">Support/Debug.cpp:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97ab4012ddf1b44addec910bc0a342aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lshrNear </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>Words</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>Shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform a logical right-shift from Src to Dst, which must be equal or non-overlapping, of Words words, by Shift, which must be less than 64. </p>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00768">768</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                     {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  uint64_t Carry = 0;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Words - 1; <a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &gt;= 0; --<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    uint64_t Tmp = Src[<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    Dst[<a class="code" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = (Tmp &gt;&gt; Shift) | Carry;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    Carry = Tmp &lt;&lt; (64 - Shift);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddd/MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e710871d1f1c7be38b5c5f22cff93c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mul </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>xlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ylen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generalized multiplicate of integer arrays. </p>
<p>Multiplies integer array x by integer array y and stores the result into the integer array dest. Note that dest's size must be &gt;= xlen + ylen. </p>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00326">326</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                               {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  dest[xlen] = <a class="code" href="../../de/de4/APInt_8cpp.html#a4d4d4a8f7668dd517881defd4b04e1d3">mul_1</a>(dest, x, xlen, y[0]);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1; i &lt; ylen; ++i) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    uint64_t ly = y[i] &amp; 0xffffffffULL, hy = y[i] &gt;&gt; 32;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    uint64_t carry = 0, lx = 0, hx = 0;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; xlen; ++j) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      lx = x[j] &amp; 0xffffffffULL;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      hx = x[j] &gt;&gt; 32;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="comment">// hasCarry - A flag to indicate if has carry.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">// hasCarry == 0, no carry</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// hasCarry == 1, has carry</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// hasCarry == 2, no carry and the calculation result == 0.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      uint8_t hasCarry = 0;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      uint64_t resul = carry + lx * ly;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      hasCarry = (resul &lt; carry) ? 1 : 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      carry = (hasCarry ? (1ULL &lt;&lt; 32) : 0) + hx * ly + (resul &gt;&gt; 32);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      hasCarry = (!carry &amp;&amp; hasCarry) ? 1 : (!carry ? 2 : 0);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      carry += (lx * hy) &amp; 0xffffffffULL;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      resul = (carry &lt;&lt; 32) | (resul &amp; 0xffffffffULL);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      dest[i+j] += resul;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      carry = (((!carry &amp;&amp; hasCarry != 2) || hasCarry == 1) ? (1ULL &lt;&lt; 32) : 0)+</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;              (carry &gt;&gt; 32) + (dest[i+j] &lt; resul ? 1 : 0) +</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;              ((lx * hy) &gt;&gt; 32) + hx * hy;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    dest[i+xlen] = carry;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="ttc" id="APInt_8cpp_html_a4d4d4a8f7668dd517881defd4b04e1d3"><div class="ttname"><a href="../../de/de4/APInt_8cpp.html#a4d4d4a8f7668dd517881defd4b04e1d3">mul_1</a></div><div class="ttdeci">static uint64_t mul_1(uint64_t dest[], uint64_t x[], unsigned len, uint64_t y)</div><div class="ttdoc">Multiply a multi-digit APInt by a single digit (64-bit) integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00292">APInt.cpp:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d4d4a8f7668dd517881defd4b04e1d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t mul_1 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>dest</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Multiply a multi-digit APInt by a single digit (64-bit) integer. </p>
<p>Multiplies an integer array, x, by a uint64_t integer and places the result into dest. </p>
<dl class="section return"><dt>Returns</dt><dd>the carry out of the multiplication. </dd></dl>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00292">292</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                                                               {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Split y into high 32-bit part (hy)  and low 32-bit part (ly)</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  uint64_t ly = y &amp; 0xffffffffULL, hy = y &gt;&gt; 32;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  uint64_t carry = 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// For each digit of x.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>; ++i) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// Split x into high and low words</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    uint64_t lx = x[i] &amp; 0xffffffffULL;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    uint64_t hx = x[i] &gt;&gt; 32;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// hasCarry - A flag to indicate if there is a carry to the next digit.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// hasCarry == 0, no carry</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// hasCarry == 1, has carry</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// hasCarry == 2, no carry and the calculation result == 0.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    uint8_t hasCarry = 0;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    dest[i] = carry + lx * ly;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// Determine if the add above introduces carry.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    hasCarry = (dest[i] &lt; carry) ? 1 : 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    carry = hx * ly + (dest[i] &gt;&gt; 32) + (hasCarry ? (1ULL &lt;&lt; 32) : 0);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// The upper limit of carry can be (2^32 - 1)(2^32 - 1) +</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// (2^32 - 1) + 2^32 = 2^64.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    hasCarry = (!carry &amp;&amp; hasCarry) ? 1 : (!carry ? 2 : 0);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    carry += (lx * hy) &amp; 0xffffffffULL;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    dest[i] = (carry &lt;&lt; 32) | (dest[i] &amp; 0xffffffffULL);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    carry = (((!carry &amp;&amp; hasCarry != 2) || hasCarry == 1) ? (1ULL &lt;&lt; 32) : 0) +</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            (carry &gt;&gt; 32) + ((lx * hy) &gt;&gt; 32) + hx * hy;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">return</span> carry;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="ttc" id="test_8cpp_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dac/test_8cpp_source.html#l00005">test.cpp:5</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab05972b4953d3d2c9332002f96c0f9f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool sub </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> uint64_t *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generalized subtraction of 64-bit integer arrays. </p>
<p>Subtracts the integer array y from the integer array x </p>
<dl class="section return"><dt>Returns</dt><dd>returns the borrow out. </dd></dl>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00265">265</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                              {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordtype">bool</span> borrow = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>; ++i) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    uint64_t x_tmp = borrow ? x[i] - 1 : x[i];</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    borrow = y[i] &gt; x_tmp || (borrow &amp;&amp; x[i] == 0);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    dest[i] = x_tmp - y[i];</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">return</span> borrow;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="ttc" id="test_8cpp_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dac/test_8cpp_source.html#l00005">test.cpp:5</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6fd1429352ceab0a87cb024e163bd8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool sub_1 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>sub_1 - This function subtracts a single "digit" (64-bit word), y, from the multi-digit integer array, x[], propagating the borrowed 1 value until no further borrowing is neeeded or it runs out of "digits" in x. The result is 1 if "borrowing" exhausted the digits in x, or 0 if x was not exhausted. In other words, if y &gt; x then this function returns 1, otherwise 0. </p>
<dl class="section return"><dt>Returns</dt><dd>the borrow out of the subtraction </dd></dl>

<p>Definition at line <a class="el" href="../../de/de4/APInt_8cpp_source.html#l00211">211</a> of file <a class="el" href="../../de/de4/APInt_8cpp_source.html">APInt.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                                          {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a>; ++i) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    uint64_t <a class="code" href="../../dc/d16/ErlangGCPrinter_8cpp.html#a2ee26aa2a311452eade9497011b86343">X</a> = x[i];</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    x[i] -= y;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (y &gt; X)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      y = 1;  <span class="comment">// We have to &quot;borrow 1&quot; from next &quot;digit&quot;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      y = 0;  <span class="comment">// No need to borrow</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">break</span>;  <span class="comment">// Remaining digits are unchanged so exit early</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">return</span> bool(y);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="ttc" id="ErlangGCPrinter_8cpp_html_a2ee26aa2a311452eade9497011b86343"><div class="ttname"><a href="../../dc/d16/ErlangGCPrinter_8cpp.html#a2ee26aa2a311452eade9497011b86343">X</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; ErlangGCPrinter &gt; X(&quot;erlang&quot;,&quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="test_8cpp_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="../../df/dac/test_8cpp.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dac/test_8cpp_source.html#l00005">test.cpp:5</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_211fb134ce6a4c3329568c5b3817f0ae.html">llvm</a></li><li class="navelem"><a class="el" href="../../dir_68ef2609279916640dd02c22eb347286.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_bf017854dca758d5bcbca19bbbbe9c48.html">Support</a></li><li class="navelem"><a class="el" href="../../de/de4/APInt_8cpp.html">APInt.cpp</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:43:10 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
