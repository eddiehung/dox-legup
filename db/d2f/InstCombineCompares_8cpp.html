<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>legup-4.0: InstCombineCompares.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">legup-4.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('db/d2f/InstCombineCompares_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">InstCombineCompares.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d79/InstCombine_8h_source.html">InstCombine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/d0a/ConstantFolding_8h_source.html">llvm/Analysis/ConstantFolding.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d48/InstructionSimplify_8h_source.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/de0/MemoryBuiltins_8h_source.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d0/da2/ConstantRange_8h_source.html">llvm/IR/ConstantRange.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dd/d19/DataLayout_8h_source.html">llvm/IR/DataLayout.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/d06/GetElementPtrTypeIterator_8h_source.html">llvm/IR/GetElementPtrTypeIterator.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/dfe/IntrinsicInst_8h_source.html">llvm/IR/IntrinsicInst.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/d65/PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../dc/d1a/TargetLibraryInfo_8h_source.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</code><br/>
</div>
<p><a href="../../db/d2f/InstCombineCompares_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;instcombine&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0772d720f01c3de131e8f60fba99b706"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a0772d720f01c3de131e8f60fba99b706">getOne</a> (<a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *<a class="el" href="../../db/db2/structC.html">C</a>)</td></tr>
<tr class="separator:a0772d720f01c3de131e8f60fba99b706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ab8c7b55d8bc7cab66be444daa70a1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a> (<a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *V, <a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *Idx)</td></tr>
<tr class="separator:aa5ab8c7b55d8bc7cab66be444daa70a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac731f43b6d70551357cc1960dcd22173"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#ac731f43b6d70551357cc1960dcd22173">HasAddOverflow</a> (<a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *Result, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *In1, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *In2, bool IsSigned)</td></tr>
<tr class="separator:ac731f43b6d70551357cc1960dcd22173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942bcf899495377b3c460b8df9fb1c81"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a942bcf899495377b3c460b8df9fb1c81">AddWithOverflow</a> (<a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&amp;Result, <a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *In1, <a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *In2, bool IsSigned=<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>)</td></tr>
<tr class="separator:a942bcf899495377b3c460b8df9fb1c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63610224f160a6f88abce922a7e99ba8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a63610224f160a6f88abce922a7e99ba8">HasSubOverflow</a> (<a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *Result, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *In1, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *In2, bool IsSigned)</td></tr>
<tr class="separator:a63610224f160a6f88abce922a7e99ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e9984c4d8f47168e6e840fc816ce91"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a70e9984c4d8f47168e6e840fc816ce91">SubWithOverflow</a> (<a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&amp;Result, <a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *In1, <a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *In2, bool IsSigned=<a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>)</td></tr>
<tr class="separator:a70e9984c4d8f47168e6e840fc816ce91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9d1b39f9f6b722e3b89b9650d6051d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#aab9d1b39f9f6b722e3b89b9650d6051d">isSignBitCheck</a> (ICmpInst::Predicate pred, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *RHS, bool &amp;TrueIfSigned)</td></tr>
<tr class="separator:aab9d1b39f9f6b722e3b89b9650d6051d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc22daabfc0c272f3bca65808533bdcd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#abc22daabfc0c272f3bca65808533bdcd">isSignTest</a> (ICmpInst::Predicate &amp;pred, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *RHS)</td></tr>
<tr class="separator:abc22daabfc0c272f3bca65808533bdcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3768a0dde13dc5f3ebeb41cb700d4976"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a3768a0dde13dc5f3ebeb41cb700d4976">isHighOnes</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI)</td></tr>
<tr class="separator:a3768a0dde13dc5f3ebeb41cb700d4976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8af3f0435c2f2777b08be28da284fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a2c8af3f0435c2f2777b08be28da284fb">ComputeSignedMinMaxValuesFromKnownBits</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;KnownZero, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;KnownOne, <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;Min, <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;Max)</td></tr>
<tr class="separator:a2c8af3f0435c2f2777b08be28da284fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada48609926c51e52629a815158919f39"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#ada48609926c51e52629a815158919f39">ComputeUnsignedMinMaxValuesFromKnownBits</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;KnownZero, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;KnownOne, <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;Min, <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;Max)</td></tr>
<tr class="separator:ada48609926c51e52629a815158919f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a042fcb94fa8bd65efea3003580f43"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#ad6a042fcb94fa8bd65efea3003580f43">EvaluateGEPOffsetExpression</a> (<a class="el" href="../../d6/d1b/classllvm_1_1User.html">User</a> *GEP, <a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;IC)</td></tr>
<tr class="separator:ad6a042fcb94fa8bd65efea3003580f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d991c3d5a987e28b2ae44852b1756b5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a0d991c3d5a987e28b2ae44852b1756b5">ProcessUGT_ADDCST_ADD</a> (<a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="el" href="../../d4/dc4/structA.html">A</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *B, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI2, <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI1, <a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;IC)</td></tr>
<tr class="separator:a0d991c3d5a987e28b2ae44852b1756b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7186564b18aee592f242128da5aa21db"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#a7186564b18aee592f242128da5aa21db">ProcessUAddIdiom</a> (<a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *OrigAddV, <a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;IC)</td></tr>
<tr class="separator:a7186564b18aee592f242128da5aa21db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb50d32c0976fe397f397229c0c85123"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#abb50d32c0976fe397f397229c0c85123">ProcessUMulZExtIdiom</a> (<a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *MulVal, <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *OtherVal, <a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;IC)</td></tr>
<tr class="memdesc:abb50d32c0976fe397f397229c0c85123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recognize and process idiom involving test for multiplication overflow.  <a href="#abb50d32c0976fe397f397229c0c85123">More...</a><br/></td></tr>
<tr class="separator:abb50d32c0976fe397f397229c0c85123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8df8b9877663703056c1d9e7ffffc3a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#aa8df8b9877663703056c1d9e7ffffc3a">DemandedBitsLHSMask</a> (<a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> &amp;<a class="el" href="../../d0/ddd/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, unsigned BitWidth, bool isSignCheck)</td></tr>
<tr class="separator:aa8df8b9877663703056c1d9e7ffffc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaead33f71104b5e889a5cd491cd2bb56"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html#aaead33f71104b5e889a5cd491cd2bb56">swapMayExposeCSEOpportunities</a> (<a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Op0, <a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Op1)</td></tr>
<tr class="memdesc:aaead33f71104b5e889a5cd491cd2bb56"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d8/d2b/namespaceCheck.html">Check</a> if the order of <code>Op0</code> and <code>Op1</code> as operand in an ICmpInst should be swapped. The decision is based on how many times these two operands are reused as subtract operands and their positions in those instructions. The rational is that several architectures use the same instruction for both subtract and cmp, thus it is better if the order of those operands match.  <a href="#aaead33f71104b5e889a5cd491cd2bb56">More...</a><br/></td></tr>
<tr class="separator:aaead33f71104b5e889a5cd491cd2bb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;instcombine&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00027">27</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a942bcf899495377b3c460b8df9fb1c81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool AddWithOverflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&amp;&#160;</td>
          <td class="paramname"><em>Result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>In1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>In2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>IsSigned</em> = <code><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>AddWithOverflow - Compute Result = In1+In2, returning true if the result overflowed for this type. </p>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00050">50</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                                                  {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  Result = ConstantExpr::getAdd(In1, In2);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d3/d45/classllvm_1_1VectorType.html">VectorType</a> *VTy = dyn_cast&lt;VectorType&gt;(In1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = VTy-&gt;getNumElements(); i != e; ++i) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <a class="code" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *Idx = ConstantInt::get(Type::getInt32Ty(In1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()), i);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#ac731f43b6d70551357cc1960dcd22173">HasAddOverflow</a>(<a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a>(Result, Idx),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                         <a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a>(In1, Idx),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                         <a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a>(In2, Idx),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                         IsSigned))</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#ac731f43b6d70551357cc1960dcd22173">HasAddOverflow</a>(cast&lt;ConstantInt&gt;(Result),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                        cast&lt;ConstantInt&gt;(In1), cast&lt;ConstantInt&gt;(In2),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        IsSigned);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="InstCombineCompares_8cpp_html_aa5ab8c7b55d8bc7cab66be444daa70a1"><div class="ttname"><a href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a></div><div class="ttdeci">static ConstantInt * ExtractElement(Constant *V, Constant *Idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00033">InstCombineCompares.cpp:33</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="../../d1/d57/classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00615">Value.cpp:615</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html"><div class="ttname"><a href="../../d3/d45/classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/DerivedTypes_8h_source.html#l00358">DerivedTypes.h:358</a></div></div>
<div class="ttc" id="InstCombineCompares_8cpp_html_ac731f43b6d70551357cc1960dcd22173"><div class="ttname"><a href="../../db/d2f/InstCombineCompares_8cpp.html#ac731f43b6d70551357cc1960dcd22173">HasAddOverflow</a></div><div class="ttdeci">static bool HasAddOverflow(ConstantInt *Result, ConstantInt *In1, ConstantInt *In2, bool IsSigned)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00037">InstCombineCompares.cpp:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c8af3f0435c2f2777b08be28da284fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ComputeSignedMinMaxValuesFromKnownBits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>KnownZero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>KnownOne</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>Min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>Max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ComputeSignedMinMaxValuesFromKnownBits - Given a signed integer type and a set of known zero and one bits, compute the maximum and minimum values that could have the specified known zero and known one bits, returning them in min/max. </p>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00170">170</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                                                           {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(KnownZero.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == KnownOne.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;         KnownZero.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == Min.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;         KnownZero.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == Max.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;         <span class="stringliteral">&quot;KnownZero, KnownOne and Min, Max must have equal bitwidth.&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> UnknownBits = ~(KnownZero|KnownOne);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// The minimum value is when all unknown bits are zeros, EXCEPT for the sign</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// bit if it is unknown.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  Min = KnownOne;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  Max = KnownOne|UnknownBits;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (UnknownBits.isNegative()) { <span class="comment">// Sign bit is unknown</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    Min.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">setBit</a>(Min.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()-1);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    Max.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a54c3b6a0fd1aaeab8c6a2493fb9c549a">clearBit</a>(Max.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()-1);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1APInt_html_a901362ad921722671d31108bcfaf6b03"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">llvm::APInt::setBit</a></div><div class="ttdeci">void setBit(unsigned bitPosition)</div><div class="ttdoc">Set a given bit to 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00584">APInt.cpp:584</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01248">APInt.h:1248</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a54c3b6a0fd1aaeab8c6a2493fb9c549a"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a54c3b6a0fd1aaeab8c6a2493fb9c549a">llvm::APInt::clearBit</a></div><div class="ttdeci">void clearBit(unsigned bitPosition)</div><div class="ttdoc">Set a given bit to 0. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00593">APInt.cpp:593</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada48609926c51e52629a815158919f39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ComputeUnsignedMinMaxValuesFromKnownBits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>KnownZero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>KnownOne</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>Min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;&#160;</td>
          <td class="paramname"><em>Max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00194">194</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                                                             {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(KnownZero.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == KnownOne.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;         KnownZero.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == Min.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;         KnownZero.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == Max.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() &amp;&amp;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;         <span class="stringliteral">&quot;Ty, KnownZero, KnownOne and Min, Max must have equal bitwidth.&quot;</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> UnknownBits = ~(KnownZero|KnownOne);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// The minimum value is when the unknown bits are all zeros.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  Min = KnownOne;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// The maximum value is when the unknown bits are all ones.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  Max = KnownOne|UnknownBits;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01248">APInt.h:1248</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa8df8b9877663703056c1d9e7ffffc3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> DemandedBitsLHSMask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>BitWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isSignCheck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l02252">2252</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                                                                      {</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="keywordflow">if</span> (isSignCheck)</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="keywordflow">return</span> APInt::getSignBit(BitWidth);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">if</span> (!CI) <span class="keywordflow">return</span> APInt::getAllOnesValue(BitWidth);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;RHS = CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="keywordflow">switch</span> (I.<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>()) {</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="comment">// For a UGT comparison, we don&#39;t care about any bits that</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="comment">// correspond to the trailing ones of the comparand.  The value of these</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="comment">// bits doesn&#39;t impact the outcome of the comparison, because any value</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="comment">// greater than the RHS must differ in a bit higher than these due to carry.</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGT: {</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="keywordtype">unsigned</span> trailingOnes = RHS.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a3f94def79176d0cd1c4bec190e7eb66c">countTrailingOnes</a>();</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> lowBitsSet = APInt::getLowBitsSet(BitWidth, trailingOnes);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keywordflow">return</span> ~lowBitsSet;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  }</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <span class="comment">// Similarly, for a ULT comparison, we don&#39;t care about the trailing zeros.</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="comment">// Any value less than the RHS must differ in a higher bit because of carries.</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_ULT: {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keywordtype">unsigned</span> trailingZeros = RHS.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">countTrailingZeros</a>();</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> lowBitsSet = APInt::getLowBitsSet(BitWidth, trailingZeros);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keywordflow">return</span> ~lowBitsSet;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  }</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordflow">return</span> APInt::getAllOnesValue(BitWidth);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  }</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00735">InstrTypes.h:735</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aac277496191547e487eea07f09dffd4b"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">llvm::APInt::countTrailingZeros</a></div><div class="ttdeci">unsigned countTrailingZeros() const </div><div class="ttdoc">Count the number of trailing zero bits. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00737">APInt.cpp:737</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a3f94def79176d0cd1c4bec190e7eb66c"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a3f94def79176d0cd1c4bec190e7eb66c">llvm::APInt::countTrailingOnes</a></div><div class="ttdeci">unsigned countTrailingOnes() const </div><div class="ttdoc">Count the number of trailing one bits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01378">APInt.h:1378</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6a042fcb94fa8bd65efea3003580f43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a>* EvaluateGEPOffsetExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d1b/classllvm_1_1User.html">User</a> *&#160;</td>
          <td class="paramname"><em>GEP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;&#160;</td>
          <td class="paramname"><em>IC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>EvaluateGEPOffsetExpression - Return a value that can be used to compare the <em>offset</em> implied by a GEP to zero. For example, if we have &amp;<a class="el" href="../../d4/dc4/structA.html">A</a>[i], we want to return 'i' for "icmp ne i, 0". Note that, in general, indices can be complex, and scales are involved. The above expression would also be legal to codegen as "icmp ne (i*4), 0" (assuming <a class="el" href="../../d4/dc4/structA.html">A</a> is a pointer to i32). This later form is less amenable to optimization though, and we are allowed to generate the first by knowing that pointer arithmetic doesn't overflow.</p>
<p>If we can't emit an optimized form for this expression, this returns null. </p>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00507">507</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                                       {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a7f7b8906dab43d37c78e10eafe4c424f">DL</a> = *IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#af8f657fc986a24024180134169326225">getDataLayout</a>();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <a class="code" href="../../d6/d9f/classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> GTI = <a class="code" href="../../d9/d4a/namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(GEP);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// Check to see if this gep only has a single variable index.  If so, and if</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// any constant indices are a multiple of its scale, then we can compute this</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// in terms of the scale of the variable index.  For example, if the GEP</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// implies an offset of &quot;12 + i*4&quot;, then we can codegen this as &quot;3 + i&quot;,</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// because the expression will cross zero at the same point.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordtype">unsigned</span> i, e = GEP-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  int64_t Offset = 0;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">for</span> (i = 1; i != e; ++i, ++GTI) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(GEP-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(i))) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="comment">// Compute the aggregate offset of constant indices.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;isZero()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="comment">// Handle a struct index, which adds its field offset to the pointer.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5c/classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI)) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        Offset += DL.<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#a35c840104f32575e0d91422cf1ef3ce4">getStructLayout</a>(STy)-&gt;<a class="code" href="../../d4/d6c/classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">getElementOffset</a>(CI-&gt;getZExtValue());</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        uint64_t Size = DL.<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">getTypeAllocSize</a>(GTI.<a class="code" href="../../d6/d9f/classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">getIndexedType</a>());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        Offset += Size*CI-&gt;getSExtValue();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="comment">// Found our variable index.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// If there are no variable indices, we must have a constant offset, just</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// evaluate it the general way.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">if</span> (i == e) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *VariableIdx = GEP-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(i);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// Determine the scale factor of the variable element.  For example, this is</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// 4 if the variable index is into an array of i32.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  uint64_t VariableScale = DL.<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">getTypeAllocSize</a>(GTI.<a class="code" href="../../d6/d9f/classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">getIndexedType</a>());</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// Verify that there are no other variable indices.  If so, emit the hard way.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">for</span> (++i, ++GTI; i != e; ++i, ++GTI) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(GEP-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(i));</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (!CI) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// Compute the aggregate offset of constant indices.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// Handle a struct index, which adds its field offset to the pointer.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5c/classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI)) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      Offset += DL.<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#a35c840104f32575e0d91422cf1ef3ce4">getStructLayout</a>(STy)-&gt;<a class="code" href="../../d4/d6c/classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">getElementOffset</a>(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>());</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      uint64_t Size = DL.<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">getTypeAllocSize</a>(GTI.<a class="code" href="../../d6/d9f/classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">getIndexedType</a>());</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      Offset += Size*CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// Okay, we know we have a single variable index, which must be a</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// pointer/array/vector index.  If there is no offset, life is simple, return</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// the index.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *IntPtrTy = DL.<a class="code" href="../../de/d3a/classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(GEP-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordtype">unsigned</span> IntPtrWidth = IntPtrTy-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a0519dc6e2f153aaed61eed17d965a9f0">getIntegerBitWidth</a>();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (Offset == 0) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// Cast to intptrty in case a truncation occurs.  If an extension is needed,</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// we don&#39;t need to bother extending: the extension won&#39;t affect where the</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// computation crosses zero.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (VariableIdx-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a8e4886a44b20221b0f2262346d9bcbe3">getPrimitiveSizeInBits</a>() &gt; IntPtrWidth) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      VariableIdx = IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">Builder</a>-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">CreateTrunc</a>(VariableIdx, IntPtrTy);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span> VariableIdx;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="comment">// Otherwise, there is an index.  The computation we will do will be modulo</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="comment">// the pointer size, so get it.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  uint64_t PtrSizeMask = ~0ULL &gt;&gt; (64-IntPtrWidth);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  Offset &amp;= PtrSizeMask;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  VariableScale &amp;= PtrSizeMask;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="comment">// To do this transformation, any constant index must be a multiple of the</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">// variable scale factor.  For example, we can evaluate &quot;12 + 4*i&quot; as &quot;3 + i&quot;,</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// but we can&#39;t evaluate &quot;10 + 3*i&quot; in terms of i.  Check that the offset is a</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// multiple of the variable scale.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  int64_t NewOffs = Offset / (int64_t)VariableScale;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (Offset != NewOffs*(int64_t)VariableScale)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="comment">// Okay, we can do this evaluation.  Start by converting the index to intptr.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (VariableIdx-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() != IntPtrTy)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    VariableIdx = IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">Builder</a>-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">CreateIntCast</a>(VariableIdx, IntPtrTy,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                            <span class="keyword">true</span> <span class="comment">/*Signed*/</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *OffsetVal = ConstantInt::get(IntPtrTy, NewOffs);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">return</span> IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">Builder</a>-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a112f87f5844b5d94c07940f3d47f1e99">CreateAdd</a>(VariableIdx, OffsetVal, <span class="stringliteral">&quot;offset&quot;</span>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="../../de/d3a/classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d19/DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html_aa9576aea404b156a949122affc839777"><div class="ttname"><a href="../../d6/d9f/classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">llvm::generic_gep_type_iterator::getIndexedType</a></div><div class="ttdeci">Type * getIndexedType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d06/GetElementPtrTypeIterator_8h_source.html#l00057">GetElementPtrTypeIterator.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_afdd8a08bfcbd94f60d166a71a3e79ff3"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#afdd8a08bfcbd94f60d166a71a3e79ff3">llvm::IRBuilder::CreateIntCast</a></div><div class="ttdeci">Value * CreateIntCast(Value *V, Type *DestTy, bool isSigned, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01221">IRBuilder.h:1221</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2f81e0c1fc6554df7ad2eafabf5fc5a5"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00110">User.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html"><div class="ttname"><a href="../../d6/d9f/classllvm_1_1generic__gep__type__iterator.html">llvm::generic_gep_type_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d06/GetElementPtrTypeIterator_8h_source.html#l00023">GetElementPtrTypeIterator.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a35c840104f32575e0d91422cf1ef3ce4"><div class="ttname"><a href="../../de/d3a/classllvm_1_1DataLayout.html#a35c840104f32575e0d91422cf1ef3ce4">llvm::DataLayout::getStructLayout</a></div><div class="ttdeci">const StructLayout * getStructLayout(StructType *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d66/DataLayout_8cpp_source.html#l00498">DataLayout.cpp:498</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="../../d2/d5c/classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a6edd823ba5e4e1effc8280ca8a1194ef"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Return the zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00116">Constants.h:116</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a7f7b8906dab43d37c78e10eafe4c424f"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a7f7b8906dab43d37c78e10eafe4c424f">DL</a></div><div class="ttdeci">INITIALIZE_TM_PASS(GlobalMerge,&quot;global-merge&quot;,&quot;Merge global variables&quot;, false, false) bool GlobalMerge const DataLayout * DL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dca/GlobalMerge_8cpp_source.html#l00146">GlobalMerge.cpp:146</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html_ae10c4483372a357a0d3411b3d64be10c"><div class="ttname"><a href="../../d4/d6c/classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">llvm::StructLayout::getElementOffset</a></div><div class="ttdeci">uint64_t getElementOffset(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d19/DataLayout_8h_source.html#l00505">DataLayout.h:505</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a112f87f5844b5d94c07940f3d47f1e99"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a112f87f5844b5d94c07940f3d47f1e99">llvm::IRBuilder::CreateAdd</a></div><div class="ttdeci">Value * CreateAdd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00632">IRBuilder.h:632</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="../../d1/d57/classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_a6e33228c0d5bb3b72f357677fa105185"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">llvm::InstCombiner::Builder</a></div><div class="ttdeci">BuilderTy * Builder</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00102">InstCombine.h:102</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_ae84bb2408dfffa4e8b5fe2ce0714a3bd"><div class="ttname"><a href="../../de/d3a/classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">llvm::DataLayout::getIntPtrType</a></div><div class="ttdeci">IntegerType * getIntPtrType(LLVMContext &amp;C, unsigned AddressSpace=0) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d66/DataLayout_8cpp_source.html#l00703">DataLayout.cpp:703</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a0519dc6e2f153aaed61eed17d965a9f0"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a0519dc6e2f153aaed61eed17d965a9f0">llvm::Type::getIntegerBitWidth</a></div><div class="ttdeci">unsigned getIntegerBitWidth() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d85/Type_8cpp_source.html#l00172">Type.cpp:172</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a1d6fcc02e91ba24510aba42660c90e29"><div class="ttname"><a href="../../de/d3a/classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">llvm::DataLayout::getTypeAllocSize</a></div><div class="ttdeci">uint64_t getTypeAllocSize(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d19/DataLayout_8h_source.html#l00368">DataLayout.h:368</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_af8f657fc986a24024180134169326225"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#af8f657fc986a24024180134169326225">llvm::InstCombiner::getDataLayout</a></div><div class="ttdeci">const DataLayout * getDataLayout() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00117">InstCombine.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8e4886a44b20221b0f2262346d9bcbe3"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a8e4886a44b20221b0f2262346d9bcbe3">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">unsigned getPrimitiveSizeInBits() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d85/Type_8cpp_source.html#l00117">Type.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_aa933549689e79685bb67de64dddc9f7c"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">llvm::IRBuilder::CreateTrunc</a></div><div class="ttdeci">Value * CreateTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01094">IRBuilder.h:1094</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a097c2d42e4deffabe6d54b007ad83367"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">llvm::ConstantInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const </div><div class="ttdoc">Return the sign extended value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00124">Constants.h:124</a></div></div>
<div class="ttc" id="namespacellvm_html_ac828b9b52935f87659a4adf237f820a3"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">llvm::gep_type_begin</a></div><div class="ttdeci">gep_type_iterator gep_type_begin(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d06/GetElementPtrTypeIterator_8h_source.html#l00085">GetElementPtrTypeIterator.h:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5ab8c7b55d8bc7cab66be444daa70a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>* ExtractElement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>Idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00033">33</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                                               {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">return</span> cast&lt;ConstantInt&gt;(ConstantExpr::getExtractElement(V, Idx));</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0772d720f01c3de131e8f60fba99b706"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a>* getOne </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>C</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00029">29</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                        {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keywordflow">return</span> ConstantInt::get(cast&lt;IntegerType&gt;(C-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()), 1);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac731f43b6d70551357cc1960dcd22173"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool HasAddOverflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>Result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>In1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>In2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>IsSigned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00037">37</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                          {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">if</span> (!IsSigned)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">return</span> Result-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(In1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">if</span> (In2-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a97c35b2ca7fa3e1f17c9f25e9dc2087b">isNegative</a>())</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">return</span> Result-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a0671bc479b3d788cc233dc1ce20ebcb5">sgt</a>(In1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">return</span> Result-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a0cf8014ad2d33b40a6bef55018547f57">slt</a>(In1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a97c35b2ca7fa3e1f17c9f25e9dc2087b"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a97c35b2ca7fa3e1f17c9f25e9dc2087b">llvm::ConstantInt::isNegative</a></div><div class="ttdeci">bool isNegative() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00155">Constants.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0671bc479b3d788cc233dc1ce20ebcb5"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a0671bc479b3d788cc233dc1ce20ebcb5">llvm::APInt::sgt</a></div><div class="ttdeci">bool sgt(const APInt &amp;RHS) const </div><div class="ttdoc">Signed greather than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01096">APInt.h:1096</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a1dc5339334162e650ff87e89629bf66c"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">llvm::APInt::ult</a></div><div class="ttdeci">bool ult(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned less than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00516">APInt.cpp:516</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0cf8014ad2d33b40a6bef55018547f57"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a0cf8014ad2d33b40a6bef55018547f57">llvm::APInt::slt</a></div><div class="ttdeci">bool slt(const APInt &amp;RHS) const </div><div class="ttdoc">Signed less than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00548">APInt.cpp:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63610224f160a6f88abce922a7e99ba8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool HasSubOverflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>Result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>In1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>In2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>IsSigned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00071">71</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                          {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">if</span> (!IsSigned)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> Result-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad3d358e03c6228af2d19b2e67028886e">ugt</a>(In1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (In2-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a97c35b2ca7fa3e1f17c9f25e9dc2087b">isNegative</a>())</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> Result-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a0cf8014ad2d33b40a6bef55018547f57">slt</a>(In1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> Result-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a0671bc479b3d788cc233dc1ce20ebcb5">sgt</a>(In1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a97c35b2ca7fa3e1f17c9f25e9dc2087b"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a97c35b2ca7fa3e1f17c9f25e9dc2087b">llvm::ConstantInt::isNegative</a></div><div class="ttdeci">bool isNegative() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00155">Constants.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0671bc479b3d788cc233dc1ce20ebcb5"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a0671bc479b3d788cc233dc1ce20ebcb5">llvm::APInt::sgt</a></div><div class="ttdeci">bool sgt(const APInt &amp;RHS) const </div><div class="ttdoc">Signed greather than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01096">APInt.h:1096</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad3d358e03c6228af2d19b2e67028886e"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#ad3d358e03c6228af2d19b2e67028886e">llvm::APInt::ugt</a></div><div class="ttdeci">bool ugt(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned greather than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01080">APInt.h:1080</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0cf8014ad2d33b40a6bef55018547f57"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a0cf8014ad2d33b40a6bef55018547f57">llvm::APInt::slt</a></div><div class="ttdeci">bool slt(const APInt &amp;RHS) const </div><div class="ttdoc">Signed less than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00548">APInt.cpp:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3768a0dde13dc5f3ebeb41cb700d4976"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isHighOnes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>CI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00162">162</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                              {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">return</span> (~CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() + 1).isPowerOf2();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab9d1b39f9f6b722e3b89b9650d6051d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isSignBitCheck </td>
          <td>(</td>
          <td class="paramtype">ICmpInst::Predicate&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>RHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>TrueIfSigned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>isSignBitCheck - Given an exploded icmp instruction, return true if the comparison only checks the sign bit. If it only checks the sign bit, set TrueIfSigned if the result of the comparison is true when the input value is signed. </p>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00110">110</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                               {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">switch</span> (pred) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_SLT:   <span class="comment">// True if LHS s&lt; 0</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    TrueIfSigned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> RHS-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_SLE:   <span class="comment">// True if LHS s&lt;= RHS and RHS == -1</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    TrueIfSigned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> RHS-&gt;<a class="code" href="../../d1/d57/classllvm_1_1Constant.html#ac8ddb745480a7e75a3862ddf0be3a298">isAllOnesValue</a>();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_SGT:   <span class="comment">// True if LHS s&gt; -1</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    TrueIfSigned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">return</span> RHS-&gt;<a class="code" href="../../d1/d57/classllvm_1_1Constant.html#ac8ddb745480a7e75a3862ddf0be3a298">isAllOnesValue</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGT:</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// True if LHS u&gt; RHS and RHS == high-bit-mask - 1</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    TrueIfSigned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> RHS-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af767099f07429816d862fc3b23f8789b">isMaxValue</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGE:</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// True if LHS u&gt;= RHS and RHS == high-bit-mask (2^7, 2^15, 2^31, etc)</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    TrueIfSigned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> RHS-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a9e981fb2ff9cfa5bb54229dbb5dc78b7">isSignBit</a>();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af767099f07429816d862fc3b23f8789b"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af767099f07429816d862fc3b23f8789b">llvm::ConstantInt::isMaxValue</a></div><div class="ttdeci">bool isMaxValue(bool isSigned) const </div><div class="ttdoc">Determine if the value is maximal. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00185">Constants.h:185</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_ac8ddb745480a7e75a3862ddf0be3a298"><div class="ttname"><a href="../../d1/d57/classllvm_1_1Constant.html#ac8ddb745480a7e75a3862ddf0be3a298">llvm::Constant::isAllOnesValue</a></div><div class="ttdeci">bool isAllOnesValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc4/Constants_8cpp_source.html#l00088">Constants.cpp:88</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a9e981fb2ff9cfa5bb54229dbb5dc78b7"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a9e981fb2ff9cfa5bb54229dbb5dc78b7">llvm::APInt::isSignBit</a></div><div class="ttdeci">bool isSignBit() const </div><div class="ttdoc">Check if the APInt&#39;s value is returned by getSignBit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00397">APInt.h:397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc22daabfc0c272f3bca65808533bdcd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isSignTest </td>
          <td>(</td>
          <td class="paramtype">ICmpInst::Predicate &amp;&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>RHS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the exploded icmp can be expressed as a signed comparison to zero and updates the predicate accordingly. The signedness of the comparison is preserved. </p>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00138">138</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                                                        {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span> (!ICmpInst::isSigned(pred))</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (RHS-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>())</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> ICmpInst::isRelational(pred);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">if</span> (RHS-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#aa96ca2cf0bb1e924523900fb911b0a45">isOne</a>()) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (pred == ICmpInst::ICMP_SLT) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      pred = ICmpInst::ICMP_SLE;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RHS-&gt;<a class="code" href="../../d1/d57/classllvm_1_1Constant.html#ac8ddb745480a7e75a3862ddf0be3a298">isAllOnesValue</a>()) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (pred == ICmpInst::ICMP_SGT) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      pred = ICmpInst::ICMP_SGE;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_ac8ddb745480a7e75a3862ddf0be3a298"><div class="ttname"><a href="../../d1/d57/classllvm_1_1Constant.html#ac8ddb745480a7e75a3862ddf0be3a298">llvm::Constant::isAllOnesValue</a></div><div class="ttdeci">bool isAllOnesValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc4/Constants_8cpp_source.html#l00088">Constants.cpp:88</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_aa96ca2cf0bb1e924523900fb911b0a45"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#aa96ca2cf0bb1e924523900fb911b0a45">llvm::ConstantInt::isOne</a></div><div class="ttdeci">bool isOne() const </div><div class="ttdoc">Determine if the value is one. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00168">Constants.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7186564b18aee592f242128da5aa21db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>* ProcessUAddIdiom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>OrigAddV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;&#160;</td>
          <td class="paramname"><em>IC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l01986">1986</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                                                       {</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="comment">// Don&#39;t bother doing this transformation for pointers, don&#39;t do it for</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="comment">// vectors.</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;IntegerType&gt;(OrigAddV-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="comment">// If the add is a constant expr, then we don&#39;t bother transforming it.</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *OrigAdd = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>&gt;(OrigAddV);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">if</span> (!OrigAdd) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *LHS = OrigAdd-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *RHS = OrigAdd-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="comment">// Put the new code above the original add, in case there are any uses of the</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="comment">// add between the add and the compare.</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> *<a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a> = IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">Builder</a>;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  Builder-&gt;<a class="code" href="../../d4/db6/classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(OrigAdd);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <a class="code" href="../../de/d27/classllvm_1_1Module.html">Module</a> *M = I.<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="../../d4/db0/classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *Ty = LHS-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="code" href="../../d2/d14/LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = <a class="code" href="../../d4/db0/namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">Intrinsic::getDeclaration</a>(M, Intrinsic::uadd_with_overflow, Ty);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <a class="code" href="../../d6/d9f/classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="../../d9/d4a/namespacellvm.html#af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b">Call</a> = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">CreateCall2</a>(F, LHS, RHS, <span class="stringliteral">&quot;uadd&quot;</span>);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Add = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">CreateExtractValue</a>(Call, 0);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#af7c1b579548e5b90a8db22d2f26a4afc">ReplaceInstUsesWith</a>(*OrigAdd, Add);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="comment">// The original icmp gets replaced with the overflow value.</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">ExtractValueInst::Create</a>(Call, 1, <span class="stringliteral">&quot;uadd.overflow&quot;</span>);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="../../de/d27/classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc7/Module_8h_source.html#l00115">Module.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="../../d6/d9f/classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l01227">Instructions.h:1227</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00118">BasicBlock.h:118</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="../../d2/d14/LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a478d9db5034ad1bef340198c3aaf861a"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">llvm::IRBuilder::CreateExtractValue</a></div><div class="ttdeci">Value * CreateExtractValue(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01416">IRBuilder.h:1416</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00437">IRBuilder.h:437</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a842176a2c8c60a94bc788454b0828ea2"><div class="ttname"><a href="../../d4/db0/namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=None)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd4/Function_8cpp_source.html#l00737">Function.cpp:737</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_ace45cae6925c65e9d6916e09dd5b17cc"><div class="ttname"><a href="../../d4/db6/classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">llvm::IRBuilderBase::SetInsertPoint</a></div><div class="ttdeci">void SetInsertPoint(BasicBlock *TheBB)</div><div class="ttdoc">This specifies that created instructions should be appended to the end of the specified block...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00083">IRBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_af7c1b579548e5b90a8db22d2f26a4afc"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#af7c1b579548e5b90a8db22d2f26a4afc">llvm::InstCombiner::ReplaceInstUsesWith</a></div><div class="ttdeci">Instruction * ReplaceInstUsesWith(Instruction &amp;I, Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00282">InstCombine.h:282</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_a6e33228c0d5bb3b72f357677fa105185"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">llvm::InstCombiner::Builder</a></div><div class="ttdeci">BuilderTy * Builder</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00102">InstCombine.h:102</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="llvm-ar_8cpp_html_afdde8653309ceae1b97f0328e2d1a465"><div class="ttname"><a href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">Create</a></div><div class="ttdeci">static bool Create</div><div class="ttdoc">&#39;c&#39; modifier </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc6/llvm-ar_8cpp_source.html#l00117">llvm-ar.cpp:117</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d77/CallingConvLower_8h_source.html#l00167">CallingConvLower.h:167</a></div></div>
<div class="ttc" id="Chapter3_2toy_8cpp_html_a273f780131bbe21658cfc4d34210ff4b"><div class="ttname"><a href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a></div><div class="ttdeci">static IRBuilder Builder(getGlobalContext())</div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a902af4d6cb3a421a7f5723d0fc81efd1"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">llvm::IRBuilder::CreateCall2</a></div><div class="ttdeci">CallInst * CreateCall2(Value *Callee, Value *Arg1, Value *Arg2, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01351">IRBuilder.h:1351</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="../../d4/db0/classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of... </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d75/GlobalValue_8h_source.html#l00336">GlobalValue.h:336</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d991c3d5a987e28b2ae44852b1756b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>* ProcessUGT_ADDCST_ADD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>CI2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *&#160;</td>
          <td class="paramname"><em>CI1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;&#160;</td>
          <td class="paramname"><em>IC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ProcessUGT_ADDCST_ADD - The caller has matched a pattern of the form: I = icmp ugt (add (add <a class="el" href="../../d4/dc4/structA.html">A</a>, B), CI2), CI1 If this is of the form: sum = a + b if (sum+128 &gt;u 255) Then replace it with llvm.sadd.with.overflow.i8. </p>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l01905">1905</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                                            {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="comment">// The transformation we&#39;re trying to do here is to transform this into an</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="comment">// llvm.sadd.with.overflow.  To do this, we have to replace the original add</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="comment">// with a narrower add, and discard the add-with-constant that is part of the</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="comment">// range check (if we can&#39;t eliminate it, this isn&#39;t profitable).</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="comment">// In order to eliminate the add-with-constant, the compare can be its only</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="comment">// use.</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *AddWithCst = cast&lt;Instruction&gt;(I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <span class="keywordflow">if</span> (!AddWithCst-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">hasOneUse</a>()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="comment">// If CI2 is 2^7, 2^15, 2^31, then it might be an sadd.with.overflow.</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  <span class="keywordflow">if</span> (!CI2-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">isPowerOf2</a>()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="keywordtype">unsigned</span> NewWidth = CI2-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">countTrailingZeros</a>();</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="keywordflow">if</span> (NewWidth != 7 &amp;&amp; NewWidth != 15 &amp;&amp; NewWidth != 31) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="comment">// The width of the new add formed is 1 more than the bias.</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  ++NewWidth;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="comment">// Check to see that CI1 is an all-ones value with NewWidth bits.</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">if</span> (CI1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>() == NewWidth ||</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      CI1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() != APInt::getLowBitsSet(CI1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>(), NewWidth))</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="comment">// This is only really a signed overflow check if the inputs have been</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="comment">// sign-extended; check for that condition. For example, if CI2 is 2^31 and</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="comment">// the operands of the add are 64 bits wide, we need at least 33 sign bits.</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordtype">unsigned</span> NeededSignBits = CI1-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>() - NewWidth + 1;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordflow">if</span> (IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a5c6a15b13538f9f97dc6e8a356cbe2c6">ComputeNumSignBits</a>(A) &lt; NeededSignBits ||</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a5c6a15b13538f9f97dc6e8a356cbe2c6">ComputeNumSignBits</a>(B) &lt; NeededSignBits)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="comment">// In order to replace the original add with a narrower</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <span class="comment">// llvm.sadd.with.overflow, the only uses allowed are the add-with-constant</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="comment">// and truncates that discard the high bits of the add.  Verify that this is</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="comment">// the case.</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *OrigAdd = cast&lt;Instruction&gt;(AddWithCst-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> *U : OrigAdd-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">if</span> (U == AddWithCst) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="comment">// Only accept truncates for now.  We would really like a nice recursive</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="comment">// predicate like SimplifyDemandedBits, but which goes downwards the use-def</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="comment">// chain to see which bits of a value are actually demanded.  If the</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="comment">// original add had another add which was then immediately truncated, we</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="comment">// could still do the transformation.</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <a class="code" href="../../d4/dec/classllvm_1_1TruncInst.html">TruncInst</a> *TI = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d4/dec/classllvm_1_1TruncInst.html">TruncInst</a>&gt;(U);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">if</span> (!TI || TI-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a8e4886a44b20221b0f2262346d9bcbe3">getPrimitiveSizeInBits</a>() &gt; NewWidth)</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="comment">// If the pattern matches, truncate the inputs to the narrower type and</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="comment">// use the sadd_with_overflow intrinsic to efficiently compute both the</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <span class="comment">// result and the overflow bit.</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <a class="code" href="../../de/d27/classllvm_1_1Module.html">Module</a> *M = I.<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="../../d4/db0/classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *NewType = IntegerType::get(OrigAdd-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), NewWidth);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="code" href="../../d2/d14/LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = <a class="code" href="../../d4/db0/namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">Intrinsic::getDeclaration</a>(M, Intrinsic::sadd_with_overflow,</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                                       NewType);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> *<a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a> = IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">Builder</a>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="comment">// Put the new code above the original add, in case there are any uses of the</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="comment">// add between the add and the compare.</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  Builder-&gt;<a class="code" href="../../d4/db6/classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(OrigAdd);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *TruncA = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">CreateTrunc</a>(A, NewType, A-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()+<span class="stringliteral">&quot;.trunc&quot;</span>);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *TruncB = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">CreateTrunc</a>(B, NewType, B-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()+<span class="stringliteral">&quot;.trunc&quot;</span>);</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <a class="code" href="../../d6/d9f/classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="../../d9/d4a/namespacellvm.html#af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b">Call</a> = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">CreateCall2</a>(F, TruncA, TruncB, <span class="stringliteral">&quot;sadd&quot;</span>);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Add = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">CreateExtractValue</a>(Call, 0, <span class="stringliteral">&quot;sadd.result&quot;</span>);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *ZExt = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(Add, OrigAdd-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="comment">// The inner add was the result of the narrow add, zero extended to the</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="comment">// wider type.  Replace it with the result computed by the intrinsic.</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#af7c1b579548e5b90a8db22d2f26a4afc">ReplaceInstUsesWith</a>(*OrigAdd, ZExt);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="comment">// The original icmp gets replaced with the overflow value.</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">ExtractValueInst::Create</a>(Call, 1, <span class="stringliteral">&quot;sadd.overflow&quot;</span>);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="../../de/d27/classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc7/Module_8h_source.html#l00115">Module.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a58f423c78837f9854278b6026b34714a"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">llvm::ConstantInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">getBitWidth - Return the bitwidth of this constant. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00110">Constants.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="../../d6/d9f/classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l01227">Instructions.h:1227</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00118">BasicBlock.h:118</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="../../d2/d14/LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00035">User.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00168">Value.cpp:168</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a478d9db5034ad1bef340198c3aaf861a"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">llvm::IRBuilder::CreateExtractValue</a></div><div class="ttdeci">Value * CreateExtractValue(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01416">IRBuilder.h:1416</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_a5c6a15b13538f9f97dc6e8a356cbe2c6"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#a5c6a15b13538f9f97dc6e8a356cbe2c6">llvm::InstCombiner::ComputeNumSignBits</a></div><div class="ttdeci">unsigned ComputeNumSignBits(Value *Op, unsigned Depth=0) const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00327">InstCombine.h:327</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00437">IRBuilder.h:437</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a842176a2c8c60a94bc788454b0828ea2"><div class="ttname"><a href="../../d4/db0/namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=None)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd4/Function_8cpp_source.html#l00737">Function.cpp:737</a></div></div>
<div class="ttc" id="classllvm_1_1TruncInst_html"><div class="ttname"><a href="../../d4/dec/classllvm_1_1TruncInst.html">llvm::TruncInst</a></div><div class="ttdoc">This class represents a truncation of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l03317">Instructions.h:3317</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_ace45cae6925c65e9d6916e09dd5b17cc"><div class="ttname"><a href="../../d4/db6/classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">llvm::IRBuilderBase::SetInsertPoint</a></div><div class="ttdeci">void SetInsertPoint(BasicBlock *TheBB)</div><div class="ttdoc">This specifies that created instructions should be appended to the end of the specified block...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00083">IRBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_af7c1b579548e5b90a8db22d2f26a4afc"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#af7c1b579548e5b90a8db22d2f26a4afc">llvm::InstCombiner::ReplaceInstUsesWith</a></div><div class="ttdeci">Instruction * ReplaceInstUsesWith(Instruction &amp;I, Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00282">InstCombine.h:282</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_a6e33228c0d5bb3b72f357677fa105185"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">llvm::InstCombiner::Builder</a></div><div class="ttdeci">BuilderTy * Builder</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00102">InstCombine.h:102</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00615">Value.cpp:615</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af3deb6522c4fe2043fe07af2ec90190c"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">llvm::APInt::isPowerOf2</a></div><div class="ttdeci">bool isPowerOf2() const </div><div class="ttdoc">Check if this APInt&#39;s value is a power of two greater than zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00388">APInt.h:388</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aac277496191547e487eea07f09dffd4b"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">llvm::APInt::countTrailingZeros</a></div><div class="ttdeci">unsigned countTrailingZeros() const </div><div class="ttdoc">Count the number of trailing zero bits. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00737">APInt.cpp:737</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a277dfeaad2a2ada72a6024b0eedc5301"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">llvm::IRBuilder::CreateZExt</a></div><div class="ttdeci">Value * CreateZExt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01097">IRBuilder.h:1097</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="llvm-ar_8cpp_html_afdde8653309ceae1b97f0328e2d1a465"><div class="ttname"><a href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">Create</a></div><div class="ttdeci">static bool Create</div><div class="ttdoc">&#39;c&#39; modifier </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc6/llvm-ar_8cpp_source.html#l00117">llvm-ar.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00273">Value.h:273</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a085b82f074c28030fb8e194377ed2d0c"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a085b82f074c28030fb8e194377ed2d0c">llvm::Value::hasOneUse</a></div><div class="ttdeci">bool hasOneUse() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00284">Value.h:284</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d77/CallingConvLower_8h_source.html#l00167">CallingConvLower.h:167</a></div></div>
<div class="ttc" id="Chapter3_2toy_8cpp_html_a273f780131bbe21658cfc4d34210ff4b"><div class="ttname"><a href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a></div><div class="ttdeci">static IRBuilder Builder(getGlobalContext())</div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a902af4d6cb3a421a7f5723d0fc81efd1"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">llvm::IRBuilder::CreateCall2</a></div><div class="ttdeci">CallInst * CreateCall2(Value *Callee, Value *Arg1, Value *Arg2, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01351">IRBuilder.h:1351</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8e4886a44b20221b0f2262346d9bcbe3"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a8e4886a44b20221b0f2262346d9bcbe3">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">unsigned getPrimitiveSizeInBits() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d85/Type_8cpp_source.html#l00117">Type.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="../../d4/db0/classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of... </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d75/GlobalValue_8h_source.html#l00336">GlobalValue.h:336</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_aa933549689e79685bb67de64dddc9f7c"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">llvm::IRBuilder::CreateTrunc</a></div><div class="ttdeci">Value * CreateTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01094">IRBuilder.h:1094</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb50d32c0976fe397f397229c0c85123"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a>* ProcessUMulZExtIdiom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dcb/classllvm_1_1ICmpInst.html">ICmpInst</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>MulVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>OtherVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc0/classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;&#160;</td>
          <td class="paramname"><em>IC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recognize and process idiom involving test for multiplication overflow. </p>
<p>The caller has matched a pattern of the form: I = cmp u (mul(zext A, zext B), V The function checks if this is a test for overflow and if so replaces multiplication with call to 'mul.with.overflow' intrinsic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">I</td><td>Compare instruction. </td></tr>
    <tr><td class="paramname">MulVal</td><td>Result of 'mult' instruction. It is one of the arguments of the compare instruction. Must be of integer type. </td></tr>
    <tr><td class="paramname">OtherVal</td><td>The other argument of compare instruction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Instruction which must replace the compare instruction, NULL if no replacement required. </dd></dl>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l02029">2029</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                                                                            {</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <span class="comment">// Don&#39;t bother doing this transformation for pointers, don&#39;t do it for</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="comment">// vectors.</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;IntegerType&gt;(MulVal-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0) == MulVal || I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1) == MulVal);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0) == OtherVal || I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1) == OtherVal);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *MulInstr = cast&lt;Instruction&gt;(MulVal);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(MulInstr-&gt;getOpcode() == Instruction::Mul);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *LHS = cast&lt;Instruction&gt;(MulInstr-&gt;getOperand(0)),</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;              *RHS = cast&lt;Instruction&gt;(MulInstr-&gt;getOperand(1));</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(LHS-&gt;getOpcode() == Instruction::ZExt);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(RHS-&gt;getOpcode() == Instruction::ZExt);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="code" href="../../d4/dc4/structA.html">A</a> = LHS-&gt;getOperand(0), *B = RHS-&gt;getOperand(0);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="comment">// Calculate type and width of the result produced by mul.with.overflow.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *TyA = A-&gt;getType(), *TyB = B-&gt;getType();</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <span class="keywordtype">unsigned</span> WidthA = TyA-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a8e4886a44b20221b0f2262346d9bcbe3">getPrimitiveSizeInBits</a>(),</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;           WidthB = TyB-&gt;getPrimitiveSizeInBits();</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keywordtype">unsigned</span> MulWidth;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <a class="code" href="../../db/d53/classllvm_1_1Type.html">Type</a> *MulType;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <span class="keywordflow">if</span> (WidthB &gt; WidthA) {</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    MulWidth = WidthB;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    MulType = TyB;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    MulWidth = WidthA;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    MulType = TyA;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  }</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  <span class="comment">// In order to replace the original mul with a narrower mul.with.overflow,</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="comment">// all uses must ignore upper bits of the product.  The number of used low</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="comment">// bits must be not greater than the width of mul.with.overflow.</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="keywordflow">if</span> (MulVal-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a9ea9a909185ecbf9fc81ab35ebfb11d6">hasNUsesOrMore</a>(2))</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> *U : MulVal-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      <span class="keywordflow">if</span> (U == &amp;I)</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/dec/classllvm_1_1TruncInst.html">TruncInst</a> *TI = dyn_cast&lt;TruncInst&gt;(U)) {</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        <span class="comment">// Check if truncation ignores bits above MulWidth.</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <span class="keywordtype">unsigned</span> TruncWidth = TI-&gt;getType()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a8e4886a44b20221b0f2262346d9bcbe3">getPrimitiveSizeInBits</a>();</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="keywordflow">if</span> (TruncWidth &gt; MulWidth)</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO = dyn_cast&lt;BinaryOperator&gt;(U)) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        <span class="comment">// Check if AND ignores bits above MulWidth.</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="keywordflow">if</span> (BO-&gt;getOpcode() != <a class="code" href="../../db/dad/namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>)</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(BO-&gt;getOperand(1))) {</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;CVal = CI-&gt;getValue();</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;          <span class="keywordflow">if</span> (CVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() - CVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#af0336ea4c7f7f56354b2ca7c8859c1f9">countLeadingZeros</a>() &gt; MulWidth)</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        }</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="comment">// Other uses prohibit this transformation.</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      }</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    }</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="comment">// Recognize patterns</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="keywordflow">switch</span> (I.<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>()) {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_EQ:</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_NE:</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="comment">// Recognize pattern:</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="comment">//   mulval = mul(zext A, zext B)</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="comment">//   cmp eq/neq mulval, zext trunc mulval</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/classllvm_1_1ZExtInst.html">ZExtInst</a> *Zext = dyn_cast&lt;ZExtInst&gt;(OtherVal))</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">if</span> (Zext-&gt;hasOneUse()) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *ZextArg = Zext-&gt;getOperand(0);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/dec/classllvm_1_1TruncInst.html">TruncInst</a> *Trunc = dyn_cast&lt;TruncInst&gt;(ZextArg))</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;          <span class="keywordflow">if</span> (Trunc-&gt;getType()-&gt;getPrimitiveSizeInBits() == MulWidth)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">//Recognized</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      }</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="comment">// Recognize pattern:</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="comment">//   mulval = mul(zext A, zext B)</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="comment">//   cmp eq/neq mulval, and(mulval, mask), mask selects low MulWidth bits.</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *ValToMask;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(OtherVal, <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(ValToMask), <a class="code" href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI)))) {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <span class="keywordflow">if</span> (ValToMask != MulVal)</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> &amp;CVal = CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() + 1;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      <span class="keywordflow">if</span> (CVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">isPowerOf2</a>()) {</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <span class="keywordtype">unsigned</span> MaskWidth = CVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a474f562a4871689af74b0fd1ae42daa1">logBase2</a>();</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <span class="keywordflow">if</span> (MaskWidth == MulWidth)</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;          <span class="keywordflow">break</span>; <span class="comment">// Recognized</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      }</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    }</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGT:</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="comment">// Recognize pattern:</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="comment">//   mulval = mul(zext A, zext B)</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="comment">//   cmp ugt mulval, max</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(OtherVal)) {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> MaxVal = APInt::getMaxValue(MulWidth);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      MaxVal = MaxVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>());</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      <span class="keywordflow">if</span> (MaxVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a51c5dad48c7077ea1c09892d0490ca60">eq</a>(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// Recognized</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    }</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGE:</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="comment">// Recognize pattern:</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="comment">//   mulval = mul(zext A, zext B)</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="comment">//   cmp uge mulval, max+1</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(OtherVal)) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> MaxVal = APInt::getOneBitSet(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>(), MulWidth);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="keywordflow">if</span> (MaxVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a51c5dad48c7077ea1c09892d0490ca60">eq</a>(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// Recognized</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    }</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_ULE:</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="comment">// Recognize pattern:</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="comment">//   mulval = mul(zext A, zext B)</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <span class="comment">//   cmp ule mulval, max</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(OtherVal)) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> MaxVal = APInt::getMaxValue(MulWidth);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      MaxVal = MaxVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>());</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      <span class="keywordflow">if</span> (MaxVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a51c5dad48c7077ea1c09892d0490ca60">eq</a>(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// Recognized</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    }</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_ULT:</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="comment">// Recognize pattern:</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="comment">//   mulval = mul(zext A, zext B)</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="comment">//   cmp ule mulval, max + 1</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(OtherVal)) {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> MaxVal = APInt::getOneBitSet(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>(), MulWidth);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <span class="keywordflow">if</span> (MaxVal.<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a51c5dad48c7077ea1c09892d0490ca60">eq</a>(CI-&gt;<a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">// Recognized</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    }</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html">InstCombiner::BuilderTy</a> *<a class="code" href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a> = IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">Builder</a>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  Builder-&gt;<a class="code" href="../../d4/db6/classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">SetInsertPoint</a>(MulInstr);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <a class="code" href="../../de/d27/classllvm_1_1Module.html">Module</a> *M = I.<a class="code" href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="../../d1/da7/classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="../../d4/db0/classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="comment">// Replace: mul(zext A, zext B) --&gt; mul.with.overflow(A, B)</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *MulA = <a class="code" href="../../d0/da4/namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, *MulB = B;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="keywordflow">if</span> (WidthA &lt; MulWidth)</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    MulA = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(A, MulType);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="keywordflow">if</span> (WidthB &lt; MulWidth)</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    MulB = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(B, MulType);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *<a class="code" href="../../d2/d14/LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> =</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <a class="code" href="../../d4/db0/namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">Intrinsic::getDeclaration</a>(M, Intrinsic::umul_with_overflow, MulType);</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <a class="code" href="../../d6/d9f/classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="../../d9/d4a/namespacellvm.html#af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b">Call</a> = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">CreateCall2</a>(F, MulA, MulB, <span class="stringliteral">&quot;umul&quot;</span>);</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aaca490f77b8a0ca6b013db8c0de18972">Worklist</a>.<a class="code" href="../../d9/df2/classllvm_1_1InstCombineWorklist.html#a371049452a97755a1b39dea46017439a">Add</a>(MulInstr);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <span class="comment">// If there are uses of mul result other than the comparison, we know that</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="comment">// they are truncation or binary AND. Change them to use result of</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="comment">// mul.with.overflow and adjust properly mask/size.</span></div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <span class="keywordflow">if</span> (MulVal-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a9ea9a909185ecbf9fc81ab35ebfb11d6">hasNUsesOrMore</a>(2)) {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Mul = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">CreateExtractValue</a>(Call, 0, <span class="stringliteral">&quot;umul.value&quot;</span>);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> *U : MulVal-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      <span class="keywordflow">if</span> (U == &amp;I || U == OtherVal)</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/dec/classllvm_1_1TruncInst.html">TruncInst</a> *TI = dyn_cast&lt;TruncInst&gt;(U)) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        <span class="keywordflow">if</span> (TI-&gt;getType()-&gt;getPrimitiveSizeInBits() == MulWidth)</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;          IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#af7c1b579548e5b90a8db22d2f26a4afc">ReplaceInstUsesWith</a>(*TI, Mul);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;          TI-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(0, Mul);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO = dyn_cast&lt;BinaryOperator&gt;(U)) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        <a class="code" href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(BO-&gt;getOpcode() == <a class="code" href="../../db/dad/namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>);</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        <span class="comment">// Replace (mul &amp; mask) --&gt; zext (mul.with.overflow &amp; short_mask)</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        <a class="code" href="../../dc/de1/classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = cast&lt;ConstantInt&gt;(BO-&gt;getOperand(1));</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <a class="code" href="../../de/d3b/classllvm_1_1APInt.html">APInt</a> ShortMask = CI-&gt;getValue().<a class="code" href="../../de/d3b/classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(MulWidth);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *ShortAnd = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(Mul, ShortMask);</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        <a class="code" href="../../d2/d88/classllvm_1_1Instruction.html">Instruction</a> *Zext =</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;            cast&lt;Instruction&gt;(Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">CreateZExt</a>(ShortAnd, BO-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()));</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aaca490f77b8a0ca6b013db8c0de18972">Worklist</a>.<a class="code" href="../../d9/df2/classllvm_1_1InstCombineWorklist.html#a371049452a97755a1b39dea46017439a">Add</a>(Zext);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#af7c1b579548e5b90a8db22d2f26a4afc">ReplaceInstUsesWith</a>(*BO, Zext);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected Binary operation&quot;</span>);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aaca490f77b8a0ca6b013db8c0de18972">Worklist</a>.<a class="code" href="../../d9/df2/classllvm_1_1InstCombineWorklist.html#a371049452a97755a1b39dea46017439a">Add</a>(cast&lt;Instruction&gt;(U));</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Instruction&gt;(OtherVal))</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    IC.<a class="code" href="../../d5/dc0/classllvm_1_1InstCombiner.html#aaca490f77b8a0ca6b013db8c0de18972">Worklist</a>.<a class="code" href="../../d9/df2/classllvm_1_1InstCombineWorklist.html#a371049452a97755a1b39dea46017439a">Add</a>(cast&lt;Instruction&gt;(OtherVal));</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="comment">// The original icmp gets replaced with the overflow value, maybe inverted</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="comment">// depending on predicate.</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d3/d26/structllvm_1_1Inverse.html">Inverse</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keywordflow">switch</span> (I.<a class="code" href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>()) {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_NE:</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_EQ:</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    Inverse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGT:</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_UGE:</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <span class="keywordflow">if</span> (I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0) == MulVal)</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    Inverse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_ULT:</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="keywordflow">case</span> ICmpInst::ICMP_ULE:</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordflow">if</span> (I.<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1) == MulVal)</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    Inverse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <a class="code" href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected predicate&quot;</span>);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <span class="keywordflow">if</span> (Inverse) {</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <a class="code" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *Res = Builder-&gt;<a class="code" href="../../d9/df8/classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">CreateExtractValue</a>(Call, 1);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">return</span> BinaryOperator::CreateNot(Res);</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  }</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">ExtractValueInst::Create</a>(Call, 1);</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;}</div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a427435d4da769ae680a8e77ef89520aa"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">llvm::PatternMatch::m_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And &gt; m_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00467">PatternMatch.h:467</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">m_Value() - Match an arbitrary value and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00070">PatternMatch.h:70</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="../../d0/da4/namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="../../de/d27/classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc7/Module_8h_source.html#l00115">Module.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a58f423c78837f9854278b6026b34714a"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">llvm::ConstantInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">getBitWidth - Return the bitwidth of this constant. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00110">Constants.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1ZExtInst_html"><div class="ttname"><a href="../../d1/dca/classllvm_1_1ZExtInst.html">llvm::ZExtInst</a></div><div class="ttdoc">This class represents zero extension of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l03353">Instructions.h:3353</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="../../d6/d9f/classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l01227">Instructions.h:1227</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombineWorklist_html_a371049452a97755a1b39dea46017439a"><div class="ttname"><a href="../../d9/df2/classllvm_1_1InstCombineWorklist.html#a371049452a97755a1b39dea46017439a">llvm::InstCombineWorklist::Add</a></div><div class="ttdeci">void Add(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd2/InstCombineWorklist_8h_source.html#l00039">InstCombineWorklist.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="../../d1/da7/classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/BasicBlock_8h_source.html#l00118">BasicBlock.h:118</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="../../d2/d14/LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00035">User.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00042">PatternMatch.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a478d9db5034ad1bef340198c3aaf861a"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a478d9db5034ad1bef340198c3aaf861a">llvm::IRBuilder::CreateExtractValue</a></div><div class="ttdeci">Value * CreateExtractValue(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01416">IRBuilder.h:1416</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="../../dd/d3f/ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d3f/ErrorHandling_8h_source.html#l00098">ErrorHandling.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00437">IRBuilder.h:437</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00032">Instruction.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a197d5dd77cad4560a082900962a830aa"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">llvm::IRBuilder::CreateAnd</a></div><div class="ttdeci">Value * CreateAnd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00806">IRBuilder.h:806</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a34a92072122412c6020d4afb43725bf4"><div class="ttname"><a href="../../d8/d9f/namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">llvm::PatternMatch::m_ConstantInt</a></div><div class="ttdeci">class_match&lt; ConstantInt &gt; m_ConstantInt()</div><div class="ttdoc">m_ConstantInt() - Match an arbitrary ConstantInt and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d65/PatternMatch_8h_source.html#l00072">PatternMatch.h:72</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a842176a2c8c60a94bc788454b0828ea2"><div class="ttname"><a href="../../d4/db0/namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=None)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd4/Function_8cpp_source.html#l00737">Function.cpp:737</a></div></div>
<div class="ttc" id="structllvm_1_1Inverse_html"><div class="ttname"><a href="../../d3/d26/structllvm_1_1Inverse.html">llvm::Inverse</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dec/GraphTraits_8h_source.html#l00078">GraphTraits.h:78</a></div></div>
<div class="ttc" id="classllvm_1_1TruncInst_html"><div class="ttname"><a href="../../d4/dec/classllvm_1_1TruncInst.html">llvm::TruncInst</a></div><div class="ttdoc">This class represents a truncation of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd5/Instructions_8h_source.html#l03317">Instructions.h:3317</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_ace45cae6925c65e9d6916e09dd5b17cc"><div class="ttname"><a href="../../d4/db6/classllvm_1_1IRBuilderBase.html#ace45cae6925c65e9d6916e09dd5b17cc">llvm::IRBuilderBase::SetInsertPoint</a></div><div class="ttdeci">void SetInsertPoint(BasicBlock *TheBB)</div><div class="ttdoc">This specifies that created instructions should be appended to the end of the specified block...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l00083">IRBuilder.h:83</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="../../df/dca/GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a51c5dad48c7077ea1c09892d0490ca60"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a51c5dad48c7077ea1c09892d0490ca60">llvm::APInt::eq</a></div><div class="ttdeci">bool eq(const APInt &amp;RHS) const </div><div class="ttdoc">Equality comparison. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00984">APInt.h:984</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a8cf5475fb3e9c737112cc248194c1040"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">llvm::APInt::trunc</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT trunc(unsigned width) const </div><div class="ttdoc">Truncate to new width. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00920">APInt.cpp:920</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_af7c1b579548e5b90a8db22d2f26a4afc"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#af7c1b579548e5b90a8db22d2f26a4afc">llvm::InstCombiner::ReplaceInstUsesWith</a></div><div class="ttdeci">Instruction * ReplaceInstUsesWith(Instruction &amp;I, Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00282">InstCombine.h:282</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01248">APInt.h:1248</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="../../df/de6/classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00735">InstrTypes.h:735</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_aaca490f77b8a0ca6b013db8c0de18972"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#aaca490f77b8a0ca6b013db8c0de18972">llvm::InstCombiner::Worklist</a></div><div class="ttdeci">InstCombineWorklist Worklist</div><div class="ttdoc">Worklist - All of the instructions that need to be simplified. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00097">InstCombine.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1InstCombiner_html_a6e33228c0d5bb3b72f357677fa105185"><div class="ttname"><a href="../../d5/dc0/classllvm_1_1InstCombiner.html#a6e33228c0d5bb3b72f357677fa105185">llvm::InstCombiner::Builder</a></div><div class="ttdeci">BuilderTy * Builder</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/InstCombine_8h_source.html#l00102">InstCombine.h:102</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af3deb6522c4fe2043fe07af2ec90190c"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">llvm::APInt::isPowerOf2</a></div><div class="ttdeci">bool isPowerOf2() const </div><div class="ttdoc">Check if this APInt&#39;s value is a power of two greater than zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00388">APInt.h:388</a></div></div>
<div class="ttc" id="structA_html"><div class="ttname"><a href="../../d4/dc4/structA.html">A</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00001">test.h:1</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="../../dc/de1/classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d45/Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a277dfeaad2a2ada72a6024b0eedc5301"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a277dfeaad2a2ada72a6024b0eedc5301">llvm::IRBuilder::CreateZExt</a></div><div class="ttdeci">Value * CreateZExt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01097">IRBuilder.h:1097</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a474f562a4871689af74b0fd1ae42daa1"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a474f562a4871689af74b0fd1ae42daa1">llvm::APInt::logBase2</a></div><div class="ttdeci">unsigned logBase2() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01496">APInt.h:1496</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="../../d0/d24/classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="llvm-ar_8cpp_html_afdde8653309ceae1b97f0328e2d1a465"><div class="ttname"><a href="../../dc/dc6/llvm-ar_8cpp.html#afdde8653309ceae1b97f0328e2d1a465">Create</a></div><div class="ttdeci">static bool Create</div><div class="ttdoc">&#39;c&#39; modifier </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc6/llvm-ar_8cpp_source.html#l00117">llvm-ar.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a5fa9b8e1842b354f64c1ba6be0a4a17f"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">llvm::User::setOperand</a></div><div class="ttdeci">void setOperand(unsigned i, Value *Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00094">User.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00273">Value.h:273</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a684cfe02c582e8d75cd6d457e63e6c25"><div class="ttname"><a href="../../db/dad/namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">llvm::APIntOps::And</a></div><div class="ttdeci">APInt And(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise AND function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01865">APInt.h:1865</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#af6d6a791770bad2303c4399986979e3eaff782a9a0e831e8da5e7b021e7853d2b">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d77/CallingConvLower_8h_source.html#l00167">CallingConvLower.h:167</a></div></div>
<div class="ttc" id="Chapter3_2toy_8cpp_html_a273f780131bbe21658cfc4d34210ff4b"><div class="ttname"><a href="../../d8/df5/Chapter3_2toy_8cpp.html#a273f780131bbe21658cfc4d34210ff4b">Builder</a></div><div class="ttdeci">static IRBuilder Builder(getGlobalContext())</div></div>
<div class="ttc" id="classllvm_1_1Value_html_a9ea9a909185ecbf9fc81ab35ebfb11d6"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a9ea9a909185ecbf9fc81ab35ebfb11d6">llvm::Value::hasNUsesOrMore</a></div><div class="ttdeci">bool hasNUsesOrMore(unsigned N) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00104">Value.cpp:104</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a902af4d6cb3a421a7f5723d0fc81efd1"><div class="ttname"><a href="../../d9/df8/classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">llvm::IRBuilder::CreateCall2</a></div><div class="ttdeci">CallInst * CreateCall2(Value *Callee, Value *Arg1, Value *Arg2, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d60/IRBuilder_8h_source.html#l01351">IRBuilder.h:1351</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8e4886a44b20221b0f2262346d9bcbe3"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a8e4886a44b20221b0f2262346d9bcbe3">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">unsigned getPrimitiveSizeInBits() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d85/Type_8cpp_source.html#l00117">Type.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="../../d4/db0/classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdoc">Get the module that this global value is contained inside of... </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d75/GlobalValue_8h_source.html#l00336">GlobalValue.h:336</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00069">Value.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af0336ea4c7f7f56354b2ca7c8859c1f9"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#af0336ea4c7f7f56354b2ca7c8859c1f9">llvm::APInt::countLeadingZeros</a></div><div class="ttdeci">unsigned countLeadingZeros() const </div><div class="ttdoc">The APInt version of the countLeadingZeros functions in MathExtras.h. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dcb/APInt_8h_source.html#l01336">APInt.h:1336</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a6142fc5662411269a7ca0217f49f338c"><div class="ttname"><a href="../../de/d3b/classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">llvm::APInt::zext</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT zext(unsigned width) const </div><div class="ttdoc">Zero extend to a new width. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de4/APInt_8cpp_source.html#l00984">APInt.cpp:984</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="../../d2/d88/classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/def/Instruction_8h_source.html#l00053">Instruction.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a70e9984c4d8f47168e6e840fc816ce91"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool SubWithOverflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&amp;&#160;</td>
          <td class="paramname"><em>Result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>In1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>In2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>IsSigned</em> = <code><a class="el" href="../../d3/deb/SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>SubWithOverflow - Compute Result = In1-In2, returning true if the result overflowed for this type. </p>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00085">85</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                                                  {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  Result = ConstantExpr::getSub(In1, In2);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d3/d45/classllvm_1_1VectorType.html">VectorType</a> *VTy = dyn_cast&lt;VectorType&gt;(In1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = VTy-&gt;getNumElements(); i != e; ++i) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <a class="code" href="../../d1/d57/classllvm_1_1Constant.html">Constant</a> *Idx = ConstantInt::get(Type::getInt32Ty(In1-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()), i);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#a63610224f160a6f88abce922a7e99ba8">HasSubOverflow</a>(<a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a>(Result, Idx),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                         <a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a>(In1, Idx),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                         <a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a>(In2, Idx),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                         IsSigned))</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/d2f/InstCombineCompares_8cpp.html#a63610224f160a6f88abce922a7e99ba8">HasSubOverflow</a>(cast&lt;ConstantInt&gt;(Result),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                        cast&lt;ConstantInt&gt;(In1), cast&lt;ConstantInt&gt;(In2),</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                        IsSigned);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="ttc" id="InstCombineCompares_8cpp_html_a63610224f160a6f88abce922a7e99ba8"><div class="ttname"><a href="../../db/d2f/InstCombineCompares_8cpp.html#a63610224f160a6f88abce922a7e99ba8">HasSubOverflow</a></div><div class="ttdeci">static bool HasSubOverflow(ConstantInt *Result, ConstantInt *In1, ConstantInt *In2, bool IsSigned)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00071">InstCombineCompares.cpp:71</a></div></div>
<div class="ttc" id="InstCombineCompares_8cpp_html_aa5ab8c7b55d8bc7cab66be444daa70a1"><div class="ttname"><a href="../../db/d2f/InstCombineCompares_8cpp.html#aa5ab8c7b55d8bc7cab66be444daa70a1">ExtractElement</a></div><div class="ttdeci">static ConstantInt * ExtractElement(Constant *V, Constant *Idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2f/InstCombineCompares_8cpp_source.html#l00033">InstCombineCompares.cpp:33</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="../../d1/d57/classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/Value_8cpp_source.html#l00615">Value.cpp:615</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html"><div class="ttname"><a href="../../d3/d45/classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/DerivedTypes_8h_source.html#l00358">DerivedTypes.h:358</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaead33f71104b5e889a5cd491cd2bb56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool swapMayExposeCSEOpportunities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>Op0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d1d/X86DisassemblerTables_8h.html#abdcf78c67e79bd295d02ec20ec81ccd0">const</a> <a class="el" href="../../dd/d38/classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>Op1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d8/d2b/namespaceCheck.html">Check</a> if the order of <code>Op0</code> and <code>Op1</code> as operand in an ICmpInst should be swapped. The decision is based on how many times these two operands are reused as subtract operands and their positions in those instructions. The rational is that several architectures use the same instruction for both subtract and cmp, thus it is better if the order of those operands match. </p>
<dl class="section return"><dt>Returns</dt><dd>true if Op0 and Op1 should be swapped. </dd></dl>

<p>Definition at line <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html#l02294">2294</a> of file <a class="el" href="../../db/d2f/InstCombineCompares_8cpp_source.html">InstCombineCompares.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                                                             {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="comment">// Filter out pointer value as those cannot appears directly in subtract.</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="comment">// FIXME: we may want to go through inttoptrs or bitcasts.</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="comment">// Count every uses of both Op0 and Op1 in a subtract.</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="comment">// Each time Op0 is the first operand, count -1: swapping is bad, the</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="comment">// subtract has already the same layout as the compare.</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="comment">// Each time Op0 is the second operand, count +1: swapping is good, the</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="comment">// subtract has a different layout as the compare.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="comment">// At the end, if the benefit is greater than 0, Op0 should come second to</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="comment">// expose more CSE opportunities.</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordtype">int</span> GlobalSwapBenefits = 0;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../d6/d1b/classllvm_1_1User.html">User</a> *U : Op0-&gt;<a class="code" href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BinOp = <a class="code" href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">dyn_cast</a>&lt;<a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(U);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">if</span> (!BinOp || BinOp-&gt;<a class="code" href="../../d0/d24/classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() != Instruction::Sub)</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="comment">// If Op0 is the first argument, this is not beneficial to swap the</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="comment">// arguments.</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordtype">int</span> LocalSwapBenefits = -1;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordtype">unsigned</span> Op1Idx = 1;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">if</span> (BinOp-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(Op1Idx) == Op0) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      Op1Idx = 0;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      LocalSwapBenefits = 1;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordflow">if</span> (BinOp-&gt;<a class="code" href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(Op1Idx) != Op1)</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    GlobalSwapBenefits += LocalSwapBenefits;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  }</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">return</span> GlobalSwapBenefits &gt; 0;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00035">User.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="../../d6/d1b/classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/User_8h_source.html#l00090">User.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="../../db/d53/classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db7/Type_8h_source.html#l00217">Type.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a88505baf41407782678a5df1702d2d31"><div class="ttname"><a href="../../d0/d24/classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00326">InstrTypes.h:326</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="../../d0/d24/classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="../../dd/d38/classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/Value_8h_source.html#l00273">Value.h:273</a></div></div>
<div class="ttc" id="namespacellvm_html_a3ef25ef75dac918e4dc006b078c49b3e"><div class="ttname"><a href="../../d9/d4a/namespacellvm.html#a3ef25ef75dac918e4dc006b078c49b3e">llvm::dyn_cast</a></div><div class="ttdeci">LLVM_ATTRIBUTE_UNUSED_RESULT std::enable_if&lt; !is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d24/Casting_8h_source.html#l00265">Casting.h:265</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_211fb134ce6a4c3329568c5b3817f0ae.html">llvm</a></li><li class="navelem"><a class="el" href="../../dir_68ef2609279916640dd02c22eb347286.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_5c496d779f2cb0b9e39446f1a293372b.html">Transforms</a></li><li class="navelem"><a class="el" href="../../dir_e1730ad7494653d691c84cfe5a5126ce.html">InstCombine</a></li><li class="navelem"><a class="el" href="../../db/d2f/InstCombineCompares_8cpp.html">InstCombineCompares.cpp</a></li>
    <li class="footer">Generated on Thu Oct 8 2015 11:43:58 for legup-4.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
